import{a7 as y,a8 as v,U as E,b6 as g,ax as U,ey as S,E as e,M as m,c6 as H,ez as P,al as A,ae as f,af as T,aL as c,bI as F,J as G,N as l,L as R,e0 as V,c_ as u,V as C,ah as M,aP as W,aQ as N,aS as _,ai as q,aa as j,as as J,ej as O,a6 as Q,ek as X,x as k,eA as $,b7 as K,ar as Y,en as Z}from"./useUserTheme-cad0e91d.js";import{U as ee,R as te}from"./index-5ae56969.js";import"./dimensions-1922ff5f.js";import"./index-3c387dce.js";import"./index-c20f4d73.js";const{getColor:z}=f,ie=90,ne=50,se=()=>{const t=y(),{colorMode:n}=v(),a=E(),i=g(h=>h.app.ui.sidebarMode),[r,{width:s,height:o}]=U(),x=S({theme:t});return e(m,{ref:r,position:"absolute",top:`${i==="expanded"?ie/2+o/2+12:ne/2+o/2-8}px`,right:`-${s/2}px`,zIndex:1,background:z({theme:t,colorMode:n,type:"background"}),borderWidth:"2px",borderStyle:"solid",borderColor:z({theme:t,colorMode:n,type:"divider"}),borderRadius:"full",sx:{...x},children:e(H,{"aria-label":i==="expanded"?"Collapse navigation-bar":"Expand navigation-bar",colorMode:n,onClick:()=>a(P(i==="expanded"?"collapsed":"expanded")),size:"xs",variant:"icon",children:e(A,{icon:i==="expanded"?"remove":"add"})})})},{getTransitionConfig:oe,getTransitionDelay:ae,getColor:D}=f,re=2,de=()=>{const t=y(),{color:n,colorMode:a}=v(),{isGuest:i}=T(),r=g(d=>d.app.ui.sidebarMode),{data:{info:{name:s,avatar_path:o},credentials:{username:x}}}=g(d=>d.users.data.activeUser),h=S({theme:t}),w=c(ae({theme:t,duration:"slow"})),b=c({...oe({theme:t}),delay:w});return e(ee,{gutter:36,placement:"right-end",renderAction:({isOpen:d})=>e(F,{color:d?n:"gray",colorMode:a,isClickable:!0,isFullWidth:!0,isLight:!d,p:r==="expanded"?2:1,sx:{...h,"*, *::before, *::after":{...h}},children:e(G,{children:l(R,{width:"100%",alignItems:"center",justifyContent:"stretch",spacing:re,children:[e(V,{alt:s,borderRadius:"base",src:{full:o},size:t.space[r==="expanded"?7:4.25]}),e(u,{in:r==="expanded",transition:{enter:{...b}},style:{flex:1},children:l(C,{alignItems:"flex-start",spacing:.5,children:[e(M,{align:"left",color:D({theme:t,colorMode:a,type:"text.primary"}),fontSize:"2xl",fontWeight:"bold",lineHeight:"normal",noOfLines:1,children:s}),e(M,{align:"left",color:D({theme:t,colorMode:a,type:"text.secondary"}),fontSize:"md",lineHeight:"normal",noOfLines:1,children:`@${i?s:x}`})]})})]})})})})},{getTransitionConfig:ce,getTransitionDelay:le}=f,he=()=>{const t=y(),{color:n,colorMode:a}=v(),i=g(o=>o.app.ui.sidebarMode),r=c(le({theme:t,duration:"slow"})),s=c({...ce({theme:t}),delay:r});return e(W,{to:"/authentication/signin",isFullWidth:!0,children:e(N,{color:n,colorMode:a,isFullWidth:!0,children:e(m,{width:"100%",position:"relative",children:l(_,{children:[e(u,{in:i==="expanded",transition:{enter:{...s}},style:{position:"absolute"},children:"Sign in"},"ds-edb-structure-desktop-sidebar-sign-in-button-text"),e(u,{in:i==="collapsed",transition:{enter:{...s}},style:{position:"absolute"},children:e(q,{icon:"login"})},"ds-edb-structure-desktop-sidebar-sign-in-button-icon")]})})})})},{getColor:L}=f,pe=()=>{const t=y(),{colorMode:n}=v(),{isGuest:a}=T(),i=g(o=>o.app.ui.sidebarMode),r=j(),s=S({theme:t});return l(C,{width:"100%",height:"100vh",position:"relative",alignItems:"stretch",justifyContent:"space-between",background:L({theme:t,colorMode:n,type:"background"}),borderRightWidth:"2px",borderRightStyle:"solid",borderRightColor:L({theme:t,colorMode:n,type:"divider"}),p:2,spacing:4,sx:{...s},children:[l(C,{width:"100%",alignItems:"flex-start",divider:e(J,{colorMode:n}),spacing:2,sx:{...s},children:[e(W,{to:"/",isDisabled:r.pathname==="/",sx:{...s},children:e(O,{isClickable:!1,isSquare:!0,size:i==="expanded"?"xl":"md",sx:{...Q.omit(s,"transitionProperty")}})}),e(X,{})]}),a?e(he,{}):e(de,{}),e(se,{})]})},{getTransitionConfig:ue,getTransitionDelay:ge,getTransitionDuration:xe}=f,ve=({children:t})=>{const n=y(),a=j(),{isAuthenticationRoute:i,isGuest:r}=T(),s=g(B=>B.app.ui.sidebarMode),[o,x]=k.useState($[s]),[h,w]=K(),b=c(ge({theme:n,duration:"slower"})*2),d=c(xe({theme:n,duration:"slow"})),p=c({...ue({theme:n}),duration:d}),I=S({theme:n});return Y(()=>x($[s]),[s]),k.useEffect(()=>{setTimeout(()=>w[i?"on":"off"](),500)},[i]),l(R,{width:"100%",minHeight:"100vh",position:"relative",spacing:0,sx:{...I},children:[e(u,{in:!i,style:{width:`${o}px`,position:"fixed",top:0,zIndex:n.zIndices.sticky},transition:{enter:{...p},exit:{...p}},children:e(m,{width:`${o}px`,sx:{...I},children:e(pe,{})})}),l(C,{width:i?"100%":`calc(100% - ${o}px)`,height:"100%",minHeight:"100vh",position:"relative",top:0,left:i?0:`${o}px`,alignItems:"stretch",justifyContent:"stretch",spacing:0,sx:h?{}:{...I},children:[e(m,{width:"100%",height:"100%",minHeight:"inherit",alignItems:"stretch",justifyContent:"stretch",children:t}),!r&&e(u,{in:a.pathname!=="/recently-viewed",transition:{enter:{...p,delay:b},exit:{...p,delay:b}},delay:b,style:{width:"100%"},children:e(te,{})}),e(u,{in:!i,transition:{enter:{...p},exit:{...p}},style:{width:"100%"},children:e(Z,{})})]})]})};export{ve as default};
