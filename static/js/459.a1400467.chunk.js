"use strict";(self.webpackChunkedb=self.webpackChunkedb||[]).push([[459],{75459:function(e,n,t){t.r(n),t.d(n,{default:function(){return pe}});var i=t(61895),o=t(41484),r=t(86617),l=t(7300),s=t(66289),c=t(2716),a=t(20347),d=t(11557),u=t(10731),h=t(10514),f=t.n(h),g=t(54431),v=t.n(g),x=t(24049),p=t(8833),j=t(72233),b=t(89782),m=t(37839),C=t(1285),Z=t(8771),y=function(e){var n=e.id,t=e.isOpen,o=e.onClose,r=e.onCloseToast,s=(0,l.ac)("(max-width: 600px)"),c=(0,i.Z)(s,1)[0],a=(0,p.I0)(),d=(0,j.v9)((function(e){return e.user.data.lists})),u=(0,j.v9)((function(e){return e.user.data.lists.find((function(e){return e.id===n}))}));return(0,Z.jsx)(m.Z,{renderActions:function(e){var n=e.colorMode,t=e.size;return(0,Z.jsx)(b.Z,{color:"red",colorMode:n,onClick:function(){return u&&a((0,C.Wd)(d.filter((function(e){return e.id!==u.id})))),o(),void r()},size:t,children:"Delete"})},title:c?"Delete":"Delete ".concat(u?'"'.concat(u.label,'"'):""," list"),description:"Are you sure you want to delete the ".concat(u?'"'.concat(u.label,'"'):""," list? You will not be able to retrieve this list back!"),isOpen:t,onClose:o})},k=t(94869),S=t(47098),w=t(11428),z=t(9522),M=t(81519),O={label:"",description:""},D=M.Ry().shape({label:M.Z_().required().label("Label"),description:M.Z_().label("Description")}),T=t(43811),L=t(22756),E=t(10939),I=["Action Movies","DC Movies","Leonardo DiCaprio","Classics","Comedy","Mafia Movies & TV Shows","Jennifer Lawrence","Johnny Depp","Angelina Jolie"],_=I[Math.floor(Math.random()*I.length)],A=function(e){var n=e.id,t=e.isOpen,r=e.onClose,c=(0,w.Fg)(),d=(0,l.ac)("(max-width: 600px)"),u=(0,i.Z)(d,1)[0],h=(0,s.qY)(),f=h.isOpen,g=h.onOpen,x=h.onClose,y=(0,p.I0)(),M=(0,j.v9)((function(e){return e.user.data.lists})),I=(0,j.v9)((function(e){return e.user.data.lists.find((function(e){return e.id===n}))})),A=(0,j.v9)((function(e){return e.user.ui.theme.color})),F=(0,S.cI)({defaultValues:O,reValidateMode:"onSubmit",resolver:(0,z.X)(D)}),W=(0,S.cl)({control:F.control}).isDirty;return(0,o.useEffect)((function(){t&&I&&F.reset({label:I.label,description:I.description})}),[t]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(E.Z,{title:u?"Edit List":"Edit ".concat(I?'"'.concat(I.label,'"'):""," List"),renderActions:function(e){var n=e.color,t=e.colorMode,i=e.size;return(0,Z.jsx)(b.Z,{color:n,colorMode:t,isDisabled:!W,onClick:F.handleSubmit((function(e){return function(e){I&&y((0,C.Wd)(M.map((function(n){return n.id===I.id?(0,k.Z)((0,k.Z)({},I),{},{label:e.label,description:(null===e||void 0===e?void 0:e.description)||"",date:v()(new Date).toISOString(),results:(0,k.Z)({},I.results)}):(0,k.Z)({},n)})))),r()}(e)})),size:i,children:u?"Save":"Save List"})},isOpen:t,onClose:function(){W?g():r()},isCentered:!0,size:"lg",children:(0,Z.jsxs)(a.gC,{spacing:3,p:2,children:[(0,Z.jsx)(S.Qr,{control:F.control,name:"label",render:function(e){var n=e.field,t=n.onChange,i=n.value,o=n.name,r=e.fieldState.error;return(0,Z.jsx)(T.Z,{color:A,label:"Label",error:r,name:o,placeholder:'Try "'.concat(_,'"'),onChange:t,isFullWidth:!0,isRequired:!0,value:i})}}),(0,Z.jsx)(S.Qr,{control:F.control,name:"description",render:function(e){var n=e.field,t=n.onChange,i=n.value,o=n.name,r=e.fieldState.error;return(0,Z.jsx)(L.Z,{color:A,label:"Description",error:r,name:o,onChange:t,isFullWidth:!0,value:i,sx:{textarea:{height:c.space[12.5]}}})}})]})}),(0,Z.jsx)(m.Z,{renderActions:function(e){var n=e.color,t=e.colorMode,i=e.size;return(0,Z.jsx)(b.Z,{color:n,colorMode:t,onClick:function(){return x(),void r()},size:i,children:"Close"})},title:"Unsaved data!",description:"Are you sure you want to close the modal, the data inserted will be lost unless you save it!",isOpen:f,onClose:x})]})},F=t(67770),W=t(23890),U=t(1459),q=t(47779),N=t(24808),Y=t(47690),R=function(e){var n=e.isDisabled,t=void 0!==n&&n,i=e.isSelected,o=void 0!==i&&i,r=e.onClick,l=(0,w.Fg)(),s=(0,U.If)().colorMode,c=(0,j.v9)((function(e){return e.user.ui.theme.color})),d="lg",u=(0,Y.Z)(l,{color:c,isFullWidth:!1,isOnlyTab:!1,isSelected:o,size:d}),h="".concat((0,N.oh)(d,l),"px");return(0,Z.jsx)(a.xu,{"aria-disabled":t,onClick:o?void 0:function(){return r()},sx:(0,k.Z)({},f().merge(u.tab.default,u.tab.lg,u[s])),_disabled:(0,k.Z)({},f().merge(u.disabled)),children:(0,Z.jsxs)(a.Ug,{width:"100%",alignItems:"inherit",justifyContent:"inherit",spacing:(0,N.Kz)(d),children:[(0,Z.jsx)(q.Z,{icon:"grid_on",type:o?"filled":"outlined",fontSize:h}),(0,Z.jsx)(a.M5,{children:"Lists"})]})})},V=t(54915),B=t(54077),J=t(35639),P=t(27590),H=function(e){var n=e.activeTab,t=e.lists,o=e.onListsClick,r=(0,W.h4)(),l=(0,i.Z)(r,2),s=l[0],c=l[1].height,a=(0,j.v9)((function(e){return e.user.ui.theme.color}));return(0,Z.jsxs)(J.Z,{ref:s,children:[(0,Z.jsx)(R,{isSelected:f().isNil(n),onClick:o}),(0,Z.jsx)(B.Z,{orientation:"vertical",height:"".concat(c,"px"),mx:2}),(0,Z.jsx)(P.Z,{color:a,isActiveForced:!0,size:"lg",children:f().orderBy(t,(function(e){return v()(e.date)}),["desc"]).map((function(e){return{label:e.label,renderRight:e.results.movies.length+e.results.tv.length>0?function(n){var t=n.isSelected,i=n.size;return(0,Z.jsx)(d.pT,{in:!0,unmountOnExit:!0,children:(0,Z.jsx)(V.Z,{color:t?a:"gray",isLight:!t,size:i,children:(0,Z.jsx)(F.ZP,{duration:1,end:e.results.movies.length||0+e.results.tv.length||0})})})}:void 0}}))})]})},Q=t(21277),K=function(e){var n=(0,U.If)().colorMode,t=e.totalMovies,i=e.totalTvs,o=[{label:"Total",number:t+i},{label:"Movies",number:t},{label:"TV Shows",number:i}];return(0,Z.jsx)(Q.pr,{width:"100%",border:"solid2",borderColor:"gray.".concat("light"===n?200:700),borderRadius:"base",p:1,children:(0,Z.jsx)(a.Ug,{width:"100%",justifyContent:"space-between",divider:(0,Z.jsx)(a.xu,{width:"2px",height:"44px",backgroundColor:"gray.".concat("light"===n?200:700)}),spacing:1,children:o.map((function(e,t){return(0,Z.jsx)(Q.kN,{justifyContent:"center",children:(0,Z.jsxs)(a.gC,{spacing:0,children:[(0,Z.jsx)(Q.Jf,{color:"gray.".concat("light"===n?900:50),fontSize:"2xl",lineHeight:"normal",children:e.number}),(0,Z.jsx)(Q.dw,{color:"gray.".concat("light"===n?400:500),fontSize:"xs",whiteSpace:"nowrap",textTransform:"uppercase",children:e.label})]})},t)}))})})},X=t(51880),G=function(e){var n=e.id,t=e.isOpen,i=e.onEdit,o=e.onDelete,r=e.onClose,l=(0,U.If)().colorMode,s=(0,j.v9)((function(e){return e.user.data.lists.find((function(e){return e.id===n}))}));return(0,Z.jsx)(E.Z,{title:(0,Z.jsxs)(a.gC,{alignItems:"flex-start",spacing:0,children:[(0,Z.jsx)(a.xv,{fontSize:"md",fontWeight:"semibold",color:"gray.".concat("light"===l?900:50),children:"".concat(null!==s&&void 0!==s&&s.label?'"'.concat(s.label,'"'):""," List")}),(0,Z.jsx)(a.xv,{align:"left",color:"gray.".concat("light"===l?400:500),fontSize:"xs",fontWeight:"normal",children:"".concat((s?(null===s||void 0===s?void 0:s.results.movies.length)+(null===s||void 0===s?void 0:s.results.tv.length):0)>0?"Updated":"Created"," ").concat(v()(null===s||void 0===s?void 0:s.date).isSame(v()(),"day")?v()(null===s||void 0===s?void 0:s.date).fromNow():v()(null===s||void 0===s?void 0:s.date).format("LL"))})]}),renderActions:function(e){var n=e.colorMode,t=e.size;return(0,Z.jsxs)(a.Ug,{spacing:2,children:[(0,Z.jsx)(b.Z,{colorMode:n,renderLeft:function(e){var n=e.fontSize;return(0,Z.jsx)(q.Z,{icon:"edit",type:"outlined",fontSize:n})},onClick:function(){return i()},size:t,children:"Edit"}),(0,Z.jsx)(b.Z,{color:"red",colorMode:n,renderLeft:function(e){var n=e.fontSize;return(0,Z.jsx)(q.Z,{icon:"delete_outline",type:"outlined",fontSize:n})},onClick:function(){return o()},size:t,children:"Delete"})]})},isOpen:t,onClose:r,isCentered:!0,size:"lg",children:(0,Z.jsxs)(a.gC,{width:"100%",spacing:2,p:2,children:[null!==s&&void 0!==s&&s.description?(0,Z.jsx)(X.Z,{isFullWidth:!0,children:{header:{title:"Description"},body:(0,Z.jsx)(a.xv,{align:"left",color:"gray.".concat("light"===l?900:50),fontSize:"lg",fontWeight:"normal",children:s.description})}}):null,(0,Z.jsx)(K,{totalMovies:(null===s||void 0===s?void 0:s.results.movies.length)||0,totalTvs:(null===s||void 0===s?void 0:s.results.tv.length)||0})]})})},$=t(8126),ee=t(55550),ne=t(55461),te=["color","colorMode","isChecked","isDisabled"],ie=function(e){var n=(0,w.Fg)(),t=(0,U.If)().colorMode,i=e.color,o=e.colorMode,r=e.isChecked,l=void 0!==r&&r,s=e.isDisabled,c=void 0!==s&&s,a=(0,ee.Z)(e,te),d=function(e,n){var t=n.color,i=void 0===t?"gray":t,o=n.isChecked,r=void 0!==o&&o,l=n.isDisabled;return{radio:{opacity:void 0!==l&&l?.5:1,transition:"".concat(e.transition.duration.faster," ").concat(e.transition.easing["ease-out"]),"&:focus":{boxShadow:"none !important"},"&.chakra-radio__control":{width:e.space[3],height:e.space[3],boxShadow:"none !important",transition:"".concat(e.transition.duration.faster," ").concat(e.transition.easing["ease-out"])},"& .edb-icon":{transition:"".concat(e.transition.duration.faster," ").concat(e.transition.easing["ease-out"])}},light:{"&.chakra-radio__control":{background:r?"".concat(i,".500"):"transparent",borderColor:r?"".concat(i,".500"):"gray.400",color:r?"gray.50":"transparent"},"&:hover":{"&.chakra-radio__control":{background:r?"".concat(i,".600"):"transparent",borderColor:r?"".concat(i,".600"):"gray.500",color:r?"gray.50":"transparent"}}},dark:{"&.chakra-radio__control":{background:r?"".concat(i,".400"):"transparent",borderColor:r?"".concat(i,".400"):"gray.500",color:r?"gray.900":"transparent"},"&:hover":{"&.chakra-radio__control":{background:r?"".concat(i,".300"):"transparent",borderColor:r?"".concat(i,".300"):"gray.400",color:r?"gray.900":"transparent"}}}}}(n,{color:i,isChecked:l,isDisabled:c}),u=o||t;return(0,Z.jsx)(ne.Y8,(0,k.Z)((0,k.Z)({},a),{},{color:i,isChecked:l,isDisabled:c,sx:(0,k.Z)({},f().merge(d.radio,d[u]))}))},oe=function(e){var n=(0,w.Fg)(),t=(0,U.If)().colorMode,o=(0,W.h4)(),r=(0,i.Z)(o,2),l=r[0],c=r[1].width,d=e.id,u=e.label,h=e.results,f=e.isSelected,g=void 0!==f&&f,v=e.onSelected,x=e.onClick,p=(0,j.v9)((function(e){return e.user.ui.theme.color})),b=(0,s.kt)(),m=(0,i.Z)(b,2),C=m[0],y=m[1],k=h.movies.length,S=h.tv.length,z="".concat(n.transition.duration.faster," ").concat(n.transition.easing["ease-out"]);return(0,Z.jsx)($.Z,{ref:l,color:g?p:"gray",isFullWidth:!0,isFixed:C,isClickable:!0,onClick:C?void 0:function(){return x(d)},sx:{back:{height:"".concat(c,"px")}},children:(0,Z.jsxs)(a.gC,{position:"relative",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",spacing:0,children:[(0,Z.jsx)(a.xu,{position:"absolute",top:n.space[2],left:n.space[2],children:(0,Z.jsx)(ie,{color:p,isChecked:g,onMouseEnter:function(){return y.on()},onMouseLeave:function(){return y.off()},onClick:function(){return v(d)}})}),(0,Z.jsx)(a.xv,{align:"center",color:g?"".concat(p,".400"):"gray.".concat("light"===t?900:50),fontSize:"xl",fontWeight:"semibold",isTruncated:!0,overflow:"hidden",whiteSpace:"nowrap",sx:{transition:z},children:u}),(0,Z.jsx)(a.xv,{align:"center",color:g?"".concat(p,".400"):"gray.".concat("light"===t?400:500),fontSize:"sm",fontWeight:"400",textTransform:"capitalize",isTruncated:!0,overflow:"hidden",whiteSpace:"nowrap",sx:{transition:z},children:"".concat(["".concat(k," movie").concat(0===k||k>1?"s":""),"".concat(S," TV show").concat(0===S||S>1?"s":"")].filter((function(e){return e})).join(" \u2022 "))})]})})},re=function(e){var n=e.lists,t=e.selectedListID,i=e.onSelected,o=e.onOpenList;return(0,Z.jsx)(a.MI,{width:"100%",columns:[1,2,4,4,5,6],spacing:2,children:f().orderBy(n,(function(e){return v()(e.date)}),["desc"]).map((function(e,n){return(0,Z.jsx)(oe,(0,k.Z)((0,k.Z)({},e),{},{isSelected:t===e.id,onSelected:function(){return i(e.id)},onClick:function(){return o(n)}}),e.id)}))})},le=t(23698),se=t(26668),ce=t(87482),ae=t(26277),de=t(87714),ue=t(40939),he=function(e){var n=e.movies,t=e.tv,r=e.renderActions,l=(0,o.useState)(),s=(0,i.Z)(l,2),c=s[0],d=s[1];return(0,o.useEffect)((function(){d(void 0)}),[n,t]),(0,Z.jsx)(le.Z,{activeTab:c,onChange:function(e){return d(e)},children:(0,Z.jsxs)(a.gC,{width:"100%",divider:(0,Z.jsx)(B.Z,{orientation:"horizontal"}),spacing:2,children:[(0,Z.jsx)(ce.Z,{mediaTypes:["movie","tv"],renderActions:r,activeTab:c,total:{movie:n.length,tv:t.length}}),f().isNil(c)?(0,Z.jsx)(ae.Z,{mediaTypes:function(){var e=[];return n.length>0&&e.push("movie"),t.length>0&&e.push("tv"),e}(),label:"Oh no! \ud83d\ude22",description:"Please add an item to the list to be able to view it here.",onSetMediaType:function(e){switch(e){case"movie":return void d(0);case"tv":return void d(1)}}}):(0,Z.jsxs)(se.Z,{children:[(0,Z.jsx)(de.Z,{movies:n}),(0,Z.jsx)(ue.Z,{shows:t})]})]})})},fe=t(82170),ge=function(e){var n=(0,U.If)().colorMode,t=(0,l.ac)("(max-width: 600px)"),o=(0,i.Z)(t,1)[0],r=e.list,s=e.onEdit,c=e.onDelete,d=e.onClose;return(0,Z.jsxs)(a.Ug,{backgroundColor:"light"===n?"gray.700":"gray.200",borderRadius:"full",boxShadow:"lg",spacing:2,px:2,py:1.5,mb:1.5,children:[(0,Z.jsx)(a.Ug,{spacing:.25,children:(0,Z.jsx)(a.xv,{align:"left",color:"gray.".concat("light"===n?50:900),fontSize:o?"sm":"md",fontWeight:"normal",whiteSpace:"nowrap",children:"".concat(r?'"'.concat(r.label,'"'):""," list")})}),(0,Z.jsxs)(a.Ug,{spacing:1,children:[o?(0,Z.jsx)(fe.Z,{"aria-label":"Edit selected list",colorMode:"light"===n?"dark":"light",onClick:function(){return s()},size:"sm",children:(0,Z.jsx)(q.Z,{icon:"edit",type:"outlined"})}):(0,Z.jsx)(b.Z,{colorMode:"light"===n?"dark":"light",renderLeft:function(e){var n=e.fontSize;return(0,Z.jsx)(q.Z,{icon:"edit",type:"outlined",fontSize:n})},onClick:function(){return s()},children:"Edit"}),o?(0,Z.jsx)(fe.Z,{"aria-label":"Delete selected list",color:"red",colorMode:"light"===n?"dark":"light",onClick:function(){return c()},size:"sm",children:(0,Z.jsx)(q.Z,{icon:"delete_outline",type:"outlined"})}):(0,Z.jsx)(b.Z,{color:"red",colorMode:"light"===n?"dark":"light",renderLeft:function(e){var n=e.fontSize;return(0,Z.jsx)(q.Z,{icon:"delete_outline",type:"outlined",fontSize:n})},onClick:function(){return c()},children:"Delete"})]}),(0,Z.jsx)(fe.Z,{"aria-label":"Close",colorMode:"light"===n?"dark":"light",onClick:function(){return d()},size:o?"sm":"md",variant:"icon",children:(0,Z.jsx)(q.Z,{icon:"close",type:"outlined"})})]})},ve=t(79829),xe=t(87929),pe=function(){var e=(0,l.ac)("(max-width: 600px)"),n=(0,i.Z)(e,1)[0],t=(0,s.qY)(),h=t.isOpen,g=t.onOpen,p=t.onClose,m=(0,s.qY)(),C=m.isOpen,k=m.onOpen,S=m.onClose,w=(0,s.qY)(),z=w.isOpen,M=w.onOpen,O=w.onClose,D=(0,s.qY)(),T=D.isOpen,L=D.onOpen,E=D.onClose,I=(0,r.TH)(),_=(0,c.pm)(),F=(0,j.v9)((function(e){return e.user.ui.theme.color})),W=(0,j.v9)((function(e){return e.user.data.lists})),U=(0,o.useState)(),N=(0,i.Z)(U,2),Y=N[0],R=N[1],V=(0,o.useState)(),J=(0,i.Z)(V,2),P=J[0],Q=J[1],K=function(e){R(Y&&Y===e?void 0:e)},X=function(){_.closeAll(),p(),S(),O(),E(),Q(void 0),R(void 0)},$=function(){_.closeAll(),R(void 0)};(0,o.useEffect)((function(){f().isNil(P)||$()}),[P]),(0,o.useEffect)((function(){_.closeAll(),f().isNil(P)&&Y&&_({duration:null,isClosable:!0,position:"bottom",variant:"solid",render:function(){return(0,Z.jsx)(ge,{list:W.find((function(e){return e.id===Y})),onEdit:M,onDelete:k,onClose:$})}})}),[Y]),(0,o.useEffect)((function(){0===W.length&&X()}),[W]);return(0,o.useEffect)((function(){"/lists"===I.pathname&&function(){var e=String(I.hash).replace("#","");e&&(W.some((function(n){return n.id===e}))?Q(W.findIndex((function(n){return n.id===e}))):Q(void 0))}()}),[I.hash]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(xe.Z,{title:"Lists",children:{actions:(0,Z.jsx)(b.Z,{color:h?F:"gray",onClick:function(){return g()},isFullWidth:n,variant:"outlined",children:"Create new list"}),body:(0,Z.jsx)(le.Z,{activeTab:P,onChange:function(e){return Q(e)},children:(0,Z.jsxs)(a.gC,{width:"100%",divider:W&&W.length>0?(0,Z.jsx)(B.Z,{orientation:"horizontal"}):void 0,spacing:2,p:2,children:[(0,Z.jsx)(d.UO,{in:W&&W.length>0,unmountOnExit:!0,style:{width:"100%"},children:(0,Z.jsx)(H,{activeTab:P,lists:W,onListsClick:X})}),0===W.length?(0,Z.jsx)(ve.Z,{hasIllustration:!0,label:"Oh no! \ud83d\ude22",description:"Please add a list to be able to add items to lists.",size:"xl",variant:"outlined"}):(0,Z.jsx)(u.M,{exitBeforeEnter:!0,initial:!1,children:f().isNil(P)?(0,Z.jsx)(a.M5,{as:d.pT,width:"100%",in:!0,unmountOnExit:!0,children:(0,Z.jsx)(re,{lists:W,selectedListID:Y,onSelected:K,onOpenList:function(e){Q(e)}})},"list-picker"):(0,Z.jsx)(a.M5,{as:d.pT,width:"100%",in:!0,unmountOnExit:!0,children:(0,Z.jsx)(se.Z,{children:f().orderBy(W,(function(e){return v()(e.date)}),["desc"]).map((function(e){return(0,Z.jsx)(he,{movies:e.results.movies,tv:e.results.tv,renderActions:function(){return(0,Z.jsx)(fe.Z,{"aria-label":"Open Information modal",onClick:function(){K(e.id),L()},variant:"outlined",children:(0,Z.jsx)(q.Z,{icon:"info",type:T?"filled":"outlined"})})}},e.id)}))})},"list-tab-panels")})]})})}}),(0,Z.jsx)(x.Z,{isOpen:h,onSubmit:function(){return Q(0)},onClose:p}),W&&W.length>0&&Y?(0,Z.jsx)(y,{id:Y,isOpen:C,onClose:S,onCloseToast:X}):null,W&&W.length>0&&Y?(0,Z.jsx)(A,{id:Y,isOpen:z,onClose:O}):null,W&&W.length>0&&Y?(0,Z.jsx)(G,{id:Y,isOpen:T,onEdit:function(){return M()},onDelete:function(){return k()},onClose:E}):null]})}}}]);
//# sourceMappingURL=459.a1400467.chunk.js.map