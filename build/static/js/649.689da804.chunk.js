"use strict";(self.webpackChunkedb=self.webpackChunkedb||[]).push([[649],{89649:function(o,e,r){r.r(e),r.d(e,{default:function(){return le}});var t=r(95292),n=r(13556),i=r(52326),a=r(41484),l=r(96215),c=r(8833),s=r(86617),d=r(11428),u=r(1459),h=r(66289),g=r(20347),f=r(9522),m=r(5642),x=r.n(m),p=r(21672),v=r.n(p),b=r(10514),C=r(40783),j=r(74304),w=r(16482),y=r(89782),Z=r(51880),M=r(87957),k=r(55556),S={username:"",password:"",firstName:"",lastName:"",bio:""},z={movie:[],tv:[]},B={color:"light_blue",colorMode:"light"},T={avatar_path:"",background_path:""},I=r(8771),N=function(o){var e=o.form,r=o.color,t=o.colorMode,n=e.watch("username"),i=e.watch("password");return(0,I.jsx)(Z.Z,{colorMode:t,isFullWidth:!0,variant:"outlined",children:{header:{title:"Credentials",actions:(0,I.jsx)(y.Z,{color:r,colorMode:t,isDisabled:((0,b.isNil)(n)||(0,b.isEmpty)(n))&&((0,b.isNil)(i)||(0,b.isEmpty)(i)),onClick:function(){return e.setValue("username",S.username,{shouldDirty:!1}),void e.setValue("password",S.password,{shouldDirty:!1})},size:"sm",variant:"text",children:"Clear"})},body:(0,I.jsxs)(g.gC,{width:"100%",spacing:2,children:[(0,I.jsx)(l.Qr,{control:e.control,name:"username",render:function(o){var e=o.field,n=o.fieldState;return(0,I.jsx)(k.Z,{field:e,fieldState:n,color:r,colorMode:t})}}),(0,I.jsx)(l.Qr,{control:e.control,name:"password",render:function(o){var e=o.field,n=o.fieldState;return(0,I.jsx)(M.Z,{field:e,fieldState:n,color:r,colorMode:t})}})]})}})},D=r(22756),R=function(o){var e=o.form,r=o.color,t=o.colorMode,n=(0,d.Fg)();return(0,I.jsx)(l.Qr,{control:e.control,name:"bio",render:function(o){var e=o.field,i=e.onChange,a=e.onBlur,l=e.value,c=e.name,s=o.fieldState.error;return(0,I.jsx)(D.Z,{color:r,colorMode:t,label:"Biography",error:s,name:c,placeholder:"My name is John Smith ...",onBlur:a,onChange:i,isFullWidth:!0,value:l,sx:{textarea:{height:n.space[12.5]}}})}})},E=r(7300),_=r(43811),L=function(o){var e=o.form,r=o.color,t=o.colorMode,n=(0,E.ac)("(max-width: 600px)"),a=(0,i.Z)(n,1)[0];return(0,I.jsxs)(g.MI,{width:"100%",columns:a?1:2,spacing:2,children:[(0,I.jsx)(l.Qr,{control:e.control,name:"firstName",render:function(o){var e=o.field,n=e.onChange,i=e.onBlur,a=e.value,l=e.name,c=o.fieldState.error;return(0,I.jsx)(_.Z,{color:r,colorMode:t,label:"First name",error:c,name:l,placeholder:"John",onBlur:i,onChange:n,isFullWidth:!0,isRequired:!0,value:a})}}),(0,I.jsx)(l.Qr,{control:e.control,name:"lastName",render:function(o){var e=o.field,n=e.onChange,i=e.onBlur,a=e.value,l=e.name,c=o.fieldState.error;return(0,I.jsx)(_.Z,{color:r,colorMode:t,label:"Last name",error:c,name:l,placeholder:"Smith",onBlur:i,onChange:n,isFullWidth:!0,isRequired:!0,value:a})}})]})},V=function(o){var e=o.form,r=o.color,t=o.colorMode,n=e.watch("firstName"),i=e.watch("lastName"),a=e.watch("bio");return(0,I.jsx)(Z.Z,{colorMode:t,isFullWidth:!0,variant:"outlined",children:{header:{title:"Information",actions:(0,I.jsx)(y.Z,{color:r,colorMode:t,isDisabled:((0,b.isNil)(n)||(0,b.isEmpty)(n))&&((0,b.isNil)(i)||(0,b.isEmpty)(i))&&((0,b.isNil)(a)||(0,b.isEmpty)(a)),onClick:function(){return e.setValue("firstName",S.firstName,{shouldDirty:!1}),e.setValue("lastName",S.lastName,{shouldDirty:!1}),void e.setValue("bio",S.bio,{shouldDirty:!1})},size:"sm",variant:"text",children:"Clear"})},body:(0,I.jsxs)(g.gC,{width:"100%",spacing:2,children:[(0,I.jsx)(L,{form:e,color:r,colorMode:t}),(0,I.jsx)(R,{form:e,color:r,colorMode:t})]})}})},O=["form"],W=function(o){var e=o.form,r=(0,w.Z)(o,O);return(0,I.jsxs)(g.gC,{width:"100%",spacing:4,children:[(0,I.jsx)(N,(0,n.Z)((0,n.Z)({},r),{},{form:e})),(0,I.jsx)(V,(0,n.Z)((0,n.Z)({},r),{},{form:e}))]})},F=r(23890),A=r(751),U=r.n(A),q=r(52459),G=r.n(q),H=r(47779),P=r(70699),Q=U()(25,200,5),$=function(o){var e=o.color,r=o.colorMode,t=o.id,n=o.name,i=o.isActive,a=void 0!==i&&i,l=o.isLoading,c=void 0===l||l,s=o.onClick,d=(0,h.Bs)(G()(Q)||100);return(0,I.jsx)(y.Z,{color:a?e:"gray",colorMode:r,renderRight:a?function(o){var e=o.fontSize;return(0,I.jsx)(H.Z,{icon:"check",type:"outlined",fontSize:e})}:void 0,onClick:s?function(){return s({id:t,name:n})}:void 0,isDisabled:c,variant:"outlined",children:(0,I.jsx)(P.Z,{colorMode:r,width:c?"".concat(d,"px"):"auto",fontSize:"sm",isLoaded:!c,children:n||"Genre"})})},Y=r(72233),J=r(54077),K=r(79829),X=function(o){var e=o.color,r=o.colorMode,a=o.form,c=o.mediaType,s=(0,E.ac)("(max-width: 600px)"),d=(0,i.Z)(s,1)[0],u=(0,Y.v9)((function(o){return("movie"===c?o.options.data.genres.movie:o.options.data.genres.tv)||[]})),h=a.watch("movie"===c?"movie":"tv")||[],f=(0,F.h4)(),m=(0,i.Z)(f,2),x=m[0],p=m[1].height,v=function(o){var e="movie"===c?"movie":"tv";h.some((function(e){return e.id===o.id}))?a.setValue(e,h.filter((function(e){return e.id!==o.id})),{shouldDirty:!0}):a.setValue(e,[].concat((0,t.Z)(h),[o]),{shouldDirty:!0})};return(0,I.jsx)(l.Qr,{control:a.control,name:"movie"===c?"movie":"tv",render:function(o){var i=o.field.value;return(0,I.jsx)(Z.Z,{colorMode:r,isFullWidth:!0,children:{header:{title:"movie"===c?"Movie Genres":"TV Show Genres",actions:(0,I.jsxs)(g.Ug,{ref:x,divider:(0,I.jsx)(J.Z,{colorMode:r,orientation:"vertical",height:"".concat(p,"px")}),children:[(0,I.jsx)(y.Z,{color:e,colorMode:r,isDisabled:(0,b.isNil)(u)||(0,b.isEmpty)(u)||0===i.length||i.length===u.length,onClick:function(){return a.setValue("movie"===c?"movie":"tv",z["movie"===c?"movie":"tv"],{shouldDirty:!0})},size:"sm",variant:"text",children:"Clear"}),(0,I.jsx)(y.Z,{color:e,colorMode:r,isDisabled:(0,b.isNil)(u)||(0,b.isEmpty)(u),onClick:function(){return function(){var o="movie"===c?"movie":"tv";h.length===u.length?a.setValue(o,[],{shouldDirty:!0}):a.setValue(o,(0,t.Z)(u),{shouldDirty:!0})}()},size:"sm",variant:"text",children:"".concat(h.length===u.length?"Remove":"Select"," All")})]})},body:(0,I.jsx)(g.Eq,{width:"100%",spacing:d?1:1.5,children:(0,b.isNil)(u)||(0,b.isEmpty)(u)?(0,I.jsx)(g.Uc,{width:"100%",children:(0,I.jsx)(K.Z,{color:e,colorMode:r,hasIllustration:!1,label:"Oh no!",description:"Failed to find any genres!",size:"sm",variant:"transparent"})}):(0,b.isNil)(u)||(0,b.isEmpty)(u)?(0,b.range)(0,15).map((function(o,t){return(0,I.jsx)(g.Uc,{children:(0,I.jsx)($,{color:e,colorMode:r,isLoading:!0})},t)})):u.map((function(o){return(0,I.jsx)(g.Uc,{children:(0,I.jsx)($,(0,n.Z)((0,n.Z)({},o),{},{color:e,colorMode:r,isActive:i.some((function(e){return e.id===o.id})),isLoading:!1,onClick:v}))},o.id)}))})}})}})},oo=["form"],eo=function(o){var e=o.form,r=(0,w.Z)(o,oo);return(0,I.jsxs)(g.gC,{width:"100%",spacing:4,children:[(0,I.jsx)(X,(0,n.Z)((0,n.Z)({},r),{},{form:e,mediaType:"movie"})),(0,I.jsx)(X,(0,n.Z)((0,n.Z)({},r),{},{form:e,mediaType:"tv"}))]})},ro=r(31317),to=r(2494),no=r.n(to),io=r(42237),ao=r(9238),lo=r(13023),co=r(34245),so=r(23031),uo=r.n(so),ho=r(83094),go=function(o){return new Promise((function(e,r){var t=new Image;t.addEventListener("load",(function(){return e(t)})),t.addEventListener("error",(function(o){return r(o)})),t.src=o}))},fo=function(o){return o*Math.PI/180},mo=function(o,e,r){var t=fo(r);return{width:Math.abs(Math.cos(t)*o)+Math.abs(Math.sin(t)*e),height:Math.abs(Math.sin(t)*o)+Math.abs(Math.cos(t)*e)}},xo=function(){var o=(0,co.Z)(uo().mark((function o(e,r){var t,n,i,a,l,c,s,d,u,h,g=arguments;return uo().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=g.length>2&&void 0!==g[2]?g[2]:0,n=g.length>3&&void 0!==g[3]?g[3]:{horizontal:!1,vertical:!1},o.next=4,go(e);case 4:if(i=o.sent,a=document.createElement("canvas"),l=a.getContext("2d")){o.next=9;break}return o.abrupt("return",null);case 9:return c=fo(t),s=mo(i.width,i.height,t),d=s.width,u=s.height,a.width=d,a.height=u,l.translate(d/2,u/2),l.rotate(c),l.scale(n.horizontal?-1:1,n.vertical?-1:1),l.translate(-i.width/2,-i.height/2),l.drawImage(i,0,0),h=l.getImageData(r.x,r.y,r.width,r.height),a.width=r.width,a.height=r.height,l.putImageData(h,0,0),o.abrupt("return",a.toDataURL("image/jpeg"));case 23:case"end":return o.stop()}}),o)})));return function(e,r){return o.apply(this,arguments)}}(),po=r(82170),vo=r(21319),bo=function(o){var e=o.colorMode,r=o.isActive,t=void 0!==r&&r,n=o.onToggle,a=(0,h.kt)(),l=(0,i.Z)(a,2),c=l[0],s=l[1];return(0,I.jsx)(vo.Z,{"aria-label":t?"Turn off Grid (Tooltip)":"Turn on Grid (Tooltip)",colorMode:e,isOpen:c,placement:"top",label:t?"Turn off Grid":"Turn on Grid",children:(0,I.jsx)(po.Z,{"aria-label":t?"Turn off Grid (Tooltip)":"Turn on Grid (Tooltip)",colorMode:e,onClick:function(){return n()},onMouseEnter:function(){return s.on()},onMouseLeave:function(){return s.off()},variant:"icon",children:(0,I.jsx)(H.Z,{icon:t?"grid_on":"grid_off",type:"outlined"})})})},Co=function(o){var e=o.colorMode,r=o.rotation,t=o.onRotation,n=(0,h.kt)(),a=(0,i.Z)(n,2),l=a[0],c=a[1],s=(0,h.kt)(),d=(0,i.Z)(s,2),u=d[0],f=d[1],m=function(o){switch(r){case 0:case 360:t("left"===o?270:90);break;case 90:t("left"===o?0:180);break;case 180:t("left"===o?90:270);break;case 270:t("left"===o?180:360)}};return(0,I.jsxs)(g.M5,{children:[(0,I.jsx)(vo.Z,{"aria-label":"Rotate Left (Tooltip)",colorMode:e,isOpen:l,placement:"top",label:"Rotate Left",children:(0,I.jsx)(po.Z,{"aria-label":"Rotate Left (Tooltip)",colorMode:e,onClick:function(){return m("left")},onMouseEnter:function(){return c.on()},onMouseLeave:function(){return c.off()},variant:"icon",children:(0,I.jsx)(H.Z,{icon:"rotate_left",type:"outlined"})})}),(0,I.jsx)(vo.Z,{"aria-label":"Rotate Right (Tooltip)",colorMode:e,isOpen:u,placement:"top",label:"Rotate Right",children:(0,I.jsx)(po.Z,{"aria-label":"Rotate Right (Tooltip)",colorMode:e,onClick:function(){return m("right")},onMouseEnter:function(){return f.on()},onMouseLeave:function(){return f.off()},variant:"icon",children:(0,I.jsx)(H.Z,{icon:"rotate_right",type:"outlined"})})})]})},jo=function(o){var e=o.colorMode,r=o.zoom,t=o.onSetZoom,n=(0,h.kt)(),a=(0,i.Z)(n,2),l=a[0],c=a[1],s=(0,h.kt)(),d=(0,i.Z)(s,2),u=d[0],f=d[1];return(0,I.jsxs)(g.M5,{children:[(0,I.jsx)(vo.Z,{"aria-label":"Zoom Out (Tooltip)",colorMode:e,isOpen:r!==Zo&&u,isDisabled:r===Zo,placement:"top",label:"Zoom Out",children:(0,I.jsx)(po.Z,{"aria-label":"Zoom Out (Tooltip)",colorMode:e,isDisabled:r===Zo,onClick:function(){return t(r-.25)},onMouseEnter:function(){return f.on()},onMouseLeave:function(){return f.off()},variant:"icon",children:(0,I.jsx)(H.Z,{icon:"zoom_out",type:"outlined"})})}),(0,I.jsx)(vo.Z,{"aria-label":"Zoom In (Tooltip)",colorMode:e,isOpen:r!==Mo&&l,isDisabled:r===Mo,placement:"top",label:"Zoom In",children:(0,I.jsx)(po.Z,{"aria-label":"Zoom In (Tooltip)",colorMode:e,isDisabled:r===Mo,onClick:function(){return t(r+.25)},onMouseEnter:function(){return c.on()},onMouseLeave:function(){return c.off()},variant:"icon",children:(0,I.jsx)(H.Z,{icon:"zoom_in",type:"outlined"})})})]})},wo=function(o){var e=(0,E.ac)("(max-width: 600px)"),r=(0,i.Z)(e,1)[0],t=(0,F.h4)(),n=(0,i.Z)(t,2),a=n[0],l=n[1].height,c=o.renderActions,s=o.colorMode,d=o.isActive,u=o.zoom,h=o.rotation,f=o.onToggle,m=o.onSetZoom,x=o.onRotation,p=o.onClose;return r?(0,I.jsxs)(g.gC,{ref:a,width:"100%",justifyContent:"space-between",divider:(0,I.jsx)(J.Z,{colorMode:s,orientation:"vertical",height:"".concat(l,"px")}),spacing:2,children:[(0,I.jsxs)(g.Ug,{alignItems:"center",justifyContent:"center",children:[(0,I.jsx)(bo,{colorMode:s,isActive:d,onToggle:f}),(0,I.jsx)(jo,{colorMode:s,zoom:u,onSetZoom:m}),(0,I.jsx)(Co,{colorMode:s,rotation:h,onRotation:x})]}),(0,I.jsxs)(g.Ug,{alignItems:"center",justifyContent:"space-between",children:[(0,I.jsx)(y.Z,{colorMode:s,onClick:function(){return p()},variant:"outlined",children:"Cancel"}),c?c({}):null]})]}):(0,I.jsxs)(g.Ug,{ref:a,width:"100%",justifyContent:"space-between",divider:(0,I.jsx)(J.Z,{colorMode:s,orientation:"vertical",height:"".concat(l,"px")}),spacing:2,children:[(0,I.jsx)(y.Z,{colorMode:s,onClick:function(){return p()},variant:"outlined",children:"Cancel"}),(0,I.jsxs)(g.Ug,{alignItems:"center",justifyContent:"center",flex:1,children:[(0,I.jsx)(bo,{colorMode:s,isActive:d,onToggle:f}),(0,I.jsx)(jo,{colorMode:s,zoom:u,onSetZoom:m}),(0,I.jsx)(Co,{colorMode:s,rotation:h,onRotation:x})]}),c?c({}):null]})},yo=r(10939),Zo=1,Mo=5,ko=function(o){var e=o.color,r=o.colorMode,t=o.type,n=o.image,l=o.isOpen,c=void 0!==l&&l,s=o.onCrop,u=o.onClose,f=(0,d.Fg)(),m=(0,E.ac)("(max-width: 600px)"),x=(0,i.Z)(m,1)[0],p=(0,a.useState)({x:0,y:0}),v=(0,i.Z)(p,2),C=v[0],j=v[1],w=(0,a.useState)(0),Z=(0,i.Z)(w,2),M=Z[0],k=Z[1],S=(0,a.useState)(Zo),z=(0,i.Z)(S,2),B=z[0],T=z[1],N=(0,a.useState)(null),D=(0,i.Z)(N,2),R=D[0],_=D[1],L=(0,h.kt)(),V=(0,i.Z)(L,2),O=V[0],W=V[1],F=(0,a.useCallback)((0,b.debounce)((function(o,e){_(e)}),500),[]),A=(0,a.useCallback)((0,co.Z)(uo().mark((function o(){var e;return uo().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!n||!R){o.next=5;break}return o.next=3,xo(n,R,M);case 3:(e=o.sent)&&(s(e),u());case 5:case"end":return o.stop()}}),o)}))),[n,R,M]);return(0,I.jsx)(yo.Z,{title:"Edit ".concat(t),renderActions:function(o){var t=o.size;return(0,I.jsx)(wo,{renderActions:function(){return(0,I.jsx)(y.Z,{color:e,colorMode:r,onClick:function(){return A()},size:t,children:"Save Image"})},colorMode:r,isActive:O,zoom:B,rotation:M,onToggle:function(){return W.toggle()},onSetZoom:T,onRotation:k,onClose:u})},colorMode:r,isOpen:c,onClose:u,hasCancel:!1,isCentered:!0,size:"3xl",children:(0,I.jsx)(g.gC,{width:"100%",spacing:2,p:2,children:(0,I.jsx)(g.M5,{width:"100%",height:"50vh",position:"relative",borderRadius:"lg",overflow:"hidden",children:(0,I.jsx)(ho.Z,{image:n,crop:C,rotation:M,zoom:B,aspect:"avatar"===t?(0,ao.lz)(x?"square":"portrait"):3.6,cropShape:"avatar"===t?"round":"rect",showGrid:O,onRotationChange:k,onCropChange:j,onCropComplete:F,onZoomChange:T,style:{cropAreaStyle:{borderWidth:"2px",borderStyle:"solid",borderColor:f.colors.gray["light"===r?200:700],color:"rgba(0, 0, 0, 0.75)"}}})})})})},So=function(o){var e=o.color,r=o.colorMode,t=o.alt,n=o.form,l=o.avatar,c=(0,E.ac)("(max-width: 600px)"),s=(0,i.Z)(c,1)[0],d=(0,E.ac)("(max-width: 860px)"),u=(0,i.Z)(d,1)[0],f=(0,E.ac)("(min-width: 1280px)"),m=(0,i.Z)(f,1)[0],x=(0,h.qY)(),p=x.isOpen,v=x.onOpen,b=x.onClose,C=(0,a.useRef)(null),j=(0,a.useState)(""),w=(0,i.Z)(j,2),y=w[0],Z=w[1],M=s?0:u?4:m?6:5;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(g.M5,{width:s?"100%":u?150:m?250:200,position:s?"relative":"absolute",bottom:s?0:"calc(5% - ".concat(M,"px)"),left:s?0:"calc(2% - ".concat(M,"px)"),zIndex:1,borderWidth:"".concat(M,"px"),borderStyle:"solid",borderColor:"gray.".concat("light"===r?50:900),borderRadius:"lg",overflow:"hidden",children:[(0,I.jsx)("input",{ref:C,type:"file",onChange:function(o){return function(o){o.target.files&&new(no())(o.target.files[0],{strict:!0,checkOrientation:!0,quality:.6,resize:"cover",success:function(o){var e=new Blob([o],{type:o.type});Z(URL.createObjectURL(e)),v()}})}(o)},style:{display:"none"},value:""}),(0,I.jsx)(lo.Z,{ratio:(0,ao.lz)(s?"square":"portrait"),renderIcon:function(o){var e=o.color,r=o.fontSize;return(0,I.jsx)(H.Z,{icon:"upload_file",type:"outlined",color:e,fontSize:r})},onClick:function(o){var e;o.preventDefault(),o.stopPropagation(),null===(e=C.current)||void 0===e||e.click()},children:(0,I.jsx)(ro.Ee,{alt:"".concat(t," Avatar"),width:"inherit",height:"inherit",src:l||"",fallbackSrc:"light"===r?io.Z.light:io.Z.dark})})]}),(0,I.jsx)(ko,{color:e,colorMode:r,type:"avatar",image:y,isOpen:p,onCrop:function(o){return n.setValue("avatar_path",o,{shouldDirty:!0})},onClose:b})]})},zo=function(o){var e=o.color,r=o.colorMode,t=o.alt,n=o.form,l=o.background,c=(0,h.qY)(),s=c.isOpen,d=c.onOpen,u=c.onClose,f=(0,a.useRef)(null),m=(0,a.useState)(""),x=(0,i.Z)(m,2),p=x[0],v=x[1];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(g.xu,{width:"inherit",height:"inherit",children:[(0,I.jsx)("input",{ref:f,type:"file",onChange:function(o){return function(o){o.target.files&&new(no())(o.target.files[0],{strict:!0,checkOrientation:!0,quality:.6,resize:"cover",success:function(o){var e=new Blob([o],{type:o.type});v(URL.createObjectURL(e)),d()}})}(o)},style:{display:"none"},value:""}),(0,I.jsx)(lo.Z,{borderRadius:"none",ratio:4,renderIcon:function(o){var e=o.color,r=o.fontSize;return(0,I.jsx)(H.Z,{icon:"upload_file",type:"outlined",color:e,fontSize:r})},onClick:function(o){var e;o.preventDefault(),o.stopPropagation(),null===(e=f.current)||void 0===e||e.click()},children:(0,I.jsx)(ro.Ee,{alt:"".concat(t," Background"),width:"inherit",height:"inherit",objectFit:"cover",borderRadius:"none",src:l||"",fallbackSrc:"light"===r?io.Z.light:io.Z.dark})})]}),(0,I.jsx)(ko,{color:e,colorMode:r,type:"background",image:p,isOpen:s,onCrop:function(o){return n.setValue("background_path",o,{shouldDirty:!0})},onClose:u})]})},Bo=r(37316),To=function(o){var e=o.colorMode,r=o.user,t=(0,E.ac)("(max-width: 600px)"),n=(0,i.Z)(t,1)[0],a=(0,E.ac)("(max-width: 860px)"),l=(0,i.Z)(a,1)[0],c=(0,E.ac)("(min-width: 1280px)"),s=(0,i.Z)(c,1)[0],d=(0,F.h4)(),u=(0,i.Z)(d,2),h=u[0],f=u[1].width,m=!((0,b.isNil)(r.username)||(0,b.isEmpty)(r.username)),x=!((0,b.isNil)(r.firstName)||(0,b.isEmpty)(r.firstName)),p=!((0,b.isNil)(r.lastName)||(0,b.isEmpty)(r.lastName));return(0,I.jsxs)(g.Kq,{width:"calc(99% - ".concat(n?0:l?154:s?256:205,"px)"),alignItems:n?"flex-start":"center",justifyContent:"space-between",direction:n?"column":"row",spacing:n?4:2,p:n?0:4,children:[(0,I.jsxs)(g.gC,{width:"calc(100% - ".concat(n?0:f+16,"px)"),alignItems:"flex-start",spacing:x||p||m?0:1,children:[(0,I.jsx)(P.Z,{colorMode:e,fontSize:"4xl",isLoaded:x||p,speed:0,children:(0,I.jsx)(g.xv,{align:"left",color:"gray.".concat("light"===e?900:50),fontSize:"4xl",fontWeight:"semibold",isTruncated:!0,overflow:"hidden",whiteSpace:"nowrap",children:x||p?(0,b.compact)([x?r.firstName:null,p?r.lastName:null]).join(" "):"First Last Name "})}),(0,I.jsx)(P.Z,{colorMode:e,fontSize:"md",isLoaded:m,speed:0,children:(0,I.jsx)(g.xv,{align:"left",color:"gray.".concat("light"===e?400:500),fontSize:"md",fontWeight:"medium",isTruncated:!0,overflow:"hidden",whiteSpace:"nowrap",children:m?"@".concat(r.username):"User @Username"})})]}),(0,I.jsx)(g.M5,{ref:h,children:(0,I.jsx)(Bo.Z,{colorMode:e,isLoaded:!1,speed:0,children:(0,I.jsx)(y.Z,{renderLeft:function(){return(0,I.jsx)(H.Z,{icon:"edit",type:"outlined"})},isDisabled:!0,variant:"outlined",children:"Edit"})})})]})},Io=function(o){var e=(0,d.Fg)(),r=(0,E.ac)("(max-width: 600px)"),t=(0,i.Z)(r,1)[0],n=o.id,a=o.form,l=o.user,c=o.color,s=o.colorMode,u=o.onChange,h=a.watch("background_path"),f=a.watch("avatar_path"),m="".concat(l.firstName," ").concat(l.lastName," (@").concat(l.username,")");return(0,F.qR)((function(){a.setValue("background_path",(0,ao.Pq)(e,"sunset","light"===s?500:400,n),{shouldDirty:!0}),a.setValue("avatar_path",(0,ao.Pq)(e,"beam","light"===s?500:400,n),{shouldDirty:!0}),u()})),(0,I.jsxs)(g.gC,{width:"100%",height:"auto",alignItems:"flex-end",position:"relative",borderWidth:"2px",borderStyle:"solid",borderColor:"gray.".concat("light"===s?200:700),borderRadius:"lg",overflow:"hidden",spacing:t?4:0,p:t?2:0,children:[t?null:(0,I.jsx)(zo,{color:c,colorMode:s,alt:m,form:a,background:h}),(0,I.jsx)(So,{color:c,colorMode:s,alt:m,form:a,avatar:f}),(0,I.jsx)(To,{colorMode:s,user:l})]})},No=r(60576),Do=No.Ry().shape({username:No.Z_().required().matches(/^[a-z0-9_-]+$/,"Must be only in lowercase!").max(20,"Cannot exceed 20 chars!").label("Username"),password:No.Z_().required().matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and one special case Character!").max(30,"Cannot exceed 30 chars!").label("Password"),firstName:No.Z_().required().max(30,"cannot exceed 30 chars!").label("First name"),lastName:No.Z_().required().max(30,"cannot exceed 30 chars!").label("Last name"),bio:No.Z_().label("Biography")}),Ro=r(37839),Eo=["children","activeStep","color","colorMode","onChange","onCancel","onSubmit"],_o=(0,a.createContext)({activeStep:0,color:"blue",colorMode:"light",onChange:function(){},onCancel:function(){},onSubmit:function(){}}),Lo=(0,a.forwardRef)((function(o,e){var r=o.children,t=o.activeStep,i=void 0===t?0:t,a=o.color,l=o.colorMode,c=o.onChange,s=o.onCancel,d=o.onSubmit,u=(0,w.Z)(o,Eo);return(0,I.jsx)(g.gC,(0,n.Z)((0,n.Z)({},u),{},{ref:e,width:"100%",maxWidth:"100%",spacing:0,children:(0,I.jsx)(_o.Provider,{value:{activeStep:i,color:a,colorMode:l,onChange:c,onCancel:s,onSubmit:d},children:r})}))})),Vo=function(o,e){var r=e.color;return{step:{cursor:"pointer",height:$o,userSelect:"none",willChange:"auto",opacity:1,borderRadius:"none",borderBottomWidth:"2px",borderBottomStyle:"solid",WebkitTapHighlightColor:"transparent",px:2,py:1,transition:"".concat(o.transition.duration.faster," ").concat(o.transition.easing["ease-out"]," !important"),"&:focus":{boxShadow:"none"},"& .edb-icon":{transition:"".concat(o.transition.duration.faster," ").concat(o.transition.easing["ease-out"]," !important")}},disabled:{cursor:"not-allowed",pointerEvents:"none",opacity:.5},light:{idle:{backgroundColor:"gray.50",borderBottomColor:"gray.200","&:hover":{backgroundColor:"gray.100",borderBottomColor:"gray.200"},"&:active":{backgroundColor:"gray.200",borderBottomColor:"gray.200"}},success:{backgroundColor:"gray.50",borderBottomColor:"green.500","&:hover":{backgroundColor:"gray.100",borderBottomColor:"green.500"},"&:active":{backgroundColor:"gray.200",borderBottomColor:"green.500"}},error:{backgroundColor:"gray.50",borderBottomColor:"red.500","&:hover":{backgroundColor:"gray.100",borderBottomColor:"red.500"},"&:active":{backgroundColor:"gray.200",borderBottomColor:"red.500"}},warning:{backgroundColor:"gray.50",borderBottomColor:"yellow.500","&:hover":{backgroundColor:"gray.100",borderBottomColor:"yellow.500"},"&:active":{backgroundColor:"gray.200",borderBottomColor:"yellow.500"}},active:{backgroundColor:"gray.50",borderBottomColor:"".concat(r,".500"),"&:hover":{backgroundColor:"gray.100",borderBottomColor:"".concat(r,".500")},"&:active":{backgroundColor:"gray.200",borderBottomColor:"".concat(r,".500")}}},dark:{idle:{backgroundColor:"gray.900",borderBottomColor:"gray.700","&:hover":{backgroundColor:"gray.800",borderBottomColor:"gray.700"},"&:active":{backgroundColor:"gray.700",borderBottomColor:"gray.700"}},success:{backgroundColor:"gray.900",borderBottomColor:"green.400","&:hover":{backgroundColor:"gray.800",borderBottomColor:"green.400"},"&:active":{backgroundColor:"gray.700",borderBottomColor:"green.400"}},error:{backgroundColor:"gray.900",borderBottomColor:"red.400","&:hover":{backgroundColor:"gray.800",borderBottomColor:"red.400"},"&:active":{backgroundColor:"gray.700",borderBottomColor:"red.400"}},warning:{backgroundColor:"gray.900",borderBottomColor:"yellow.400","&:hover":{backgroundColor:"gray.800",borderBottomColor:"yellow.400"},"&:active":{backgroundColor:"gray.700",borderBottomColor:"yellow.400"}},active:{backgroundColor:"gray.900",borderBottomColor:"".concat(r,".400"),"&:hover":{backgroundColor:"gray.800",borderBottomColor:"".concat(r,".400")},"&:active":{backgroundColor:"gray.700",borderBottomColor:"".concat(r,".400")}}}}},Oo=function(o){var e=(0,d.Fg)(),r=(0,E.ac)("(max-width: 600px)"),t=(0,i.Z)(r,1)[0],a=o.color,l=o.colorMode,c=o.isDisabled,s=void 0!==c&&c,u=o.onCancel,h=Vo(e,{color:a});return(0,I.jsx)(g.M5,{"aria-disabled":s,width:t?"50%":$o,onClick:u?function(){return u()}:void 0,sx:(0,n.Z)({},(0,b.merge)(h.step,h[l].idle,t?{}:{borderRightWidth:"2px",borderRightStyle:"solid",borderRightColor:"gray.".concat("light"===l?200:700)})),_disabled:(0,n.Z)({},(0,b.merge)(h.disabled)),children:(0,I.jsx)(H.Z,{icon:"close",type:"outlined",color:"gray.".concat("light"===l?900:50),fontSize:"3xl"})})},Wo=function(o,e){switch(o){case"success":return"green";case"error":return"red";case"active":return e;case"warning":return"yellow";default:return"gray"}},Fo=function(o){var e=o.color,r=o.colorMode,t=o.status;return(0,I.jsx)(g.xv,{align:"left",color:"".concat(Wo(t,e),".").concat("light"===r?500:400),fontSize:"xs",fontWeight:"semibold",lineHeight:"normal",textTransform:"uppercase",isTruncated:!0,overflow:"hidden",whiteSpace:"nowrap",children:function(){switch(t){case"success":return"complete";case"error":return"error";case"active":return"current";case"warning":return"incomplete";default:return"not done yet"}}()})},Ao=function(o){switch(o){case"error":return"error_outline";case"warning":return"warning_amber";default:return"done"}},Uo=(0,a.forwardRef)((function(o,e){var r=o.color,t=o.colorMode,n=o.status;return(0,I.jsx)(g.M5,{ref:e,height:"100%",children:(0,I.jsx)(H.Z,{icon:Ao(n),type:"outlined",color:"".concat(Wo(n,r),".").concat("light"===t?500:400),fontSize:"3xl"})})})),qo=function(o){var e=(0,d.Fg)(),r=(0,E.ac)("(max-width: 600px)"),t=(0,i.Z)(r,1)[0],a=o.color,l=o.colorMode,c=o.isDisabled,s=void 0!==c&&c,u=o.isLast,h=void 0!==u&&u,f=o.hasErrors,m=void 0!==f&&f,x=o.hasWarnings,p=void 0!==x&&x,v=o.hasIdle,C=void 0!==v&&v,j=o.onNext,w=Vo(e,{color:a});return(0,I.jsx)(g.M5,{"aria-disabled":s,width:t?"50%":$o,onClick:j?function(){return j()}:void 0,sx:(0,n.Z)({},(0,b.merge)(w.step,w[l].idle,t?{}:{borderLeftWidth:"2px",borderLeftStyle:"solid",borderLeftColor:"gray.".concat("light"===l?200:700)})),_disabled:(0,n.Z)({},(0,b.merge)(w.disabled)),children:(0,I.jsx)(H.Z,{icon:h?m?Ao("error"):p||C?Ao("warning"):"check":"east",type:"outlined",color:h&&m?"".concat(Wo("error",a),".").concat("light"===l?500:400):h&&p?"".concat(Wo("warning",a),".").concat("light"===l?500:400):"gray.".concat("light"===l?900:50),fontSize:"3xl"})})},Go=r(11557),Ho=function(o){var e=o.colorMode,r=o.index,t=o.title,n=o.subtitle;return(0,I.jsxs)(g.gC,{width:"100%",alignItems:"inherit",spacing:.5,children:[(0,I.jsx)(g.xv,{width:"100%",align:"left",color:"gray.".concat("light"===e?900:50),fontSize:"2xl",fontWeight:"bold",lineHeight:"normal",isTruncated:!0,overflow:"hidden",whiteSpace:"nowrap",children:"".concat(r+1,". ").concat(t)}),n?(0,I.jsx)(g.xv,{width:"100%",align:"left",color:"gray.".concat("light"===e?400:500),fontSize:"sm",lineHeight:"normal",isTruncated:!0,overflow:"hidden",whiteSpace:"nowrap",children:n}):null]})},Po=function(o){var e=(0,d.Fg)(),r=(0,F.h4)(),t=(0,i.Z)(r,2),a=t[0],l=t[1].width,c=o.color,s=o.colorMode,u=o.index,h=o.title,f=o.subtitle,m=o.status,x=void 0===m?"idle":m,p=o.isDisabled,v=void 0!==p&&p,C=o.onClick,j=Vo(e,{color:c});return(0,I.jsxs)(g.Ug,{"aria-disabled":v,width:"100%",minWidth:"350px",maxWidth:"350px",alignItems:"flex-start",justifyContent:"center",onClick:function(){return C()},spacing:4,sx:(0,n.Z)({},(0,b.merge)(j.step,j[s][x],{px:3})),_disabled:(0,n.Z)({},(0,b.merge)(j.disabled)),children:[(0,I.jsxs)(g.gC,{width:"calc(100% - ".concat("idle"!==x&&"active"!==x?l+32:0,"px)"),height:"100%",alignItems:"inherit",justifyContent:"inherit",spacing:.5,children:[(0,I.jsx)(Fo,{color:c,colorMode:s,status:x}),(0,I.jsx)(Ho,{colorMode:s,index:u,title:h,subtitle:f})]}),"idle"!==x&&"active"!==x?(0,I.jsx)(Go.pT,{in:!0,unmountOnExit:!0,style:{height:"100%"},children:(0,I.jsx)(Uo,{ref:a,color:c,colorMode:s,status:x})}):null]})},Qo=r(28374),$o="100px",Yo=function(o){var e=o.children,r=void 0===e?[]:e,t=(0,a.useContext)(_o),l=t.activeStep,c=void 0===l?0:l,s=t.color,d=t.colorMode,u=t.onChange,h=t.onCancel,f=t.onSubmit,m=(0,E.ac)("(max-width: 600px)"),x=(0,i.Z)(m,1)[0],p=r.some((function(o){return"error"===o.status})),v=r.some((function(o){return"warning"===o.status})),b=r.some((function(o){return"idle"===o.status})),C=function(){c===r.length-1?p?u(r.findIndex((function(o){return"error"===o.status}))):v?u(r.findIndex((function(o){return"warning"===o.status}))):b?u(r.findIndex((function(o){return"idle"===o.status}))):f():u(c+1)},j=function(o){u&&c!==o&&u(o)},w=(0,a.useCallback)((function(o,e){if(c===o)return"active";switch(e.status){case"success":return"success";case"error":return"error";case"warning":return"warning";default:return"idle"}}),[c]);return(0,I.jsx)(g.Kq,{width:"100%",direction:x?"column":"row",spacing:0,children:x?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(g.Ug,{width:"100%",justifyContent:"stretch",divider:(0,I.jsx)(J.Z,{colorMode:d,orientation:"vertical",height:$o}),spacing:0,children:[(0,I.jsx)(Oo,{color:s,colorMode:d,onCancel:h}),(0,I.jsx)(qo,{color:s,colorMode:d,isLast:c===r.length-1,hasErrors:p,hasWarnings:v,hasIdle:b,onNext:C})]}),(0,I.jsx)(g.M5,{width:x?"100%":"calc(100% - 200px)",children:(0,I.jsx)(Qo.Z,{isFullWidth:!0,renderDivider:function(){return(0,I.jsx)(J.Z,{colorMode:d,orientation:"vertical",height:$o})},children:r.map((function(o,e){return(0,a.createElement)(Po,(0,n.Z)((0,n.Z)({},o),{},{key:e,index:e,color:s,colorMode:d,status:w(e,o),onClick:function(){return j(e)}}))}))})})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Oo,{color:s,colorMode:d,onCancel:h}),(0,I.jsx)(g.M5,{width:"calc(100% - 200px)",children:(0,I.jsx)(Qo.Z,{colorMode:d,isFullWidth:!0,renderDivider:function(){return(0,I.jsx)(J.Z,{colorMode:d,orientation:"vertical",height:$o})},children:r.map((function(o,e){return(0,a.createElement)(Po,(0,n.Z)((0,n.Z)({},o),{},{key:e,index:e,color:s,colorMode:d,status:w(e,o),onClick:function(){return j(e)}}))}))})}),(0,I.jsx)(qo,{color:s,colorMode:d,isLast:c===r.length-1,hasIdle:b,hasErrors:p,hasWarnings:v,onNext:C})]})})},Jo=function(o){var e=(0,d.Fg)(),r=(0,a.useContext)(_o),t=r.color,n=r.colorMode,i=o.index,l=o.total,c=o.title,s=o.subtitle;return(0,I.jsxs)(g.gC,{width:"100%",alignItems:"flex-start",spacing:.5,sx:{"& *":{transition:"".concat(e.transition.duration.faster," ").concat(e.transition.easing["ease-out"]," !important")}},children:[(0,I.jsx)(g.xv,{width:"100%",align:"left",color:"".concat(t,".").concat("light"===n?500:400),fontSize:"md",fontWeight:"semibold",lineHeight:"normal",isTruncated:!0,overflow:"hidden",whiteSpace:"nowrap",children:"Step ".concat(i+1," of ").concat(l)}),(0,I.jsx)(g.xv,{width:"100%",align:"left",color:"gray.".concat("light"===n?900:50),fontSize:"4xl",fontWeight:"bold",lineHeight:"normal",isTruncated:!0,overflow:"hidden",whiteSpace:"nowrap",children:c}),s?(0,I.jsx)(g.xv,{width:"100%",align:"left",color:"gray.".concat("light"===n?400:500),fontSize:"md",lineHeight:"normal",isTruncated:!0,overflow:"hidden",whiteSpace:"nowrap",children:s}):null]})},Ko=["children","index","total","title","subtitle"],Xo=function(o){var e=o.children,r=o.index,t=o.total,i=o.title,l=o.subtitle,c=(0,w.Z)(o,Ko),s=(0,a.useContext)(_o).colorMode;return(0,I.jsxs)(g.gC,(0,n.Z)((0,n.Z)({},c),{},{width:"100%",divider:(0,I.jsx)(J.Z,{colorMode:s}),spacing:4,children:[(0,I.jsx)(Jo,{index:r,total:t,title:i,subtitle:l}),e]}))},oe=r(10731),ee=function(o){var e=o.children,r=(0,a.useContext)(_o).activeStep,t=void 0===r?0:r;return(0,I.jsx)(g.M5,{as:oe.M,width:"100%",exitBeforeEnter:!0,initial:!1,children:e.map((function(o,e){return t===e?(0,I.jsx)(g.M5,{as:Go.pT,in:!0,width:"100%",unmountOnExit:!0,children:o},"step_panel_".concat(e)):null}))})},re=r(46937),te=r(53133),ne=r(92247),ie=(0,C.Z)(),ae=[{index:0,title:"Details",subtitle:"Enter your credentials and some basic information about you.",status:"active"},{index:1,title:"Favored Genres",subtitle:"Select your most favorite Movie & TV Show genres.",status:"idle"},{index:2,title:"Customization",subtitle:"Pick your favorite color and mode.",status:"idle"},{index:3,title:"Avatar & Background",subtitle:"Upload an avatar & background of your choice!",status:"idle"}],le=function(){var o=(0,d.Fg)(),e=(0,u.If)().colorMode,r=(0,h.qY)(),m=r.isOpen,p=r.onOpen,C=r.onClose,w=(0,s.s0)(),Z=(0,c.I0)(),M=(0,Y.v9)((function(o){return o.users.data.users})),k=(0,a.useState)(0),N=(0,i.Z)(k,2),D=N[0],R=N[1],E=(0,a.useState)(ae),_=(0,i.Z)(E,2),L=_[0],V=_[1],O=(0,l.cI)({mode:"onTouched",reValidateMode:"onChange",defaultValues:S,resolver:(0,f.X)(Do)}),F=(0,l.cl)({control:O.control}),A=F.isValid,U=F.errors,q=F.isDirty,G=(0,l.cI)({mode:"onTouched",reValidateMode:"onChange",defaultValues:z}),H=(0,l.cl)({control:G.control}),P=H.isValid,Q=H.isDirty,$=(0,l.cI)({mode:"onTouched",reValidateMode:"onChange",defaultValues:(0,n.Z)((0,n.Z)({},B),{},{colorMode:e})}),J=$.watch("color"),K=$.watch("colorMode"),X="system"===K?(0,ao.ku)():K,oo=(0,l.cl)({control:$.control}),ro=oo.isValid,to=oo.isDirty,no=(0,l.cI)({mode:"onTouched",reValidateMode:"onChange",defaultValues:T}),io=(0,l.cl)({control:no.control}),lo=io.isValid,co=io.isDirty,so=(0,a.useCallback)((function(o){switch(o){case 0:var e="idle";return A?e="success":(0,b.isNil)(U)||(0,b.isEmpty)(U)?q&&(e="warning"):e="error",e;case 1:var r="idle";return P&&(r="success"),r;case 2:var t="idle";return ro&&(t="success"),t;case 3:var n="idle";return lo&&(n="success"),n;default:return"idle"}}),[A,U,q,P,ro,lo]),uo=function(o){switch(o){case 0:return(0,I.jsx)(W,{form:O,color:J,colorMode:X});case 1:return(0,I.jsx)(eo,{form:G,color:J,colorMode:X});case 2:return(0,I.jsx)(j.Z,{form:$});case 3:return(0,I.jsx)(Io,{id:ie,form:no,user:O.getValues(),color:J,colorMode:X,onChange:function(){return ho(3)}});default:return null}},ho=function(o){V(L.map((function(o){return o.index===D?(0,n.Z)((0,n.Z)({},o),{},{status:so(D)}):o}))),R(o)},go=function(){w(-1)};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(g.M5,{backgroundColor:"light"===X?"gray.50":"gray.900",sx:{transition:"".concat(o.transition.duration.faster," ").concat(o.transition.easing["ease-out"])},children:(0,I.jsx)(g.W2,{maxWidth:"8xl",minHeight:"100vh",centerContent:!0,p:0,children:(0,I.jsxs)(Lo,{activeStep:D,color:J,colorMode:X,onChange:ho,onCancel:function(){q||Q||to||co?p():go()},onSubmit:function(){var o=O.getValues(),e=G.getValues(),r=$.getValues(),i=no.getValues(),a={name:"".concat(o.firstName," ").concat(o.lastName),bio:o.bio,avatar_path:i.avatar_path,background_path:i.background_path,prefers:(0,n.Z)({},e)},l=(0,n.Z)((0,n.Z)({},ne.Bt),{},{data:(0,n.Z)((0,n.Z)({},ne.Bt.data),{},{id:ie,credentials:{username:o.username,password:x()(o.password).toString(),rememberMe:!0},info:(0,n.Z)({},a),signedInAt:v()().toISOString()}),ui:(0,n.Z)((0,n.Z)({},ne.Bt.ui),{},{theme:(0,n.Z)({},r)})});Z((0,re.av)(ie)),Z((0,ne.HM)([].concat((0,t.Z)(M),[l]).sort((function(o,e){return v()(e.data.signedInAt).diff(o.data.signedInAt)})))),Z((0,te.hx)(!0)),w("/",{replace:!0}),setTimeout((function(){Z((0,ne.ps)({id:ie,data:(0,n.Z)({},a)})),Z((0,ne.z1)({id:ie,data:(0,n.Z)({},r)}))}),250)},children:[(0,I.jsx)(Yo,{children:(0,t.Z)(L)}),(0,I.jsx)(ee,{children:L.map((function(o,e){return(0,I.jsx)(Xo,(0,n.Z)((0,n.Z)({},o),{},{index:e,total:L.length,p:3,children:uo(e)}),o.title)}))})]})})}),(0,I.jsx)(Ro.Z,{renderActions:function(o){var e=o.size;return(0,I.jsx)(y.Z,{color:J,colorMode:X,onClick:function(){return C(),void go()},size:e,children:"Go Back"})},title:"Cancel User Creation?",description:"Are you sure you want to cancel creating a new user? Once you close the page you will not be able to retrieve the data!",colorMode:X,isOpen:m,onClose:C})]})}}}]);
//# sourceMappingURL=649.689da804.chunk.js.map