"use strict";(self.webpackChunkedb=self.webpackChunkedb||[]).push([[895],{82115:function(i,e,t){var n=t(94869),o=t(61895),r=t(41484),s=t(97417),a=t(8833),l=t(11428),d=t(66289),c=t(26429),u=t(72233),g=t(46937),p=t(47779),h=t(21319),v=t(82170),f=t(8771),x=(0,r.forwardRef)((function(i,e){var t=(0,l.Fg)(),r=(0,a.I0)(),x=(0,u.v9)((function(i){return i.app.ui.displayMode})),m=(0,u.v9)((function(i){return i.user.ui.theme.color})),Z=(0,s.useIsFetching)(),b=(0,s.useIsMutating)(),j=(0,d.kt)(),y=(0,o.Z)(j,2),w=y[0],L=y[1],M=(0,d.kt)(),S=(0,o.Z)(M,2),_=S[0],k=S[1],T=(0,d.kt)(),E=(0,o.Z)(T,2),F=E[0],D=E[1],C=(0,d.kt)(),I=(0,o.Z)(C,2),P=I[0],z=I[1];return(0,f.jsxs)(c.hE,(0,n.Z)((0,n.Z)({ref:e},i),{},{isAttached:!0,children:[(0,f.jsx)(h.Z,{"aria-label":"grid"===x?"Display is in Grid Mode (Tooltip)":"Set display mode to Grid Mode (Tooltip)",isDisabled:Z>0||b>0,isOpen:w,placement:"top",label:"grid"===x?"Display is in Grid Mode":"Set display mode to Grid Mode",gutter:_?7:10,children:(0,f.jsx)(v.Z,{"aria-label":"grid"===x?"Display is in Grid Mode":"Set display mode to Grid Mode",color:"grid"===x?m:"gray",isDisabled:Z>0||b>0,onClick:"grid"!==x?function(){return r((0,g.LV)("grid"))}:void 0,onMouseDown:function(){return k.on()},onMouseUp:function(){return k.off()},onMouseEnter:function(){return L.on()},onMouseLeave:function(){return L.off()},variant:"outlined",sx:{back:{borderRadius:"".concat(t.radii.base," 0 0 ").concat(t.radii.base)},front:{borderRadius:"".concat(t.radii.base," 0 0 ").concat(t.radii.base)}},children:(0,f.jsx)(p.Z,{icon:"grid_on",type:"grid"===x?"filled":"outlined"})})}),(0,f.jsx)(h.Z,{"aria-label":"list"===x?"Display is in List Mode (Tooltip)":"Set display mode to List Mode (Tooltip)",isDisabled:Z>0||b>0,isOpen:F,placement:"top",label:"list"===x?"Display is in List Mode":"Set display mode to List Mode",gutter:P?7:10,children:(0,f.jsx)(v.Z,{"aria-label":"list"===x?"Display is in List Mode":"Set display mode to List Mode",color:"list"===x?m:"gray",isDisabled:Z>0||b>0,onClick:"list"!==x?function(){return r((0,g.LV)("list"))}:void 0,onMouseDown:function(){return z.on()},onMouseUp:function(){return z.off()},onMouseEnter:function(){return D.on()},onMouseLeave:function(){return D.off()},variant:"outlined",sx:{back:{borderRadius:"0 ".concat(t.radii.base," ").concat(t.radii.base," 0")},front:{borderRadius:"0 ".concat(t.radii.base," ").concat(t.radii.base," 0")}},children:(0,f.jsx)(p.Z,{icon:"view_agenda",type:"list"===x?"filled":"outlined"})})})]}))}));e.Z=x},31249:function(i,e,t){t.d(e,{Z:function(){return B}});var n=t(61895),o=t(99818),r=t(7300),s=t(66289),a=t(20347),l=t(10514),d=t.n(l),c=t(1459),u=t(70699),g=t(8771),p=d().range(25,100,10),h=["16.5px","19.25px","22px","24.75px","27.5px","33px"],v=function(i){var e=(0,c.If)().colorMode,t=(0,r.Sx)({base:"xs",sm:"sm",md:"md",lg:"lg",xl:"xl","2xl":"2xl"}),n=i.description,o=i.isLoading,l=void 0!==o&&o,v=i.inView,f=void 0===v||v,x=(0,s.Bs)(d().sample(p)||100);return(0,g.jsx)(a.xu,{width:"100%",maxWidth:"100%",height:h,children:f?(0,g.jsx)(u.Z,{width:l?"".concat(x,"%"):"auto",fontSize:t,isLoaded:!l,children:(0,g.jsx)(a.xv,{align:"left",fontSize:t,fontWeight:"normal",color:"gray.".concat("light"===e?400:500),isTruncated:!0,overflow:"hidden",whiteSpace:"nowrap",children:n||"Poster Description"})}):null})},f=t(8833),x=t(11428),m=t(11557),Z=t(72233),b=t(9238),j=t(89782),y=t(74884),w=t(53133),L=t(33311),M=["100px","116px","152px","188px","188px","224px"],S=(0,b.pt)(),_=function(i){var e=(0,x.Fg)(),t=(0,r.ac)("(max-width: 960px)"),o=(0,n.Z)(t,1)[0],s=(0,f.I0)(),l=(0,Z.v9)((function(i){return i.user.ui.theme.color})),c=i.mediaItem,u=i.mediaType,p=i.title,h=i.image,v=i.isFocused,_=void 0!==v&&v,k=i.isLoading,T=void 0===k||k,E=i.isHovering,F=void 0!==E&&E,D=i.inView,C=void 0!==D&&D,I=i.onMouseChange;return(0,g.jsx)(a.oM,{as:m.pT,in:C,width:M,borderRadius:"base",ratio:(0,b.lz)("portrait"),children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(y.Z,{borderRadius:"base",isLoaded:!T&&C,children:(0,g.jsx)(L.Z,{alt:(null===h||void 0===h?void 0:h.alt)||"",borderRadius:"base",boringType:(0,b.Qg)(u),thumbnailSrc:"".concat("https://image.tmdb.org/t/p","/").concat((null===h||void 0===h?void 0:h.size.thumbnail)||"").concat((null===h||void 0===h?void 0:h.src)||""),fullSrc:"".concat("https://image.tmdb.org/t/p","/").concat((null===h||void 0===h?void 0:h.size.full)||"").concat((null===h||void 0===h?void 0:h.src)||"")})}),o||d().isNil(c)||d().isEmpty(c)||S||"company"===u?null:(0,g.jsx)(m.MT,{in:(F||_)&&!T,unmountOnExit:!0,children:(0,g.jsx)(a.xu,{position:"absolute",bottom:e.space[1],width:"100%",onMouseEnter:function(){return I(!0)},onMouseLeave:function(){return I(!1)},px:1,children:(0,g.jsx)(j.Z,{color:l,isFullWidth:!0,onClick:function(i){i.preventDefault(),i.stopPropagation(),s((0,w.k0)({open:!0,mediaType:u,mediaItem:{id:(null===c||void 0===c?void 0:c.id)||-1,title:p}}))},size:"sm",children:"Quick view"})})})]})})},k=d().range(25,100,10),T=["16.5px","19.25px","22px","24.75px","27.5px","33px"],E=function(i){var e=(0,c.If)().colorMode,t=(0,r.Sx)({base:"xs",sm:"sm",md:"md",lg:"lg",xl:"xl","2xl":"2xl"}),n=i.subtitle,o=i.isLoading,l=void 0!==o&&o,p=i.inView,h=void 0===p||p,v=(0,s.Bs)(d().sample(k)||100);return(0,g.jsx)(a.xu,{width:"100%",maxWidth:"100%",height:T,children:h?(0,g.jsx)(u.Z,{width:l?"".concat(v,"%"):"auto",fontSize:t,isLoaded:!l,children:(0,g.jsx)(a.xv,{align:"left",fontSize:t,fontWeight:"normal",color:"gray.".concat("light"===e?400:500),isTruncated:!0,overflow:"hidden",whiteSpace:"nowrap",children:n||"Poster Subtitle"})}):null})},F=d().range(25,100,10),D=["19.25px","22px","24.75px","27.5px","33px","41.25px"],C=function(i){var e=(0,c.If)().colorMode,t=(0,r.Sx)({base:"sm",sm:"md",md:"lg",lg:"xl",xl:"2xl","2xl":"3xl"}),n=i.title,o=i.isLoading,l=void 0!==o&&o,p=i.inView,h=void 0===p||p,v=(0,s.Bs)(d().sample(F)||100);return(0,g.jsx)(a.xu,{width:"100%",maxWidth:"100%",height:D,children:h?(0,g.jsx)(u.Z,{width:l?"".concat(v,"%"):"auto",fontSize:t,isLoaded:!l,children:(0,g.jsx)(a.xv,{align:"left",fontSize:t,fontWeight:"semibold",color:"gray.".concat("light"===e?900:50),isTruncated:!0,overflow:"hidden",whiteSpace:"nowrap",children:n||"Poster Title"})}):null})},I=t(8126),P=t(56816),z=t(76830),N=t(33263),V=t(23403),W=t(55095),B=function(i){var e=(0,r.ac)("(max-width: 600px)"),t=(0,n.Z)(e,1)[0],l=(0,r.Sx)({base:"sm",sm:"md",md:"lg",lg:"xl",xl:"2xl","2xl":"3xl"}),c=(0,o.ZP)({threshold:[.2,.4,.6,.8,1],unobserveOnEnter:!0}),u=c.observe,p=c.inView,h=i.mediaItem,f=i.mediaType,x=i.image,m=i.rating,Z=i.title,j=i.subtitle,y=i.description,w=i.isLoading,L=void 0===w||w,M=(0,s.kt)(),S=(0,n.Z)(M,2),k=S[0],T=S[1],F=(0,s.kt)(),D=(0,n.Z)(F,2),B=D[0],O=D[1],R=(0,s.kt)(),U=(0,n.Z)(R,2),G=U[0],Y=U[1];return(0,g.jsx)(P.Z,{isFullWidth:!0,isDisabled:L||G||"company"===f,to:"company"!==f?{pathname:"/".concat((0,b.OS)(f),"/").concat((null===h||void 0===h?void 0:h.id)||"")}:{},onFocus:function(){return T.on()},onBlur:function(){return T.off()},onMouseEnter:function(){return O.on()},onMouseLeave:function(){return O.off()},children:(0,g.jsx)(I.Z,{isFullWidth:!0,isDisabled:L,isClickable:"company"!==f,isFixed:G,isLight:!0,children:(0,g.jsxs)(a.Ug,{ref:u,width:"100%",position:"relative",spacing:[1,1,2,2,2,2],p:[1,1,2,2,2,2],children:[(0,g.jsx)(_,{mediaItem:h,mediaType:f,image:x,title:Z,isFocused:k,isHovering:B,isLoading:L,inView:p,onMouseChange:function(i){i?Y.on():Y.off()}}),(0,g.jsxs)(a.gC,{width:["calc(100% - 108px)","calc(100% - 124px)","calc(100% - 168px)","calc(100% - 204px)","calc(100% - 204px)","calc(100% - 240px)"],alignItems:"flex-start",spacing:[L?2:1,L?2:1,L?4:2,L?4:2,L?4:2,L?4:2],children:["movie"!==f&&"tv"!==f||!m?null:(0,g.jsx)(z.Z,{count:null===m||void 0===m?void 0:m.count,inView:p,size:l,isLoading:L,children:null===m||void 0===m?void 0:m.rating}),(0,g.jsxs)(a.gC,{width:"100%",alignItems:"flex-start",spacing:[L?.5:.25,L?.5:.25,L?1:.5,L?1:.5,L?1:.5,L?1:.5],children:[(0,g.jsx)(C,{title:Z,isLoading:L,inView:p}),!d().isNil(j)&&!d().isEmpty(j)||L?(0,g.jsx)(E,{subtitle:j,isLoading:L,inView:p}):null]}),!d().isNil(y)&&!d().isEmpty(y)||L?(0,g.jsx)(v,{description:y,isLoading:L,inView:p}):null]}),(0,g.jsxs)(a.M5,{sx:{position:"absolute",top:1,right:1},children:["company"!==f?(0,g.jsx)(a.M5,{onMouseEnter:function(){return Y.on()},onMouseLeave:function(){return Y.off()},children:(0,g.jsx)(W.Z,{title:Z,mediaType:f,mediaItem:h,isLoading:L,size:t?"md":"lg"})}):null,(0,g.jsx)(a.M5,{onMouseEnter:function(){return Y.on()},onMouseLeave:function(){return Y.off()},children:(0,g.jsx)(V.Z,{title:Z,mediaType:f,mediaItem:h,isLoading:L,size:t?"md":"lg"})}),"movie"===f||"tv"===f?(0,g.jsx)(a.M5,{onMouseEnter:function(){return Y.on()},onMouseLeave:function(){return Y.off()},children:(0,g.jsx)(N.Z,{title:Z,mediaType:f,mediaItem:h,isLoading:L,size:t?"md":"lg"})}):null]})]})})})}},76915:function(i,e,t){var n=t(10514),o=t.n(n),r=t(79829),s=t(88010),a=t(18978),l=t(2991),d=t(29256),c=t(8771);e.Z=function(i){var e=i.isError,t=void 0!==e&&e,n=i.isSuccess,u=void 0!==n&&n,g=i.isLoading,p=void 0===g||g,h=i.shows;return!p&&t?(0,c.jsx)(s.Z,{label:"Oh no! Something went wrong",description:"Failed to fetch TV Shows list!",variant:"outlined"}):!p&&u&&h&&0===h.length?(0,c.jsx)(r.Z,{label:"TV Shows list is currently empty!",variant:"outlined"}):!p&&u&&h&&h.length>0?(0,c.jsx)(a.Z,{children:function(i){var e=i.displayMode;return h.map((function(i){return"list"===e?(0,c.jsx)(l.Z,{show:i,isLoading:!1},i.id):(0,c.jsx)(d.Z,{show:i,isLoading:!1},i.id)}))}}):(0,c.jsx)(a.Z,{children:function(i){var e=i.displayMode;return o().range(0,u&&h&&h.length>0?h.length:20).map((function(i,t){return"list"===e?(0,c.jsx)(l.Z,{isLoading:!0},t):(0,c.jsx)(d.Z,{isLoading:!0},t)}))}})}},2991:function(i,e,t){var n=t(94869),o=t(10514),r=t.n(o),s=t(9238),a=t(31249),l=t(8771);e.Z=function(i){var e=i.show,t=i.isLoading,o=void 0===t||t,d=e||{},c=d.name,u=d.poster_path,g=d.vote_average,p=d.vote_count,h=d.first_air_date,v=d.genre_ids,f=d.overview;return(0,l.jsx)(a.Z,{mediaItem:e?(0,n.Z)({},e):void 0,mediaType:"tv",image:{alt:"".concat(c||""," tv show poster"),src:u||"",size:{thumbnail:"w92",full:"original"}},rating:{rating:g||null,count:p||null},title:c||"",subtitle:"".concat(r().compact([r().isNil(h)||r().isEmpty(h)?void 0:"".concat((0,s.ok)(h||"","full")),r().isNil(v)||r().isEmpty(v)?void 0:"".concat((0,s.Fm)(v||[],"tv"))]).join(" \u2022 ")),description:f||"",isLoading:o})}},29256:function(i,e,t){var n=t(94869),o=t(10514),r=t.n(o),s=t(9238),a=t(7378),l=t(8771);e.Z=function(i){var e=i.show,t=i.width,o=i.isLoading,d=void 0===o||o,c=e||{},u=c.name,g=c.poster_path,p=c.vote_average,h=c.first_air_date,v=c.genre_ids;return(0,l.jsx)(a.Z,{width:t||"100%",mediaItem:e?(0,n.Z)({},e):void 0,mediaType:"tv",image:{alt:"".concat(u||""," tv show poster"),src:g||"",size:{thumbnail:"w92",full:"original"}},rating:p||null,title:u||"",subtitle:"".concat(r().compact([r().isNil(h)||r().isEmpty(h)?void 0:"".concat((0,s.ok)(h||"","year")),r().isNil(v)||r().isEmpty(v)?void 0:"".concat((0,s.Fm)(v||[],"tv"))]).join(" \u2022 ")),isLoading:d})}},29895:function(i,e,t){t.r(e);var n=t(56729),o=t(43583),r=t(94869),s=t(26664),a=t(61895),l=t(75231),d=t.n(l),c=t(41484),u=t(67770),g=t(97417),p=t(86617),h=t(75019),v=t(7300),f=t(66289),x=t(20347),m=t(11557),Z=t(14539),b=t.n(Z),j=t(10514),y=t.n(j),w=t(54431),L=t.n(w),M=t(6842),S=t(23890),_=t(76915),k=t(50762),T=t(54915),E=t(89782),F=t(82115),D=t(96981),C=t(18658),I=t(30122),P=t(97316),z=t(5625),N=t(95690),V=t(87929),W=t(8771),B={language:"en-US",ott_region:"US",certification_country:"US","first_air_date.lte":L()().format("YYYY-MM-DD")};e.default=function(){var i,e=b().CancelToken.source(),t=(0,v.ac)("(max-width: 600px)"),l=(0,a.Z)(t,1)[0],Z=(0,p.TH)(),j=(0,h.lr)(B),w=(0,a.Z)(j,2),L=w[0],O=w[1],R=(0,S.h4)(),U=(0,a.Z)(R,2),G=U[0],Y=U[1].height,H=(0,c.useState)(),Q=(0,a.Z)(H,2),q=Q[0],A=Q[1],J=(0,f.kt)(),K=(0,a.Z)(J,2),X=K[0],$=K[1],ii=(0,c.useState)(0),ei=(0,a.Z)(ii,2),ti=ei[0],ni=ei[1],oi=(0,g.useInfiniteQuery)("tv-shows",function(){var i=(0,s.Z)(d().mark((function i(t){var n,o,s,a;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.pageParam,o=void 0===n?1:n,i.next=3,k.Z.get("/discover/tv",{params:(0,r.Z)((0,r.Z)({},M.parse(L.toString()||"")||{}),{},{page:o||1}),cancelToken:e.token}).then((function(i){return(0,k.t)(X?0:2500,i)}));case 3:return s=i.sent,a=s.data,i.abrupt("return",a);case 6:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}(),{enabled:!1,getPreviousPageParam:function(i){return 1!==i.page&&((null===i||void 0===i?void 0:i.page)||0)-1},getNextPageParam:function(i){return i.page!==i.total_pages&&((null===i||void 0===i?void 0:i.page)||0)+1},onSuccess:function(i){var e=[];i.pages.forEach((function(i){e=[].concat((0,o.Z)(e),(0,o.Z)((null===i||void 0===i?void 0:i.results)||[]))})),A({page:i.pages[i.pages.length-1].page,results:(0,o.Z)(y().uniqBy(e,"id")),total_pages:i.pages[i.pages.length-1].total_pages,total_results:i.pages[i.pages.length-1].total_results})}}),ri=(0,c.useCallback)(y().debounce((function(i){var e,t=0;for(e in i)("dates"!==e||(y().isNil(i.dates.gte)||y().isEmpty(i.dates.gte))&&(y().isNil(i.dates.lte)||y().isEmpty(i.dates.lte)))&&("dates"===e||y().isNil(i[e])||y().isEmpty(i[e]))||(t+=1);ni(t)}),500),[ni]),si=function(i){var e=M.parse(L.toString()||"");Object.keys(e).forEach((function(i){return"sort_by"===i||delete e[i]}));var t=y().omitBy(y().merge((0,r.Z)((0,r.Z)({},B),{},{certification:i.certifications.length>0?i.certifications.join("|"):void 0,"first_air_date.gte":i.dates.gte||void 0,"first_air_date.lte":i.dates.lte||void 0,with_genres:i.genres.length>0?i.genres.join(","):void 0,"vote_average.gte":i.rating.length>0&&i.rating[0]?i.rating[0]:void 0,"vote_average.lte":i.rating.length>0&&i.rating[1]?i.rating[1]:void 0,"vote_count.gte":i.count.length>0&&i.count[0]?i.count[0]:void 0,"vote_count.lte":i.count.length>0&&i.count[1]?i.count[1]:void 0,"with_runtime.gte":i.runtime.length>0&&i.runtime[0]?i.runtime[0]:void 0,"with_runtime.lte":i.runtime.length>0&&i.runtime[1]?i.runtime[1]:void 0})),y().isNil||y().isEmpty);O(y().mergeWith((0,r.Z)((0,r.Z)({},e),t))),setTimeout((function(){return oi.refetch()}),250)};return(0,c.useEffect)((function(){ri((0,C.J)(Z.search,"tv"))}),[Z.search]),(0,S.rf)((function(){var i=M.parse(Z.search),e=i&&i.page&&"string"===typeof i.page?Number(i.page):1;((null===q||void 0===q?void 0:q.page)||1)<e&&oi.hasNextPage&&($.on(),oi.fetchNextPage())}),[null===q||void 0===q?void 0:q.page]),(0,S.qR)((function(){var i=M.parse(Z.search);O(Object.keys(i).length>0?y().merge((0,r.Z)((0,r.Z)({},B),i)):y().merge((0,r.Z)((0,r.Z)({},B),{},{sort_by:"popularity.desc"}))),setTimeout((function(){return oi.refetch()}),250)})),(0,c.useEffect)((function(){return function(){return e.cancel()}}),[]),(0,W.jsx)(V.Z,{title:"TV Shows",children:{actions:(0,W.jsxs)(x.Ug,{width:l?"100%":"auto",spacing:2,children:[(0,W.jsx)(z.Z,{renderButton:function(i){var e=i.color,t=i.onClick;return(0,W.jsx)(E.Z,{color:e,isFullWidth:l,isDisabled:oi.isFetching||oi.isLoading||oi.isError,onClick:t,variant:"outlined",sx:{back:{height:"".concat(Y,"px")}},children:"Sort By"})},sortBy:(0,o.Z)(N.L),onSort:function(i){var e=y().omit(M.parse(L.toString()||""),"sort_by"),t={sort_by:"".concat(i.sortBy.value,".").concat(i.direction)};O(y().mergeWith((0,r.Z)((0,r.Z)({},e),t))),setTimeout((function(){return oi.refetch()}),250)}}),(0,W.jsx)(P.Z,{renderButton:function(i){var e=i.color,t=i.onClick;return(0,W.jsx)(E.Z,{color:e,renderRight:ti>0?function(i){var e=i.color;return(0,W.jsx)(m.pT,{in:!0,unmountOnExit:!0,children:(0,W.jsx)(T.Z,{color:e,size:"xs",children:(0,W.jsx)(u.ZP,{duration:1,end:ti})})})}:void 0,isFullWidth:l,isDisabled:oi.isFetching||oi.isLoading||oi.isError,onClick:t,variant:"outlined",sx:{back:{height:"".concat(Y,"px")}},children:"Filter"})},mediaType:"tv",onFilter:si}),(0,W.jsx)(F.Z,{ref:G})]}),body:(0,W.jsxs)(x.gC,{width:"100%",spacing:4,px:2,pt:2,children:[(0,W.jsxs)(x.gC,{width:"100%",spacing:2,children:[(0,W.jsx)(m.UO,{in:ti>0,unmountOnExit:!0,style:{width:"100%"},children:(0,W.jsx)(I.Z,{mediaType:"tv",onTagDelete:function(i,e){return si((0,r.Z)((0,r.Z)({},e),{},(0,n.Z)({},i,P.P[i])))},onClear:function(){return si((0,r.Z)({},P.P))}})}),(0,W.jsx)(_.Z,{isError:oi.isError,isSuccess:oi.isSuccess,isLoading:oi.isFetching||oi.isLoading,shows:(null===q||void 0===q?void 0:q.results)||[]})]}),(0,W.jsx)(m.MT,{in:!oi.isError&&((null===q||void 0===q?void 0:q.total_results)||0)>0,unmountOnExit:!0,style:{width:l?"100%":"auto"},children:(0,W.jsx)(D.Z,{amount:(null===q||void 0===q||null===(i=q.results)||void 0===i?void 0:i.length)||0,total:(null===q||void 0===q?void 0:q.total_results)||0,label:"TV Shows",isLoading:oi.isFetching||oi.isLoading,isButtonVisible:(oi.hasNextPage,!oi.isError),onClick:function(){var i=(null===q||void 0===q?void 0:q.page)||1,e=M.parse(L.toString()||"");O(y().mergeWith((0,r.Z)((0,r.Z)({},e),{},{page:i+1}))),$.on(),setTimeout((function(){return oi.fetchNextPage()}),250)}})})]})}})}}}]);
//# sourceMappingURL=895.b00745f9.chunk.js.map