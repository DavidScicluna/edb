"use strict";(self.webpackChunkedb=self.webpackChunkedb||[]).push([[584],{33027:function(e,n,t){t.d(n,{Z:function(){return v},y:function(){return h}});var i=t(94869),o=t(20347),r=t(61895),a=t(11428),s=t(23890),c=t(72233),l=t(8126),u=t(8771),d=function(e){var n=(0,a.Fg)(),t=(0,c.v9)((function(e){return e.user.ui.theme.color})),i=(0,s.h4)(),d=(0,r.Z)(i,2),p=d[0],g=d[1].height,h=e.renderLeft,v=e.label,f=e.value,m=e.isActive,x=void 0!==m&&m,y=e.onClick;return(0,u.jsx)(l.Z,{ref:p,color:x?t:"gray",isFullWidth:!0,isClickable:!0,onClick:function(){return y(f)},p:4,sx:{back:{minWidth:"".concat(1.5*g,"px")}},children:(0,u.jsxs)(o.M5,{flexDirection:"column",children:[h({isActive:x,fontSize:n.fontSizes["4xl"]}),(0,u.jsx)(o.xv,{align:"center",fontSize:"xl",fontWeight:"semibold",textTransform:"uppercase",whiteSpace:"nowrap",children:v})]})})},p=t(47779),g=t(41484),h=[{renderLeft:function(e){var n=e.isActive,t=e.fontSize;return(0,u.jsx)(p.Z,{icon:"theaters",type:n?"filled":"outlined",fontSize:t})},label:"Movies",value:"movie"},{renderLeft:function(e){var n=e.isActive,t=e.fontSize;return(0,u.jsx)(p.Z,{icon:"tv",type:n?"filled":"outlined",fontSize:t})},label:"TV Shows",value:"tv"},{renderLeft:function(e){var n=e.isActive,t=e.fontSize;return(0,u.jsx)(p.Z,{icon:"people_alt",type:n?"filled":"outlined",fontSize:t})},label:"People",value:"person"},{renderLeft:function(e){var n=e.isActive,t=e.fontSize;return(0,u.jsx)(p.Z,{icon:"business",type:n?"filled":"outlined",fontSize:t})},label:"Companies",value:"company"},{renderLeft:function(e){var n=e.isActive,t=e.fontSize;return(0,u.jsx)(p.Z,{icon:"library_books",type:n?"filled":"outlined",fontSize:t})},label:"Collections",value:"collection"}],v=function(e){var n=e.mediaTypes,t=e.mediaType,r=e.onSetType,a=function(e){r(e)};return(0,u.jsx)(o.Ug,{width:"100%",wrap:"wrap",spacing:0,gap:2,children:h.map((function(e){return n&&n.includes(e.value)||!n?(0,u.jsx)(o.M5,{flex:1,children:(0,g.createElement)(d,(0,i.Z)((0,i.Z)({},e),{},{key:e.value,isActive:e.value===t,onClick:a}))}):null}))})}},24808:function(e,n,t){t.d(n,{Kz:function(){return g},oh:function(){return h}});var i=t(94869),o=t(11428),r=t(1459),a=t(75848),s=t(20347),c=t(10514),l=t.n(c),u=t(47690),d=t(9238),p=t(8771),g=function(e){switch(e){case"sm":return.5;case"lg":return 2;default:return 1}},h=function(e,n){switch(e){case"sm":return(0,d.d4)((0,d.Cy)(n.fontSizes.xs,"rem"))+2;case"lg":return(0,d.d4)((0,d.Cy)(n.fontSizes.md,"rem"))+3;default:return(0,d.d4)((0,d.Cy)(n.fontSizes.sm,"rem"))+2}};n.ZP=function(e){var n=(0,o.Fg)(),t=(0,r.If)().colorMode,c=e.label,d=e.color,v=void 0===d?"gray":d,f=e.renderLeft,m=e.renderRight,x=e.isDisabled,y=void 0!==x&&x,b=e.isFullWidth,Z=void 0!==b&&b,w=e.isOnlyTab,j=void 0!==w&&w,S=e.isSelected,T=void 0!==S&&S,L=e.size,_=void 0===L?"md":L,k=T&&!j,P=(0,u.Z)(n,{color:v,isFullWidth:Z,isOnlyTab:j,isSelected:k,size:_}),z=function(){return{width:"".concat(h(_,n),"px"),height:"".concat(h(_,n),"px"),color:v,isSelected:k,fontSize:n.fontSizes[_],size:"sm"===_?"xs":"md"===_?"sm":"md"}};return(0,p.jsx)(a.OK,{isDisabled:y,isSelected:k,sx:(0,i.Z)({},l().merge(P.tab.default,P.tab[_],P[t])),_disabled:(0,i.Z)({},l().merge(P.disabled)),children:(0,p.jsxs)(s.Ug,{width:"100%",alignItems:"inherit",justifyContent:"inherit",spacing:g(_),children:[f?f(z()):null,(0,p.jsx)(s.M5,{children:c}),m?m(z()):null]})})}},47690:function(e,n,t){var i=(0,t(9238).pt)();n.Z=function(e,n){var t=n.color,o=void 0===t?"gray":t,r=n.isFullWidth,a=void 0!==r&&r,s=n.isOnlyTab,c=void 0!==s&&s,l=n.isSelected,u=void 0!==l&&l,d=n.size,p=void 0===d?"md":d;return{tab:{default:{cursor:c?"default":"pointer",width:a?"100%":"auto",height:"100%",userSelect:"none",willChange:"auto",display:"flex",flexWrap:"nowrap",alignItems:"center",justifyContent:"center",fontWeight:"semibold",textTransform:"uppercase",whiteSpace:"nowrap",lineHeight:"normal",opacity:1,outline:i?"none !important":"0px auto",borderStyle:"solid",WebkitTapHighlightColor:"transparent",transition:"".concat(e.transition.duration.faster," ").concat(e.transition.easing["ease-out"]," !important"),"&:focus:not(:focus-visible)":{outline:i?"none !important":"0px auto"},"&:focus":{boxShadow:"none",outline:i?"none !important":"0px auto"},"&:active":{outline:i?"none !important":"0px auto"},"& .edb-icon":{transition:"".concat(e.transition.duration.faster," ").concat(e.transition.easing["ease-out"]," !important")}},sm:{fontSize:"xs",borderRadius:"sm",borderWidth:"1px",padding:c?0:"".concat(e.space[.5]," ").concat(e.space[1])},md:{fontSize:"sm",borderRadius:"base",borderWidth:"2px",padding:c?0:"".concat(e.space[1]," ").concat(e.space[2])},lg:{fontSize:"md",borderRadius:"lg",borderWidth:"2px",padding:c?0:"".concat(e.space[1.5]," ").concat(e.space[3])}},disabled:{cursor:"not-allowed",pointerEvents:"none",opacity:.5},light:{color:u?"gray.50":"gray.400",borderColor:u?"".concat(o,".").concat("gray"===o?400:500):"transparent",backgroundColor:u?"".concat(o,".").concat("gray"===o?400:500):"transparent","& .edb-icon":{color:u?"gray.50":"gray.400"},"&:hover":{color:u?"gray.50":"gray.".concat(c?400:500),borderColor:u?"".concat(o,".").concat("gray"===o?500:600):"transparent",backgroundColor:u?"".concat(o,".").concat("gray"===o?500:600):"transparent","& .edb-icon":{color:u?"gray.50":"gray.500"}},"&:focus-visible":{outline:i?"none":"".concat("sm"===p?1:2,"px auto ").concat(e.colors[o]["gray"===o?400:500]),outlineOffset:i?0:"".concat("sm"===p?2:"md"===p?3:4,"px")}},dark:{color:u?"gray.900":"gray.500",borderColor:u?"".concat(o,".").concat("gray"===o?500:400):"transparent",backgroundColor:u?"".concat(o,".").concat("gray"===o?500:400):"transparent","& .edb-icon":{color:u?"gray.900":"gray.500"},"&:hover":{color:u?"gray.900":"gray.".concat(c?500:400),borderColor:u?"".concat(o,".").concat("gray"===o?400:300):"transparent",backgroundColor:u?"".concat(o,".").concat("gray"===o?400:300):"transparent","& .edb-icon":{color:u?"gray.900":"gray.400"}},"&:focus-visible":{outline:i?"none":"".concat("sm"===p?1:2,"px auto ").concat(e.colors[o]["gray"===o?500:400]),outlineOffset:i?0:"".concat("sm"===p?2:"md"===p?3:4,"px")}}}}},27590:function(e,n,t){var i=t(94869),o=t(41484),r=t(75848),a=t(24808),s=t(23698),c=t(35639),l=t(8771);n.Z=function(e){var n=(0,o.useContext)(s.R).activeTab,t=e.children,u=void 0===t?[]:t,d=e.color,p=void 0===d?"gray":d,g=e.isActiveForced,h=void 0!==g&&g,v=e.size,f=void 0===v?"md":v;return(0,l.jsx)(r.td,{width:"100%",height:"100%",children:(0,l.jsx)(c.Z,{children:u.map((function(e,t){return(0,o.createElement)(a.ZP,(0,i.Z)((0,i.Z)({},e),{},{key:t,color:p,isOnlyTab:!h&&1===u.length,isSelected:n===t,size:f}))}))})})}},26668:function(e,n,t){var i=t(41484),o=t(75848),r=t(20347),a=t(11557),s=t(10731),c=t(23698),l=t(8771);n.Z=function(e){var n=e.children,t=(0,i.useContext)(c.R).activeTab,u=void 0===t?0:t;return(0,l.jsx)(o.nP,{as:s.M,width:"100%",exitBeforeEnter:!0,initial:!1,children:n.map((function(e,n){return(0,l.jsx)(o.x4,{width:"100%",p:0,children:(0,l.jsx)(r.xu,{as:a.pT,in:u===n,width:"100%",unmountOnExit:!0,children:e})},"tab_panel_".concat(n))}))})}},23698:function(e,n,t){t.d(n,{R:function(){return l}});var i=t(94869),o=t(55550),r=t(41484),a=t(75848),s=t(8771),c=["children","activeTab"],l=(0,r.createContext)({activeTab:-1}),u=(0,r.forwardRef)((function(e,n){var t=e.children,r=e.activeTab,u=void 0===r?-1:r,d=(0,o.Z)(e,c);return(0,s.jsx)(a.mQ,(0,i.Z)((0,i.Z)({},d),{},{ref:n,width:"100%",maxWidth:"100%",activeTab:u,index:u,isLazy:!0,lazyBehavior:"unmount",variant:"unstyled",children:(0,s.jsx)(l.Provider,{value:{activeTab:u},children:t})}))}));n.Z=u},44492:function(e,n,t){t.d(n,{Z:function(){return f}});var i=t(10514),o=t.n(i),r=t(79829),a=t(88010),s=t(18978),c=t(43583),l=t(94869),u=t(48831),d=t.n(u),p=t(31249),g=t(8771),h=function(e){var n=e.person,t=e.isLoading,i=void 0===t||t,o=n||{},r=o.name,a=o.profile_path,s=o.known_for,u=o.known_for_department;return(0,g.jsx)(p.Z,{mediaItem:n?(0,l.Z)({},n):void 0,mediaType:"person",image:{alt:"".concat(r||""," person poster"),src:a||"",size:{thumbnail:"w45",full:"original"}},title:r||"",subtitle:u||"",description:d()((0,c.Z)(s||[]),"popularity",{reverse:!0}).map((function(e){return e.title||e.name||void 0})).join(" \u2022 "),isLoading:i})},v=t(70461),f=function(e){var n=e.isError,t=void 0!==n&&n,i=e.isSuccess,c=void 0!==i&&i,l=e.isLoading,u=void 0===l||l,d=e.people;return!u&&t?(0,g.jsx)(a.Z,{label:"Oh no! Something went wrong",description:"Failed to fetch people list!",variant:"outlined"}):!u&&c&&d&&0===d.length?(0,g.jsx)(r.Z,{label:"People list is currently empty!",variant:"outlined"}):!u&&c&&d&&d.length>0?(0,g.jsx)(s.Z,{children:function(e){var n=e.displayMode;return d.map((function(e){return"list"===n?(0,g.jsx)(h,{person:e,isLoading:!1},e.id):(0,g.jsx)(v.Z,{person:e,isLoading:!1},e.id)}))}}):(0,g.jsx)(s.Z,{children:function(e){var n=e.displayMode;return o().range(0,c&&d&&d.length>0?d.length:20).map((function(e,t){return"list"===n?(0,g.jsx)(h,{isLoading:!0},t):(0,g.jsx)(v.Z,{isLoading:!0},t)}))}})}},70461:function(e,n,t){var i=t(94869),o=t(7378),r=t(8771);n.Z=function(e){var n=e.person,t=e.width,a=e.isLoading,s=void 0===a||a,c=n||{},l=c.name,u=c.profile_path,d=c.known_for_department;return(0,r.jsx)(o.Z,{width:t||"100%",mediaItem:n?(0,i.Z)({},n):void 0,mediaType:"person",image:{alt:"".concat(l||""," person poster"),src:u||"",size:{thumbnail:"w45",full:"original"}},title:l||"",subtitle:d||"",isLoading:s})}},76915:function(e,n,t){var i=t(10514),o=t.n(i),r=t(79829),a=t(88010),s=t(18978),c=t(2991),l=t(29256),u=t(8771);n.Z=function(e){var n=e.isError,t=void 0!==n&&n,i=e.isSuccess,d=void 0!==i&&i,p=e.isLoading,g=void 0===p||p,h=e.shows;return!g&&t?(0,u.jsx)(a.Z,{label:"Oh no! Something went wrong",description:"Failed to fetch TV Shows list!",variant:"outlined"}):!g&&d&&h&&0===h.length?(0,u.jsx)(r.Z,{label:"TV Shows list is currently empty!",variant:"outlined"}):!g&&d&&h&&h.length>0?(0,u.jsx)(s.Z,{children:function(e){var n=e.displayMode;return h.map((function(e){return"list"===n?(0,u.jsx)(c.Z,{show:e,isLoading:!1},e.id):(0,u.jsx)(l.Z,{show:e,isLoading:!1},e.id)}))}}):(0,u.jsx)(s.Z,{children:function(e){var n=e.displayMode;return o().range(0,d&&h&&h.length>0?h.length:20).map((function(e,t){return"list"===n?(0,u.jsx)(c.Z,{isLoading:!0},t):(0,u.jsx)(l.Z,{isLoading:!0},t)}))}})}},2991:function(e,n,t){var i=t(94869),o=t(10514),r=t.n(o),a=t(9238),s=t(31249),c=t(8771);n.Z=function(e){var n=e.show,t=e.isLoading,o=void 0===t||t,l=n||{},u=l.name,d=l.poster_path,p=l.vote_average,g=l.vote_count,h=l.first_air_date,v=l.genre_ids,f=l.overview;return(0,c.jsx)(s.Z,{mediaItem:n?(0,i.Z)({},n):void 0,mediaType:"tv",image:{alt:"".concat(u||""," tv show poster"),src:d||"",size:{thumbnail:"w92",full:"original"}},rating:{rating:p||null,count:g||null},title:u||"",subtitle:"".concat(r().compact([r().isNil(h)||r().isEmpty(h)?void 0:"".concat((0,a.ok)(h||"","full")),r().isNil(v)||r().isEmpty(v)?void 0:"".concat((0,a.Fm)(v||[],"tv"))]).join(" \u2022 ")),description:f||"",isLoading:o})}},29256:function(e,n,t){var i=t(94869),o=t(10514),r=t.n(o),a=t(9238),s=t(7378),c=t(8771);n.Z=function(e){var n=e.show,t=e.width,o=e.isLoading,l=void 0===o||o,u=n||{},d=u.name,p=u.poster_path,g=u.vote_average,h=u.first_air_date,v=u.genre_ids;return(0,c.jsx)(s.Z,{width:t||"100%",mediaItem:n?(0,i.Z)({},n):void 0,mediaType:"tv",image:{alt:"".concat(d||""," tv show poster"),src:p||"",size:{thumbnail:"w92",full:"original"}},rating:g||null,title:d||"",subtitle:"".concat(r().compact([r().isNil(h)||r().isEmpty(h)?void 0:"".concat((0,a.ok)(h||"","year")),r().isNil(v)||r().isEmpty(v)?void 0:"".concat((0,a.Fm)(v||[],"tv"))]).join(" \u2022 ")),isLoading:l})}},13584:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var i=t(43583),o=t(26664),r=t(61895),a=t(75231),s=t.n(a),c=t(41484),l=t(97417),u=t(86617),d=t(66289),p=t(20347),g=t(11557),h=t(14539),v=t.n(h),f=t(10731),m=t(10514),x=t.n(m),y=t(6842),b=t(23890),Z=t(72233),w=t(82115),j=t(54077),S=t(47779),T=t(27590),L=t(8771),_=function(e){var n=e.activeTab,t=(0,Z.v9)((function(e){return e.user.ui.theme.color})),i=(0,b.h4)(),o=(0,r.Z)(i,2),a=o[0],s=o[1],c=s.width,l=s.height;return(0,L.jsxs)(p.Ug,{width:"100%",minHeight:"43px",maxHeight:"43px",spacing:2,divider:x().isNil(n)?void 0:(0,L.jsx)(j.Z,{orientation:"vertical",height:"".concat(l,"px"),mx:2}),children:[(0,L.jsx)(p.M5,{width:"calc(100% - ".concat(x().isNil(n)?0:c+34,"px)"),children:(0,L.jsx)(T.Z,{color:t,size:"lg",children:[{label:"Movies",renderLeft:function(e){var n=e.isSelected,t=e.width,i=e.height;return(0,L.jsx)(S.Z,{icon:"theaters",type:n?"filled":"outlined",width:t,height:i})}},{label:"TV Shows",renderLeft:function(e){var n=e.isSelected,t=e.width,i=e.height;return(0,L.jsx)(S.Z,{icon:"tv",type:n?"filled":"outlined",width:t,height:i})}},{label:"People",renderLeft:function(e){var n=e.isSelected,t=e.width,i=e.height;return(0,L.jsx)(S.Z,{icon:"people_alt",type:n?"filled":"outlined",width:t,height:i})}}]})}),(0,L.jsx)(g.pT,{in:!x().isNil(n),unmountOnExit:!0,children:(0,L.jsx)(w.Z,{ref:a})})]})},k=t(79829),P=t(33027),z=function(e){var n=e.onSelected;return(0,L.jsx)(k.Z,{button:(0,L.jsx)(P.Z,{mediaTypes:["movie","tv","person"],onSetType:function(e){return n(P.y.findIndex((function(n){return e===n.value})))}}),hasIllustration:!1,label:"Select Media-Type",description:"Select the Media-Type list that you would prefer to view",size:"xl",variant:"outlined"})},C=t(7300),E=t(96981),M=t(21805),N=function(e){var n,t=e.movies,i=e.query,o=e.onLoadMore,a=(0,C.ac)("(max-width: 600px)"),s=(0,r.Z)(a,1)[0];return(0,L.jsxs)(p.gC,{width:"100%",spacing:4,children:[(0,L.jsx)(M.Z,{isError:i.isError,isSuccess:i.isSuccess,isLoading:i.isFetching||i.isLoading,movies:(null===t||void 0===t?void 0:t.results)||[]}),(0,L.jsx)(p.M5,{style:{width:s?"100%":"auto"},children:(0,L.jsx)(E.Z,{amount:(null===t||void 0===t||null===(n=t.results)||void 0===n?void 0:n.length)||0,total:(null===t||void 0===t?void 0:t.total_results)||0,label:"Trending Movies",isLoading:i.isFetching||i.isLoading,isButtonVisible:i.hasNextPage&&!i.isError,onClick:function(){return o()}})})]})},F=t(44492),W=function(e){var n,t=e.people,i=e.query,o=e.onLoadMore,a=(0,C.ac)("(max-width: 600px)"),s=(0,r.Z)(a,1)[0];return(0,L.jsxs)(p.gC,{width:"100%",spacing:4,children:[(0,L.jsx)(F.Z,{isError:i.isError,isSuccess:i.isSuccess,isLoading:i.isFetching||i.isLoading,people:(null===t||void 0===t?void 0:t.results)||[]}),(0,L.jsx)(p.M5,{style:{width:s?"100%":"auto"},children:(0,L.jsx)(E.Z,{amount:(null===t||void 0===t||null===(n=t.results)||void 0===n?void 0:n.length)||0,total:(null===t||void 0===t?void 0:t.total_results)||0,label:"Trending People",isLoading:i.isFetching||i.isLoading,isButtonVisible:i.hasNextPage&&!i.isError,onClick:function(){return o()}})})]})},O=t(76915),I=function(e){var n,t=e.shows,i=e.query,o=e.onLoadMore,a=(0,C.ac)("(max-width: 600px)"),s=(0,r.Z)(a,1)[0];return(0,L.jsxs)(p.gC,{width:"100%",spacing:4,children:[(0,L.jsx)(O.Z,{isError:i.isError,isSuccess:i.isSuccess,isLoading:i.isFetching||i.isLoading,shows:(null===t||void 0===t?void 0:t.results)||[]}),(0,L.jsx)(p.M5,{style:{width:s?"100%":"auto"},children:(0,L.jsx)(E.Z,{amount:(null===t||void 0===t||null===(n=t.results)||void 0===n?void 0:n.length)||0,total:(null===t||void 0===t?void 0:t.total_results)||0,label:"Trending TV Shows",isLoading:i.isFetching||i.isLoading,isButtonVisible:i.hasNextPage&&!i.isError,onClick:function(){return o()}})})]})},q=t(50762),A=t(23698),B=t(26668),R=t(87929),V=["movie","tv","person","company","collection"],H=function(){var e=v().CancelToken.source(),n=(0,u.TH)(),t=(0,u.s0)(),a=(0,c.useState)(),h=(0,r.Z)(a,2),m=h[0],Z=h[1],w=(0,c.useState)(),S=(0,r.Z)(w,2),T=S[0],k=S[1],P=(0,c.useState)(),C=(0,r.Z)(P,2),E=C[0],M=C[1],F=(0,c.useState)(),O=(0,r.Z)(F,2),H=O[0],Q=O[1],D=(0,d.kt)(),U=(0,r.Z)(D,2),K=U[0],G=U[1],J=(0,l.useInfiniteQuery)("trending-movies",function(){var n=(0,o.Z)(s().mark((function n(t){var i,o,r,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.pageParam,o=void 0===i?1:i,n.next=3,q.Z.get("/trending/movie/day",{params:{page:o||1},cancelToken:e.token}).then((function(e){return(0,q.t)(K?0:2500,e)}));case 3:return r=n.sent,a=r.data,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),{enabled:0===m,getPreviousPageParam:function(e){return 1!==e.page&&((null===e||void 0===e?void 0:e.page)||0)-1},getNextPageParam:function(e){return e.page!==e.total_pages&&((null===e||void 0===e?void 0:e.page)||0)+1},onSuccess:function(e){var n=[];e.pages.forEach((function(e){n=[].concat((0,i.Z)(n),(0,i.Z)((null===e||void 0===e?void 0:e.results)||[]))})),k({page:e.pages[e.pages.length-1].page,results:(0,i.Z)(x().uniqBy(n,"id")),total_pages:e.pages[e.pages.length-1].total_pages,total_results:e.pages[e.pages.length-1].total_results})}}),X=(0,l.useInfiniteQuery)("trending-tv-shows",function(){var n=(0,o.Z)(s().mark((function n(t){var i,o,r,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.pageParam,o=void 0===i?1:i,n.next=3,q.Z.get("/trending/tv/day",{params:{page:o||1},cancelToken:e.token}).then((function(e){return(0,q.t)(K?0:2500,e)}));case 3:return r=n.sent,a=r.data,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),{enabled:1===m,getPreviousPageParam:function(e){return 1!==e.page&&((null===e||void 0===e?void 0:e.page)||0)-1},getNextPageParam:function(e){return e.page!==e.total_pages&&((null===e||void 0===e?void 0:e.page)||0)+1},onSuccess:function(e){var n=[];e.pages.forEach((function(e){n=[].concat((0,i.Z)(n),(0,i.Z)(e.results||[]))})),M({page:e.pages[e.pages.length-1].page,results:(0,i.Z)(x().uniqBy(n,"id")),total_pages:e.pages[e.pages.length-1].total_pages,total_results:e.pages[e.pages.length-1].total_results})}}),Y=(0,l.useInfiniteQuery)("trending-people",function(){var n=(0,o.Z)(s().mark((function n(t){var i,o,r,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.pageParam,o=void 0===i?1:i,n.next=3,q.Z.get("/trending/person/week",{params:{page:o||1},cancelToken:e.token}).then((function(e){return(0,q.t)(K?0:2500,e)}));case 3:return r=n.sent,a=r.data,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),{enabled:2===m,getPreviousPageParam:function(e){return 1!==e.page&&((null===e||void 0===e?void 0:e.page)||0)-1},getNextPageParam:function(e){return e.page!==e.total_pages&&((null===e||void 0===e?void 0:e.page)||0)+1},onSuccess:function(e){var n=[];e.pages.forEach((function(e){n=[].concat((0,i.Z)(n),(0,i.Z)((null===e||void 0===e?void 0:e.results)||[]))})),Q({page:e.pages[e.pages.length-1].page,results:(0,i.Z)(x().uniqBy(n,"id")),total_pages:e.pages[e.pages.length-1].total_pages,total_results:e.pages[e.pages.length-1].total_results})}}),$=function(){switch(m){case 0:var e=(null===T||void 0===T?void 0:T.page)||1;t({pathname:".",hash:V[0],search:y.stringify(x().mergeWith({page:e+1}))}),G.on(),setTimeout((function(){return J.fetchNextPage()}),250);break;case 1:var n=(null===E||void 0===E?void 0:E.page)||1;t({pathname:".",hash:V[1],search:y.stringify(x().mergeWith({page:n+1}))}),G.on(),setTimeout((function(){return X.fetchNextPage()}),250);break;case 2:var i=(null===H||void 0===H?void 0:H.page)||1;t({pathname:".",hash:V[2],search:y.stringify(x().mergeWith({page:i+1}))}),G.on(),setTimeout((function(){return Y.fetchNextPage()}),250)}};return(0,b.rf)((function(){if(0===m){var e=y.parse(n.search),t=e&&e.page&&"string"===typeof e.page?Number(e.page):1;((null===T||void 0===T?void 0:T.page)||1)<t&&J.hasNextPage&&(G.on(),J.fetchNextPage())}}),[null===T||void 0===T?void 0:T.page]),(0,b.rf)((function(){if(1===m){var e=y.parse(n.search),t=e&&e.page&&"string"===typeof e.page?Number(e.page):1;((null===E||void 0===E?void 0:E.page)||1)<t&&X.hasNextPage&&(G.on(),X.fetchNextPage())}}),[null===E||void 0===E?void 0:E.page]),(0,b.rf)((function(){if(2===m){var e=y.parse(n.search),t=e&&e.page&&"string"===typeof e.page?Number(e.page):1;((null===H||void 0===H?void 0:H.page)||1)<t&&Y.hasNextPage&&(G.on(),Y.fetchNextPage())}}),[null===H||void 0===H?void 0:H.page]),(0,c.useEffect)((function(){"/trending"===n.pathname&&function(){var e=n.hash.replace("#","");switch(G.off(),e){case"movie":return void Z(0);case"tv":return void Z(1);case"person":return void Z(2);default:Z(void 0)}}()}),[n.hash]),(0,c.useEffect)((function(){return function(){return e.cancel()}}),[]),(0,L.jsx)(R.Z,{title:"Trending",children:{body:(0,L.jsx)(A.Z,{activeTab:m,onChange:function(e){return t({pathname:".",hash:V[e]})},children:(0,L.jsxs)(p.gC,{width:"100%",divider:(0,L.jsx)(j.Z,{orientation:"horizontal"}),spacing:2,p:2,children:[(0,L.jsx)(_,{activeTab:m}),(0,L.jsx)(f.M,{exitBeforeEnter:!0,initial:!1,children:x().isNil(m)?(0,L.jsx)(p.M5,{as:g.pT,width:"100%",in:!0,unmountOnExit:!0,children:(0,L.jsx)(z,{onSelected:function(e){return t({pathname:".",hash:V[e]})}})},"media-types-picker"):(0,L.jsx)(p.M5,{as:g.pT,width:"100%",in:!0,unmountOnExit:!0,children:(0,L.jsxs)(B.Z,{children:[(0,L.jsx)(N,{movies:T,query:J,onLoadMore:$}),(0,L.jsx)(I,{shows:E,query:X,onLoadMore:$}),(0,L.jsx)(W,{people:H,query:Y,onLoadMore:$})]})},"list-tab-panels")})]})})}})}}}]);
//# sourceMappingURL=584.d17d708d.chunk.js.map