"use strict";(self.webpackChunkedb=self.webpackChunkedb||[]).push([[459],{75459:function(e,n,t){t.r(n),t.d(n,{default:function(){return xe}});var i=t(61895),o=t(41484),r=t(7300),l=t(66289),s=t(2716),c=t(20347),a=t(11557),d=t(10731),u=t(10514),h=t.n(u),f=t(54431),g=t.n(f),v=t(24049),x=t(8833),p=t(72233),j=t(89782),b=t(37839),m=t(1285),C=t(8771),Z=function(e){var n=e.id,t=e.isOpen,o=e.onClose,l=e.onCloseToast,s=(0,r.ac)("(max-width: 600px)"),c=(0,i.Z)(s,1)[0],a=(0,x.I0)(),d=(0,p.v9)((function(e){return e.user.data.lists})),u=(0,p.v9)((function(e){return e.user.data.lists.find((function(e){return e.id===n}))}));return(0,C.jsx)(b.Z,{renderActions:function(e){var n=e.colorMode,t=e.size;return(0,C.jsx)(j.Z,{color:"red",colorMode:n,onClick:function(){return u&&a((0,m.Wd)(d.filter((function(e){return e.id!==u.id})))),o(),void l()},size:t,children:"Delete"})},title:c?"Delete":"Delete ".concat(u?'"'.concat(u.label,'"'):""," list"),description:"Are you sure you want to delete the ".concat(u?'"'.concat(u.label,'"'):""," list? You will not be able to retrieve this list back!"),isOpen:t,onClose:o})},y=t(94869),k=t(47098),S=t(11428),w=t(9522),z=t(81519),M={label:"",description:""},O=z.Ry().shape({label:z.Z_().required().label("Label"),description:z.Z_().label("Description")}),D=t(43811),T=t(22756),L=t(10939),E=["Action Movies","DC Movies","Leonardo DiCaprio","Classics","Comedy","Mafia Movies & TV Shows","Jennifer Lawrence","Johnny Depp","Angelina Jolie"],I=E[Math.floor(Math.random()*E.length)],_=function(e){var n=e.id,t=e.isOpen,s=e.onClose,a=(0,S.Fg)(),d=(0,r.ac)("(max-width: 600px)"),u=(0,i.Z)(d,1)[0],h=(0,l.qY)(),f=h.isOpen,v=h.onOpen,Z=h.onClose,z=(0,x.I0)(),E=(0,p.v9)((function(e){return e.user.data.lists})),_=(0,p.v9)((function(e){return e.user.data.lists.find((function(e){return e.id===n}))})),A=(0,p.v9)((function(e){return e.user.ui.theme.color})),F=(0,k.cI)({defaultValues:M,reValidateMode:"onSubmit",resolver:(0,w.X)(O)}),W=(0,k.cl)({control:F.control}).isDirty;return(0,o.useEffect)((function(){t&&_&&F.reset({label:_.label,description:_.description})}),[t]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(L.Z,{title:u?"Edit List":"Edit ".concat(_?'"'.concat(_.label,'"'):""," List"),renderActions:function(e){var n=e.color,t=e.colorMode,i=e.size;return(0,C.jsx)(j.Z,{color:n,colorMode:t,isDisabled:!W,onClick:F.handleSubmit((function(e){return function(e){_&&z((0,m.Wd)(E.map((function(n){return n.id===_.id?(0,y.Z)((0,y.Z)({},_),{},{label:e.label,description:(null===e||void 0===e?void 0:e.description)||"",date:g()(new Date).toISOString(),results:(0,y.Z)({},_.results)}):(0,y.Z)({},n)})))),s()}(e)})),size:i,children:u?"Save":"Save List"})},isOpen:t,onClose:function(){W?v():s()},isCentered:!0,size:"lg",children:(0,C.jsxs)(c.gC,{spacing:3,p:2,children:[(0,C.jsx)(k.Qr,{control:F.control,name:"label",render:function(e){var n=e.field,t=n.onChange,i=n.value,o=n.name,r=e.fieldState.error;return(0,C.jsx)(D.Z,{color:A,label:"Label",error:r,name:o,placeholder:'Try "'.concat(I,'"'),onChange:t,isFullWidth:!0,isRequired:!0,value:i})}}),(0,C.jsx)(k.Qr,{control:F.control,name:"description",render:function(e){var n=e.field,t=n.onChange,i=n.value,o=n.name,r=e.fieldState.error;return(0,C.jsx)(T.Z,{color:A,label:"Description",error:r,name:o,onChange:t,isFullWidth:!0,value:i,sx:{textarea:{height:a.space[12.5]}}})}})]})}),(0,C.jsx)(b.Z,{renderActions:function(e){var n=e.color,t=e.colorMode,i=e.size;return(0,C.jsx)(j.Z,{color:n,colorMode:t,onClick:function(){return Z(),void s()},size:i,children:"Close"})},title:"Unsaved data!",description:"Are you sure you want to close the modal, the data inserted will be lost unless you save it!",isOpen:f,onClose:Z})]})},A=t(67770),F=t(23890),W=t(1459),U=t(47779),q=t(24808),N=t(47690),Y=function(e){var n=e.isDisabled,t=void 0!==n&&n,i=e.isSelected,o=void 0!==i&&i,r=e.onClick,l=(0,S.Fg)(),s=(0,W.If)().colorMode,a=(0,p.v9)((function(e){return e.user.ui.theme.color})),d="lg",u=(0,N.Z)(l,{color:a,isFullWidth:!1,isOnlyTab:!1,isSelected:o,size:d}),f="".concat((0,q.oh)(d,l),"px");return(0,C.jsx)(c.xu,{"aria-disabled":t,onClick:o?void 0:function(){return r()},sx:(0,y.Z)({},h().merge(u.tab.default,u.tab.lg,u[s])),_disabled:(0,y.Z)({},h().merge(u.disabled)),children:(0,C.jsxs)(c.Ug,{width:"100%",alignItems:"inherit",justifyContent:"inherit",spacing:(0,q.Kz)(d),children:[(0,C.jsx)(U.Z,{icon:"grid_on",type:o?"filled":"outlined",fontSize:f}),(0,C.jsx)(c.M5,{children:"Lists"})]})})},R=t(54915),V=t(54077),B=t(35639),J=t(27590),P=function(e){var n=e.activeTab,t=e.lists,o=e.onListsClick,r=(0,F.h4)(),l=(0,i.Z)(r,2),s=l[0],c=l[1].height,d=(0,p.v9)((function(e){return e.user.ui.theme.color}));return(0,C.jsxs)(B.Z,{ref:s,children:[(0,C.jsx)(Y,{isSelected:h().isNil(n),onClick:o}),(0,C.jsx)(V.Z,{orientation:"vertical",height:"".concat(c,"px"),mx:2}),(0,C.jsx)(J.Z,{color:d,isActiveForced:!0,size:"lg",children:h().orderBy(t,(function(e){return g()(e.date)}),["desc"]).map((function(e){return{label:e.label,renderRight:e.results.movies.length+e.results.tv.length>0?function(n){var t=n.isSelected,i=n.size;return(0,C.jsx)(a.pT,{in:!0,unmountOnExit:!0,children:(0,C.jsx)(R.Z,{color:t?d:"gray",isLight:!t,size:i,children:(0,C.jsx)(A.ZP,{duration:1,end:e.results.movies.length||0+e.results.tv.length||0})})})}:void 0}}))})]})},Q=t(21277),H=function(e){var n=(0,W.If)().colorMode,t=e.totalMovies,i=e.totalTvs,o=[{label:"Total",number:t+i},{label:"Movies",number:t},{label:"TV Shows",number:i}];return(0,C.jsx)(Q.pr,{width:"100%",border:"solid2",borderColor:"gray.".concat("light"===n?200:700),borderRadius:"base",p:1,children:(0,C.jsx)(c.Ug,{width:"100%",justifyContent:"space-between",divider:(0,C.jsx)(c.xu,{width:"2px",height:"44px",backgroundColor:"gray.".concat("light"===n?200:700)}),spacing:1,children:o.map((function(e,t){return(0,C.jsx)(Q.kN,{justifyContent:"center",children:(0,C.jsxs)(c.gC,{spacing:0,children:[(0,C.jsx)(Q.Jf,{color:"gray.".concat("light"===n?900:50),fontSize:"2xl",lineHeight:"normal",children:e.number}),(0,C.jsx)(Q.dw,{color:"gray.".concat("light"===n?400:500),fontSize:"xs",whiteSpace:"nowrap",textTransform:"uppercase",children:e.label})]})},t)}))})})},K=t(51880),X=function(e){var n=e.id,t=e.isOpen,i=e.onEdit,o=e.onDelete,r=e.onClose,l=(0,W.If)().colorMode,s=(0,p.v9)((function(e){return e.user.data.lists.find((function(e){return e.id===n}))}));return(0,C.jsx)(L.Z,{title:(0,C.jsxs)(c.gC,{alignItems:"flex-start",spacing:0,children:[(0,C.jsx)(c.xv,{fontSize:"md",fontWeight:"semibold",color:"gray.".concat("light"===l?900:50),children:"".concat(null!==s&&void 0!==s&&s.label?'"'.concat(s.label,'"'):""," List")}),(0,C.jsx)(c.xv,{align:"left",color:"gray.".concat("light"===l?400:500),fontSize:"xs",fontWeight:"normal",children:"".concat((s?(null===s||void 0===s?void 0:s.results.movies.length)+(null===s||void 0===s?void 0:s.results.tv.length):0)>0?"Updated":"Created"," ").concat(g()(null===s||void 0===s?void 0:s.date).isSame(g()(),"day")?g()(null===s||void 0===s?void 0:s.date).fromNow():g()(null===s||void 0===s?void 0:s.date).format("LL"))})]}),renderActions:function(e){var n=e.colorMode,t=e.size;return(0,C.jsxs)(c.Ug,{spacing:2,children:[(0,C.jsx)(j.Z,{colorMode:n,renderLeft:function(e){var n=e.fontSize;return(0,C.jsx)(U.Z,{icon:"edit",type:"outlined",fontSize:n})},onClick:function(){return i()},size:t,children:"Edit"}),(0,C.jsx)(j.Z,{color:"red",colorMode:n,renderLeft:function(e){var n=e.fontSize;return(0,C.jsx)(U.Z,{icon:"delete_outline",type:"outlined",fontSize:n})},onClick:function(){return o()},size:t,children:"Delete"})]})},isOpen:t,onClose:r,isCentered:!0,size:"lg",children:(0,C.jsxs)(c.gC,{width:"100%",spacing:2,p:2,children:[null!==s&&void 0!==s&&s.description?(0,C.jsx)(K.Z,{isFullWidth:!0,children:{header:{title:"Description"},body:(0,C.jsx)(c.xv,{align:"left",color:"gray.".concat("light"===l?900:50),fontSize:"lg",fontWeight:"normal",children:s.description})}}):null,(0,C.jsx)(H,{totalMovies:(null===s||void 0===s?void 0:s.results.movies.length)||0,totalTvs:(null===s||void 0===s?void 0:s.results.tv.length)||0})]})})},G=t(8126),$=t(55550),ee=t(55461),ne=["color","colorMode","isChecked","isDisabled"],te=function(e){var n=(0,S.Fg)(),t=(0,W.If)().colorMode,i=e.color,o=e.colorMode,r=e.isChecked,l=void 0!==r&&r,s=e.isDisabled,c=void 0!==s&&s,a=(0,$.Z)(e,ne),d=function(e,n){var t=n.color,i=void 0===t?"gray":t,o=n.isChecked,r=void 0!==o&&o,l=n.isDisabled;return{radio:{opacity:void 0!==l&&l?.5:1,transition:"".concat(e.transition.duration.faster," ").concat(e.transition.easing["ease-out"]),"&:focus":{boxShadow:"none !important"},"&.chakra-radio__control":{width:e.space[3],height:e.space[3],boxShadow:"none !important",transition:"".concat(e.transition.duration.faster," ").concat(e.transition.easing["ease-out"])},"& .edb-icon":{transition:"".concat(e.transition.duration.faster," ").concat(e.transition.easing["ease-out"])}},light:{"&.chakra-radio__control":{background:r?"".concat(i,".500"):"transparent",borderColor:r?"".concat(i,".500"):"gray.400",color:r?"gray.50":"transparent"},"&:hover":{"&.chakra-radio__control":{background:r?"".concat(i,".600"):"transparent",borderColor:r?"".concat(i,".600"):"gray.500",color:r?"gray.50":"transparent"}}},dark:{"&.chakra-radio__control":{background:r?"".concat(i,".400"):"transparent",borderColor:r?"".concat(i,".400"):"gray.500",color:r?"gray.900":"transparent"},"&:hover":{"&.chakra-radio__control":{background:r?"".concat(i,".300"):"transparent",borderColor:r?"".concat(i,".300"):"gray.400",color:r?"gray.900":"transparent"}}}}}(n,{color:i,isChecked:l,isDisabled:c}),u=o||t;return(0,C.jsx)(ee.Y8,(0,y.Z)((0,y.Z)({},a),{},{color:i,isChecked:l,isDisabled:c,sx:(0,y.Z)({},h().merge(d.radio,d[u]))}))},ie=function(e){var n=(0,S.Fg)(),t=(0,W.If)().colorMode,o=(0,F.h4)(),r=(0,i.Z)(o,2),s=r[0],a=r[1].width,d=e.id,u=e.label,h=e.results,f=e.isSelected,g=void 0!==f&&f,v=e.onSelected,x=e.onClick,j=(0,p.v9)((function(e){return e.user.ui.theme.color})),b=(0,l.kt)(),m=(0,i.Z)(b,2),Z=m[0],y=m[1],k=h.movies.length,w=h.tv.length,z="".concat(n.transition.duration.faster," ").concat(n.transition.easing["ease-out"]);return(0,C.jsx)(G.Z,{ref:s,color:g?j:"gray",isFullWidth:!0,isFixed:Z,isClickable:!0,onClick:Z?void 0:function(){return x(d)},sx:{back:{height:"".concat(a,"px")}},children:(0,C.jsxs)(c.gC,{position:"relative",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",spacing:0,children:[(0,C.jsx)(c.xu,{position:"absolute",top:n.space[2],left:n.space[2],children:(0,C.jsx)(te,{color:j,isChecked:g,onMouseEnter:function(){return y.on()},onMouseLeave:function(){return y.off()},onClick:function(){return v(d)}})}),(0,C.jsx)(c.xv,{align:"center",color:g?"".concat(j,".400"):"gray.".concat("light"===t?900:50),fontSize:"xl",fontWeight:"semibold",isTruncated:!0,overflow:"hidden",whiteSpace:"nowrap",sx:{transition:z},children:u}),(0,C.jsx)(c.xv,{align:"center",color:g?"".concat(j,".400"):"gray.".concat("light"===t?400:500),fontSize:"sm",fontWeight:"400",textTransform:"capitalize",isTruncated:!0,overflow:"hidden",whiteSpace:"nowrap",sx:{transition:z},children:"".concat(["".concat(k," movie").concat(0===k||k>1?"s":""),"".concat(w," TV show").concat(0===w||w>1?"s":"")].filter((function(e){return e})).join(" \u2022 "))})]})})},oe=function(e){var n=e.lists,t=e.selectedListID,i=e.onSelected,o=e.onOpenList;return(0,C.jsx)(c.MI,{width:"100%",columns:[1,2,4,4,5,6],spacing:2,children:h().orderBy(n,(function(e){return g()(e.date)}),["desc"]).map((function(e,n){return(0,C.jsx)(ie,(0,y.Z)((0,y.Z)({},e),{},{isSelected:t===e.id,onSelected:function(){return i(e.id)},onClick:function(){return o(n)}}),e.id)}))})},re=t(23698),le=t(26668),se=t(87482),ce=t(26277),ae=t(87714),de=t(40939),ue=function(e){var n=e.movies,t=e.tv,r=e.renderActions,l=(0,o.useState)(),s=(0,i.Z)(l,2),a=s[0],d=s[1];return(0,o.useEffect)((function(){d(void 0)}),[n,t]),(0,C.jsx)(re.Z,{activeTab:a,onChange:function(e){return d(e)},children:(0,C.jsxs)(c.gC,{width:"100%",divider:(0,C.jsx)(V.Z,{orientation:"horizontal"}),spacing:2,children:[(0,C.jsx)(se.Z,{mediaTypes:["movie","tv"],renderActions:r,activeTab:a,total:{movie:n.length,tv:t.length}}),h().isNil(a)?(0,C.jsx)(ce.Z,{mediaTypes:function(){var e=[];return n.length>0&&e.push("movie"),t.length>0&&e.push("tv"),e}(),label:"Oh no! \ud83d\ude22",description:"Please add an item to the list to be able to view it here.",onSetMediaType:function(e){switch(e){case"movie":return void d(0);case"tv":return void d(1)}}}):(0,C.jsxs)(le.Z,{children:[(0,C.jsx)(ae.Z,{movies:n}),(0,C.jsx)(de.Z,{shows:t})]})]})})},he=t(82170),fe=function(e){var n=(0,W.If)().colorMode,t=(0,r.ac)("(max-width: 600px)"),o=(0,i.Z)(t,1)[0],l=e.list,s=e.onEdit,a=e.onDelete,d=e.onClose;return(0,C.jsxs)(c.Ug,{backgroundColor:"light"===n?"gray.700":"gray.200",borderRadius:"full",boxShadow:"lg",spacing:2,px:2,py:1.5,mb:1.5,children:[(0,C.jsx)(c.Ug,{spacing:.25,children:(0,C.jsx)(c.xv,{align:"left",color:"gray.".concat("light"===n?50:900),fontSize:o?"sm":"md",fontWeight:"normal",whiteSpace:"nowrap",children:"".concat(l?'"'.concat(l.label,'"'):""," list")})}),(0,C.jsxs)(c.Ug,{spacing:1,children:[o?(0,C.jsx)(he.Z,{"aria-label":"Edit selected list",colorMode:"light"===n?"dark":"light",onClick:function(){return s()},size:"sm",children:(0,C.jsx)(U.Z,{icon:"edit",type:"outlined"})}):(0,C.jsx)(j.Z,{colorMode:"light"===n?"dark":"light",renderLeft:function(e){var n=e.fontSize;return(0,C.jsx)(U.Z,{icon:"edit",type:"outlined",fontSize:n})},onClick:function(){return s()},children:"Edit"}),o?(0,C.jsx)(he.Z,{"aria-label":"Delete selected list",color:"red",colorMode:"light"===n?"dark":"light",onClick:function(){return a()},size:"sm",children:(0,C.jsx)(U.Z,{icon:"delete_outline",type:"outlined"})}):(0,C.jsx)(j.Z,{color:"red",colorMode:"light"===n?"dark":"light",renderLeft:function(e){var n=e.fontSize;return(0,C.jsx)(U.Z,{icon:"delete_outline",type:"outlined",fontSize:n})},onClick:function(){return a()},children:"Delete"})]}),(0,C.jsx)(he.Z,{"aria-label":"Close",colorMode:"light"===n?"dark":"light",onClick:function(){return d()},size:o?"sm":"md",variant:"icon",children:(0,C.jsx)(U.Z,{icon:"close",type:"outlined"})})]})},ge=t(13719),ve=t(87929),xe=function(){var e=(0,r.ac)("(max-width: 600px)"),n=(0,i.Z)(e,1)[0],t=(0,l.qY)(),u=t.isOpen,f=t.onOpen,x=t.onClose,b=(0,l.qY)(),m=b.isOpen,y=b.onOpen,k=b.onClose,S=(0,l.qY)(),w=S.isOpen,z=S.onOpen,M=S.onClose,O=(0,l.qY)(),D=O.isOpen,T=O.onOpen,L=O.onClose,E=(0,s.pm)(),I=(0,p.v9)((function(e){return e.user.data.lists})),A=(0,o.useState)(),F=(0,i.Z)(A,2),W=F[0],q=F[1],N=(0,o.useState)(),Y=(0,i.Z)(N,2),R=Y[0],B=Y[1],J=function(e){q(W&&W===e?void 0:e)},Q=function(){E.closeAll(),x(),k(),M(),L(),B(void 0),q(void 0)},H=function(){E.closeAll(),q(void 0)};(0,o.useEffect)((function(){h().isNil(R)||H()}),[R]),(0,o.useEffect)((function(){E.closeAll(),h().isNil(R)&&W&&E({duration:null,isClosable:!0,position:"bottom",variant:"solid",render:function(){return(0,C.jsx)(fe,{list:I.find((function(e){return e.id===W})),onEdit:z,onDelete:y,onClose:H})}})}),[W]),(0,o.useEffect)((function(){0===I.length&&Q()}),[I]);return(0,o.useEffect)((function(){"/lists"===location.pathname&&function(){var e=String(location.hash).replace("#","");e&&(I.some((function(n){return n.id===e}))?B(I.findIndex((function(n){return n.id===e}))):B(void 0))}()}),[location.hash]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(ve.Z,{title:"Lists",children:{actions:(0,C.jsx)(j.Z,{onClick:function(){return f()},isFullWidth:n,variant:"outlined",children:"Create new list"}),body:(0,C.jsx)(re.Z,{activeTab:R,onChange:function(e){return B(e)},children:(0,C.jsxs)(c.gC,{width:"100%",divider:I&&I.length>0?(0,C.jsx)(V.Z,{orientation:"horizontal"}):void 0,spacing:2,p:2,children:[(0,C.jsx)(a.UO,{in:I&&I.length>0,unmountOnExit:!0,style:{width:"100%"},children:(0,C.jsx)(P,{activeTab:R,lists:I,onListsClick:Q})}),0===I.length?(0,C.jsx)(ge.Z,{hasIllustration:!0,label:"Oh no! \ud83d\ude22",description:"Please add a list to be able to add items to lists.",size:"xl",variant:"outlined"}):(0,C.jsx)(d.M,{exitBeforeEnter:!0,initial:!1,children:h().isNil(R)?(0,C.jsx)(c.M5,{as:a.pT,width:"100%",in:!0,unmountOnExit:!0,children:(0,C.jsx)(oe,{lists:I,selectedListID:W,onSelected:J,onOpenList:function(e){B(e)}})},"list-picker"):(0,C.jsx)(c.M5,{as:a.pT,width:"100%",in:!0,unmountOnExit:!0,children:(0,C.jsx)(le.Z,{children:h().orderBy(I,(function(e){return g()(e.date)}),["desc"]).map((function(e){return(0,C.jsx)(ue,{movies:e.results.movies,tv:e.results.tv,renderActions:function(){return(0,C.jsx)(he.Z,{"aria-label":"Open Information modal",onClick:function(){J(e.id),T()},variant:"outlined",children:(0,C.jsx)(U.Z,{icon:"info",type:D?"filled":"outlined"})})}},e.id)}))})},"list-tab-panels")})]})})}}),(0,C.jsx)(v.Z,{isOpen:u,onSubmit:function(){return B(0)},onClose:x}),I&&I.length>0&&W?(0,C.jsx)(Z,{id:W,isOpen:m,onClose:k,onCloseToast:Q}):null,I&&I.length>0&&W?(0,C.jsx)(_,{id:W,isOpen:w,onClose:M}):null,I&&I.length>0&&W?(0,C.jsx)(X,{id:W,isOpen:D,onEdit:function(){return z()},onDelete:function(){return y()},onClose:L}):null]})}}}]);
//# sourceMappingURL=459.db53c146.chunk.js.map