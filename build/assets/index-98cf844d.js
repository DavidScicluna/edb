import{a8 as w,b7 as k,E as e,aP as P,aw as W,c1 as te,aD as K,aE as G,bK as F,aJ as ne,aK as se,a7 as C,bJ as q,ae as N,aX as ae,N as h,cx as A,x as D,ax as le,dm as X,bA as L,az as j,ai as R,M as Q,bG as ce,dn as J,ap as U,eL as de,eo as Y,ah as S,ao as p,bS as T,bT as E,bU as Z,bV as I,bW as H,bX as M,bY as v,bZ as z,aQ as $,a6 as g,b_ as O,b$ as ee,at as re,eM as he}from"./useUserTheme-cad0e91d.js";import{o as me}from"./index-c7b185ee.js";import{d as b}from"./dimensions-1922ff5f.js";import{H as ie,a as oe,b as V}from"./index-3c387dce.js";const pe=({mediaType:c,id:t,name:s})=>{const{color:o,colorMode:i}=w(),[n,a]=k();return e(P,{colorMode:i,to:{pathname:`/${W({mediaType:c})}`,search:te.stringify({with_keywords:t})},onMouseEnter:()=>a.on(),onMouseLeave:()=>a.off(),children:e(K,{color:n?o:"gray",colorMode:i,size:"xs",children:e(G,{textTransform:"capitalize",children:s})})})},Se=({mediaType:c,keywords:t=[],...s})=>e(F,{...s,maxWidth:"100%",label:"Keywords",children:e(ne,{width:"100%",spacing:1,children:t.map(({id:o,name:i})=>e(se,{children:e(pe,{mediaType:c,id:o,name:i})},o))})}),{getColor:ue}=N,ye=c=>{const t=C(),{color:s,colorMode:o}=w(),{id:i,name:n}=c,[a,u]=k();return e(P,{colorMode:o,to:{pathname:`/${W({mediaType:"person"})}/${i}`},onMouseEnter:()=>u.on(),onMouseLeave:()=>u.off(),children:e(q,{color:ue({theme:t,colorMode:o,color:a?s:"gray",type:a?"color":"text.primary"}),textTransform:"capitalize",children:n})})},Te=c=>{const t=ae({base:4,sm:6,md:8,lg:10,xl:12,"2xl":12})||8,{label:s,crew:o=[],...i}=c;return e(F,{...i,maxWidth:"100%",label:s,children:h(me,{children:[A([...o]).desc(({popularity:n})=>n).filter((n,a)=>a<t).map(n=>D.createElement(ye,{...n,key:n.id})),o.length>t&&e(q,{textTransform:"capitalize",children:`+${o.length-t}`})]})})},Ee=({hasVideo:c=!1,type:t,onClick:s,...o})=>{const{color:i,colorMode:n}=w(),[a,{width:u}]=le(),[x,d]=k();return e(X,{ref:a,colorMode:n,width:"100%",height:"100%",minHeight:L({width:u,orientation:"landscape"})*1.15,maxHeight:L({width:u,orientation:"landscape"})*1.15,borderRadius:"none",ratio:j({orientation:"landscape"}),renderIcon:m=>e(R,{...m,icon:c?"play_arrow":"search",category:"outlined"}),isDisabled:x,onClick:s,children:h(Q,{width:"inherit",height:"inherit",position:"relative",children:[c&&t&&e(Q,{position:"absolute",top:2,right:2,zIndex:1,children:h(K,{color:i,colorMode:n,size:"md",children:[e(ce,{icon:"play_arrow"}),e(G,{children:`Play ${t}`})]})}),e(J,{...o,width:"inherit",height:"inherit",borderRadius:"none",onError:()=>d.on(),onLoad:()=>d.off()})]})})},{getColor:ge}=N,Ie=({onClick:c,...t})=>{const s=C(),{colorMode:o}=w(),[i,n]=k();return e(X,{colorMode:o,width:["100%","100%","250px","300px"],borderRadius:"base",overflowX:"hidden",overflowY:"hidden",ratio:j({orientation:"portrait"}),renderIcon:a=>e(R,{...a,icon:"search",category:"outlined"}),isDisabled:i,onClick:c,children:e(J,{...t,width:"inherit",height:"inherit",borderWidth:["0px","0px","4px","4px"],borderStyle:"solid",borderColor:ge({theme:s,colorMode:o,type:"divider"}),borderRadius:"base",onError:()=>n.on(),onLoad:()=>n.off()})})},He=c=>{const t=C(),{color:s,colorMode:o}=w(),{mediaType:i,mediaItem:n}=c,{id:a}=n||{},[u,x]=D.useState([]),d=U(u,"slow"),{isFetching:m,isLoading:y,isError:B,refetch:f}=de({props:{mediaType:i,id:Number(a)},options:{enabled:!!a,onSuccess:({results:r=[]})=>{x(g.uniqBy(A([...r]).by([{desc:({vote_count:l})=>l},{desc:({vote_average:l})=>l},{desc:({popularity:l})=>l}]),"id").filter((l,_)=>_<20))}}});return h(Y,{colorMode:o,isDisabled:d.length===0||m||y,isFullWidth:!0,spacing:2,p:2,children:[e(ie,{renderTitle:r=>e(S,{...r,children:`Recommended ${p({type:"multiple",mediaType:i})}`}),renderSubtitle:r=>e(S,{...r,children:`This list is showcasing the most popular ${p({type:"multiple",mediaType:i})} that are recommended to watch if you like the ${p({type:"single",mediaType:i})}`}),arrowProps:{variant:"icon"},spacing:0}),e(oe,{children:!(m||y)&&B?e(T,{color:s,colorMode:o,children:h(E,{children:[e(Z,{renderIcon:r=>e(R,{...r,width:t.fontSizes["6xl"],height:t.fontSizes["6xl"],fontSize:t.fontSizes["6xl"],icon:"error_outline"}),p:2}),h(I,{children:[e(H,{}),e(M,{children:v({type:"error",label:`Recommended ${p({type:"multiple",mediaType:i})}`})})]}),e(z,{renderActions:r=>e($,{...r,onClick:f,children:"Try Again"})})]})}):!(m||y)&&d&&d.length===0?e(T,{color:s,colorMode:o,children:h(E,{children:[h(I,{children:[e(H,{}),e(M,{children:v({type:"empty",label:`Recommended ${p({type:"multiple",mediaType:i})}`})})]}),e(z,{renderActions:r=>e($,{...r,onClick:f,children:"Try Again"})})]})}):!(m||y)&&d&&d.length>0?e(V,{children:g.compact(d.map(r=>i==="movie"?e(O,{movie:r,sx:b},r.id):i==="tv"?e(ee,{show:r,sx:b},r.id):null))}):e(V,{children:g.range(20).map((r,l)=>e(re,{mediaType:i,hasSubtitle:!0,sx:b},l))})})]})},Me=c=>{const t=C(),{color:s,colorMode:o}=w(),{mediaType:i,mediaItem:n}=c,{id:a}=n||{},[u,x]=D.useState([]),d=U(u,"slow"),{isFetching:m,isLoading:y,isError:B,refetch:f}=he({props:{mediaType:i,id:Number(a)},options:{enabled:!!a,onSuccess:({results:r=[]})=>{x(g.uniqBy(A([...r]).by([{desc:({vote_count:l})=>l},{desc:({vote_average:l})=>l},{desc:({popularity:l})=>l}]),"id").filter((l,_)=>_<20))}}});return h(Y,{colorMode:o,isDisabled:d.length===0||m||y,isFullWidth:!0,spacing:2,p:2,children:[e(ie,{renderTitle:r=>e(S,{...r,children:`Similar ${p({type:"multiple",mediaType:i})}`}),renderSubtitle:r=>e(S,{...r,children:`This list is showcasing the most popular ${p({type:"multiple",mediaType:i})} that are similar to the ${p({type:"single",mediaType:i})}`}),arrowProps:{variant:"icon"},spacing:0}),e(oe,{children:!(m||y)&&B?e(T,{color:s,colorMode:o,children:h(E,{children:[e(Z,{renderIcon:r=>e(R,{...r,width:t.fontSizes["6xl"],height:t.fontSizes["6xl"],fontSize:t.fontSizes["6xl"],icon:"error_outline"}),p:2}),h(I,{children:[e(H,{}),e(M,{children:v({type:"error",label:`Similar ${p({type:"multiple",mediaType:i})}`})})]}),e(z,{renderActions:r=>e($,{...r,onClick:f,children:"Try Again"})})]})}):!(m||y)&&d&&d.length===0?e(T,{color:s,colorMode:o,children:h(E,{children:[h(I,{children:[e(H,{}),e(M,{children:v({type:"empty",label:`Similar ${p({type:"multiple",mediaType:i})}`})})]}),e(z,{renderActions:r=>e($,{...r,onClick:f,children:"Try Again"})})]})}):!(m||y)&&d&&d.length>0?e(V,{children:g.compact(d.map(r=>i==="movie"?e(O,{movie:r,sx:b},r.id):i==="tv"?e(ee,{show:r,sx:b},r.id):null))}):e(V,{children:g.range(20).map((r,l)=>e(re,{mediaType:i,hasSubtitle:!0,sx:b},l))})})]})};export{Ee as V,Ie as a,Te as b,Se as c,He as d,Me as e};
