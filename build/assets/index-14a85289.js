import{dH as I,a7 as z,a8 as P,aL as Q,ao as x,dE as X,E as e,a6 as g,dI as Y,dJ as Z,ae as ee,eH as me,N as L,bC as ue,eI as he,bD as we,eJ as ve,bE as be,eK as ge,dV as ye,bI as te,bO as se,ah as D,J as oe,dM as R,dL as Te,aO as fe,x as F,ap as O,a9 as ie,ar as Ce,eo as Se,bS as B,bT as A,bU as Ve,ai as $e,bV as G,bW as W,bX as K,bY as N,c0 as Ee,at as xe,aQ as re,bP as ae,b6 as Le,cx as j,bz as Fe,af as He,V as ke}from"./useUserTheme-cad0e91d.js";import{u as S}from"./useTVShowContext-6c09d282.js";import{V as Qe,a as U,b as Pe,c as _e,d as De,e as H,f as Ie}from"./index-c7b185ee.js";import{V as ze,a as Me,b as k,c as Oe,d as Re,e as Be}from"./index-98cf844d.js";import{l as Ae,o as Ge,v as We,p as Ke,r as Ne,k as je,s as Ue,j as Je,i as qe}from"./tabs-1769093c.js";import{V as Xe}from"./index-d275f317.js";import{V as Ye}from"./index-6409f3e0.js";import{V as Ze}from"./index-6a4e7d59.js";import{V as et}from"./index-b0754bf1.js";import{d as J}from"./dimensions-1922ff5f.js";import{H as tt,a as st,b as q,c as ot}from"./index-3c387dce.js";import{T as it}from"./index-6fc29f67.js";import{V as rt,a as at,b as nt}from"./index-88486953.js";import"./index-069978a5.js";import"./index-da6fdb45.js";import"./index-f91c493c.js";import"./index-65752566.js";import"./index-cc453732.js";import"./index-21c2c4e5.js";import"./index-5e29d59e.js";import"./index-43080e55.js";import"./formats-993363c7.js";import"./user-1d41ba74.js";import"./index-490c57f0.js";import"./index-d96d68db.js";import"./index-566ac3e3.js";import"./index-6c03e0d3.js";import"./index-67fb8a4b.js";import"./index-a6d2ef26.js";import"./index-278c1566.js";import"./index-9f080699.js";import"./index-c20f4d73.js";import"./index-f93cc2e8.js";const{getHue:dt}=ee,ct=I({type:"backdrop",mode:"thumbnail"}),lt=I({type:"backdrop",mode:"full"}),pt=({show:t})=>{const c=z(),{colorMode:n}=P(),{videosQuery:s}=S(),{data:i}=s||{},{results:l=[]}=i||{},{id:m,name:d,backdrop_path:v}=t||{},b=Q(d?`${d} ${x({type:"single",mediaType:"tv"})} backdrop`:`${x({type:"single",mediaType:"tv"})} backdrop`),o=Q(X());return e(ze,{alt:b,hasVideo:l.length>0,type:l.find(({type:r})=>g.lowerCase(r)==="trailer")?"Trailer":l.find(({type:r})=>g.lowerCase(r)==="teaser")?"Teaser":l.find(({type:r})=>g.lowerCase(r)==="featurette")?"Featurette":void 0,src:{boring:Y({id:m?String(m):o,colors:g.omit({...c.colors},["transparent","black","white"]),hue:dt({colorMode:n,type:"color"}),size:500,variant:Z({mediaType:"tv"})}),thumbnail:`https://image.tmdb.org/t/p/${ct}${v}`,full:`https://image.tmdb.org/t/p/${lt}${v}`}})},{getHue:mt}=ee,ut=I({type:"poster",mode:"thumbnail"}),ht=I({type:"poster",mode:"full"}),wt=({show:t})=>{const c=z(),{colorMode:n}=P(),{id:s,name:i,poster_path:l}=t||{},m=Q(i?`${i} ${x({type:"single",mediaType:"tv"})} poster`:`${x({type:"single",mediaType:"tv"})} poster`),d=Q(X());return e(Me,{alt:m,src:{boring:Y({id:s?String(s):d,colors:g.omit({...c.colors},["transparent","black","white"]),hue:mt({colorMode:n,type:"color"}),size:500,variant:Z({mediaType:"tv"})}),thumbnail:`https://image.tmdb.org/t/p/${ut}${l}`,full:`https://image.tmdb.org/t/p/${ht}${l}`}})},vt=()=>{const{showQuery:t,creditsQuery:c}=S(),{data:n,isFetching:s,isLoading:i}=t||{},{id:l,tagline:m,overview:d,genres:v=[],created_by:b=[]}=n||{},{data:o,isFetching:r,isLoading:u}=c||{},{crew:h=[]}=o||{},{data:V,isFetching:T,isLoading:a}=me({props:{mediaType:"tv",id:Number(l)},options:{enabled:!!l}}),{results:p=[]}=V||{},$=h.filter(({department:C})=>C==="Directing"),f=h.filter(({department:C})=>C==="Production"),w=h.filter(({department:C})=>C==="Editing"),y=h.filter(({department:C})=>C==="Writing");return e(Qe,{children:L(U,{children:[e(Pe,{renderPoster:()=>s||i?e(_e,{}):e(wt,{show:n}),renderBackdrop:()=>s||i?e(De,{}):e(pt,{show:n})}),L(U,{px:2,pb:2,children:[s||i?e(ue,{}):m?e(he,{tagline:m}):null,s||i?e(we,{}):d?e(ve,{plot:d}):null,s||i?e(be,{}):v.length>0?e(ge,{mediaType:"tv",genres:v}):null,s||i?e(H,{label:"Created By"}):b.length>0?e(k,{label:"Created By",crew:b}):null,r||u?e(H,{label:"Directors"}):$.length>0?e(k,{label:$.length===1?"Director":"Directors",crew:$}):null,r||u?e(H,{label:"Producers"}):f.length>0?e(k,{label:f.length===1?"Producer":"Producers",crew:f}):null,r||u?e(H,{label:"Writers"}):y.length>0?e(k,{label:y.length===1?"Writer":"Writers",crew:y}):null,r||u?e(H,{label:"Executive Producers"}):w.length>0?e(k,{label:w.length===1?"Editor":"Editors",crew:w}):null,T||a?e(Ie,{}):p.length>0?e(Oe,{mediaType:"tv",keywords:p}):null]})]})})},bt=()=>{const{colorMode:t}=P(),{showQuery:c}=S(),{data:n}=c||{},{id:s,last_episode_to_air:i}=n||{},{season_number:l,episode_number:m}=i||{},{data:d,isFetching:v,isLoading:b,isError:o}=ye({props:{id:Number(s),season:Number(l),episode:Number(m)}});return!o&&(v||b)?e(Ae,{}):!o&&d?L(te,{colorMode:t,isFullWidth:!0,p:2,children:[e(se,{renderTitle:r=>e(D,{...r,children:"Last Episode to Air"})}),e(oe,{children:e(Xe,{episode:{...d,show_id:Number(s)},badgeLabel:g.compact([d.season_number?`S${d.season_number}`:null,d.episode_number?`E${d.episode_number}`:null]).join(" â€¢ ")},d.id)})]}):null},ne=t=>{const{showQuery:c}=S(),{data:n}=c||{},{id:s}=n||{},{person:i,type:l,isCreditsFetching:m=!1,isCreditsLoading:d=!1,isCreditsError:v=!1,isCreditsSuccess:b=!1}=t,{id:o,name:r,gender:u}=i,{data:h,isFetching:V,isLoading:T,isError:a,isSuccess:p}=R({props:{mediaType:"movie",id:o},options:{enabled:!!o}}),{cast:$=[],crew:f=[]}=h||{},{data:w,isFetching:y,isLoading:C,isError:de,isSuccess:ce}=R({props:{mediaType:"tv",id:o},options:{enabled:!!o}}),{cast:le=[],crew:pe=[]}=w||{},_=g.capitalize(l==="actor"?u===1?"Actress":"Actor":l);return e(Ye,{credits:{cast:[...$.map(E=>({...E,media_type:"movie"})),...le.filter(E=>E.id!==s).map(E=>({...E,media_type:"tv"}))],crew:[...f.map(E=>({...E,media_type:"movie"})),...pe.filter(E=>E.id!==s).map(E=>({...E,media_type:"tv"}))]},title:r?`More from ${r} the ${_}`:`More from the ${_}`,subtitle:`This list is showcasing some of the ${x({type:"multiple",mediaType:"movie"})} & ${x({type:"multiple",mediaType:"tv"})} that ${r||`the ${_}`} is most known for`,emptyLabel:r?`${r} known for credits`:`${_} known for credits`,isFetching:m||V||y,isLoading:d||T||C,isError:v&&(a||de),isSuccess:b&&(p||ce)})},gt=({id:t})=>{const{data:c,isFetching:n,isLoading:s,isError:i,isSuccess:l}=Te({props:{mediaType:"person",id:Number(t)}});return c?e(ne,{person:c,type:"creator",isCreditsFetching:n,isCreditsLoading:s,isCreditsError:i,isCreditsSuccess:l}):null},yt=()=>{const{showQuery:t}=S(),{data:c}=t||{},{created_by:n=[]}=c||{};return n.length>0?e(fe,{children:g.compact(n.map(s=>s&&s.id?e(gt,{id:s.id},s.id):null))}):null},Tt=()=>{const{creditsQuery:t}=S(),{data:c,isFetching:n,isLoading:s,isError:i,isSuccess:l}=t||{},{cast:m=[]}=c||{},d=m&&m[0]?m[0]:void 0;return d?e(ne,{person:d,type:"actor",isCreditsFetching:n,isCreditsLoading:s,isCreditsError:i,isCreditsSuccess:l}):null},ft=()=>{const{showQuery:t}=S(),{data:c}=t||{};return e(Re,{mediaType:"tv",mediaItem:c})},Ct=()=>{const{showQuery:t}=S(),{data:c}=t||{};return e(Be,{mediaType:"tv",mediaItem:c})},M=g.memoize(t=>{switch(t){case"cast":return qe;case"crew":return Je;case"seasons":return Ue;case"episodes":return je;case"reviews":return Ne;case"photos":return Ke;case"videos":return We;case"overview":default:return Ge}}),St=()=>{const{showQuery:t,imagesQuery:c,onSetActiveTab:n}=S(),{data:s}=t||{},{name:i}=s||{},{data:l,isFetching:m,isLoading:d,isError:v,isSuccess:b}=c||{},{posters:o=[],backdrops:r=[]}=l||{},[u,h]=F.useState([]),V=O(u,"slow"),T=Q(g.range(10).map(()=>({orientation:g.sample(["portrait","landscape"])})));return F.useEffect(()=>{V.length===0&&o.length+r.length>0&&h(g.shuffle([...o.filter((a,p)=>p<10).map(a=>({image:a,orientation:"portrait"})),...r.filter((a,p)=>p<10).map(a=>({image:a,orientation:"landscape"}))]))},[o,r]),e(Ze,{mediaType:"tv",photos:[...V],dummyPhotos:[...T],title:"Photos",subtitle:`This list is showcasing some of the posters & backdrops that were used for ${i||`the ${x({type:"single",mediaType:"tv"})}`}`,emptyLabel:i?`${i} photos`:"Photos",total:o.length+r.length,isLoading:m||d,isError:v,isSuccess:b,onFooterClick:()=>n({index:M("photos")})})},Vt=()=>{const{showQuery:t,videosQuery:c,onSetActiveTab:n}=S(),{data:s}=t||{},{name:i}=s||{},{data:l,isFetching:m,isLoading:d,isError:v,isSuccess:b}=c||{},{results:o=[]}=l||{},[r,u]=F.useState([]),h=O(r,"slow");return F.useEffect(()=>{u(g.shuffle([...o.filter((V,T)=>T<10)]))},[o]),e(et,{mediaType:"tv",videos:[...h],title:"Videos",subtitle:`This list is showcasing some of the trailers, teasers & featurettes that were created for ${i||`the ${x({type:"single",mediaType:"tv"})}`}`,emptyLabel:i?`${i} videos`:"Videos",total:o.length,isLoading:m||d,isError:v,isSuccess:b,onFooterClick:()=>n({index:M("videos")})})},$t=()=>{const t=z(),{color:c,colorMode:n}=P(),[s]=ie(`(max-width: ${t.breakpoints.sm})`),{showQuery:i,creditsQuery:l,onSetActiveTab:m}=S(),{data:d,isFetching:v,isLoading:b}=i||{},{name:o}=d||{},{data:r,isFetching:u,isLoading:h,isError:V,isSuccess:T}=l||{},{cast:a=[]}=r||{},[p,$]=F.useState(g.uniqBy([...a],"id").filter((w,y)=>y<20)),f=O(p,"slow");return Ce(()=>{$(g.uniqBy([...a],"id").filter((w,y)=>y<20))},[a]),L(Se,{colorMode:n,isDisabled:f.length===0||v||b||u||h,isFullWidth:!0,spacing:2,p:2,children:[e(tt,{renderTitle:w=>e(D,{...w,children:"Top Series Cast"}),renderSubtitle:w=>e(D,{...w,children:`This list is showcasing the top series cast of ${o||`the ${x({type:"single",mediaType:"tv"})}`}`}),arrowProps:{variant:"icon"},spacing:0}),e(st,{children:!(v||b||u||h)&&V?e(B,{color:c,colorMode:n,children:L(A,{children:[e(Ve,{renderIcon:w=>e($e,{...w,width:t.fontSizes["6xl"],height:t.fontSizes["6xl"],fontSize:t.fontSizes["6xl"],icon:"error_outline"}),p:2}),L(G,{children:[e(W,{}),e(K,{children:N({type:"error",label:o?`${o} Top Cast`:"Top Cast"})})]})]})}):!(v||b||u||h)&&T&&f&&f.length===0?e(B,{color:c,colorMode:n,children:e(A,{children:L(G,{children:[e(W,{}),e(K,{children:N({type:"empty",label:o?`${o} Top Cast`:"Top Cast"})})]})})}):!(v||b||u||h)&&T&&f&&f.length>0?e(q,{children:f.map(w=>e(Ee,{person:w,subtitle:w&&w.roles&&w.roles.length>0?w.roles.map(({episode_count:y=0,character:C})=>y>0?`${y} episode${y===1?"":"s"} as ${C}`:`As ${C}`).join(", "):void 0,sx:J},w.id))}):e(q,{children:g.range(20).map((w,y)=>e(xe,{mediaType:"person",hasSubtitle:!0,sx:J},y))})}),e(ot,{children:e(re,{color:c,colorMode:n,isDisabled:a.length===0,isFullWidth:!0,onClick:()=>m({index:M("cast")}),size:s?"xs":"sm",variant:"text",children:`View all ${ae(a.length).format({average:!0})} Series Cast`})})]})},Et=()=>{const t=z(),{color:c,colorMode:n}=P(),[s]=ie(`(max-width: ${t.breakpoints.sm})`),{showQuery:i,reviewsQuery:l,onSetActiveTab:m}=S(),{data:d}=i||{},{id:v,name:b}=d||{},{pages:o=[]}=(l==null?void 0:l.data)||{},{results:r=[]}=o&&o[0]?o[0]:{},u=Le(a=>{var p;return((p=a.users.data.activeUser.data.reviews.user.tv.find(({mediaItem:$})=>($==null?void 0:$.id)===v))==null?void 0:p.reviews)||[]}),[h,V]=F.useState(0),T=F.useCallback(g.debounce(()=>{V(u.length+o.reduce((a,{results:p=[]})=>a+p.length,0))},500),[u,o]);return F.useEffect(()=>T(),[u,o]),d?L(te,{colorMode:n,isFullWidth:!0,p:2,children:[e(se,{renderTitle:a=>e(D,{...a,children:"Latest Review"}),actions:h>0?e(it,{colorMode:n,total:h,prefix:"Total of",suffix:`Review${h===1?"":"s"}`,size:"xs",variant:"outlined"}):void 0}),e(oe,{children:u&&u.length>0?j(u).desc(({updatedAt:a,createdAt:p})=>a||p).filter((a,p)=>p===0).map((a,p)=>e(rt,{mediaType:"tv",mediaItem:d,review:a},p)):r&&r.length>0?j(r).desc(({updated_at:a,created_at:p})=>a||p).filter((a,p)=>p===0).map(a=>e(at,{review:a},a.id)):e(nt,{mediaType:"tv",mediaItem:d,name:b})}),e(Fe,{children:e(re,{color:c,colorMode:n,isFullWidth:!0,onClick:()=>m({index:M("reviews")}),size:s?"xs":"sm",variant:"text",children:h>0?`View all ${ae(h).format({average:!0})} Reviews`:"Go to Reviews Tab"})})]}):null},as=()=>{const{spacing:t}=He();return e(ke,{width:"100%",spacing:t,children:g.compact([e(vt,{},"ds-edb-tv-show-overview-tab-hero"),e($t,{},"ds-edb-tv-show-overview-tab-top-cast"),e(bt,{},"ds-edb-tv-show-overview-tab-last-episode"),e(St,{},"ds-edb-tv-show-overview-tab-photos"),e(Vt,{},"ds-edb-tv-show-overview-tab-videos"),e(Et,{},"ds-edb-tv-show-overview-tab-review"),e(yt,{},"ds-edb-tv-show-overview-tab-creators"),e(Tt,{},"ds-edb-tv-show-overview-tab-top-actor"),e(Ct,{},"ds-edb-tv-show-overview-tab-similar"),e(ft,{},"ds-edb-tv-show-overview-tab-recommendations")])})};export{as as default};
