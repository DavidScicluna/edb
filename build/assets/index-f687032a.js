import{a6 as u,x as i,aR as h,a8 as j,aa as N,c9 as U,af as F,ap as d,d4 as w,aq as K,ar as G,N as E,E as s,ah as V,ao as r,T as J,V as W,aH as X,av as D,K as Y,aV as T,aw as Z}from"./useUserTheme-cad0e91d.js";import{P as ee,a as se,b as te}from"./index-f91c493c.js";import{T as S}from"./index-86281d15.js";import{T as oe}from"./index-0aab87dc.js";import{g as k,T as ie,e as ae,f as ne,h as re}from"./index-789eed9b.js";import"./index-7571088f.js";import"./index-8754a0a6.js";import"./index-da6fdb45.js";import"./dimensions-1922ff5f.js";import"./index-490c57f0.js";import"./index-fac269b5.js";import"./index-65752566.js";import"./index-6c03e0d3.js";import"./index-566ac3e3.js";import"./index-059dc8bd.js";import"./index-67fb8a4b.js";import"./index-278c1566.js";import"./index-5e29d59e.js";import"./tabs-1769093c.js";import"./index-c7b185ee.js";import"./index-a6d2ef26.js";import"./index-6b3e9b0b.js";import"./tabs-8cea7072.js";const g=u.memoize(({mediaType:y})=>q.findIndex(b=>b===y)+1),le=i.lazy(()=>h(()=>import("./index-9641b673.js"),["assets/index-9641b673.js","assets/useUserTheme-cad0e91d.js","assets/useUserTheme-5f2d009e.css","assets/index-789eed9b.js","assets/index-f91c493c.js","assets/index-8754a0a6.js","assets/index-da6fdb45.js","assets/dimensions-1922ff5f.js","assets/index-490c57f0.js","assets/index-fac269b5.js","assets/index-86281d15.js","assets/index-65752566.js","assets/index-6c03e0d3.js","assets/index-566ac3e3.js","assets/index-059dc8bd.js","assets/index-67fb8a4b.js","assets/index-278c1566.js","assets/index-5e29d59e.js","assets/tabs-1769093c.js","assets/index-c7b185ee.js","assets/index-a6d2ef26.js","assets/index-6b3e9b0b.js","assets/tabs-8cea7072.js","assets/index-0775bdaa.css"])),pe=i.lazy(()=>h(()=>import("./index-6e6dfbea.js"),["assets/index-6e6dfbea.js","assets/useUserTheme-cad0e91d.js","assets/useUserTheme-5f2d009e.css","assets/index-67fb8a4b.js","assets/index-566ac3e3.js"])),ce=i.lazy(()=>h(()=>import("./index-cfea31e6.js"),["assets/index-cfea31e6.js","assets/useUserTheme-cad0e91d.js","assets/useUserTheme-5f2d009e.css","assets/index-67fb8a4b.js","assets/index-566ac3e3.js"])),me=i.lazy(()=>h(()=>import("./index-b9e3a15c.js"),["assets/index-b9e3a15c.js","assets/useUserTheme-cad0e91d.js","assets/useUserTheme-5f2d009e.css","assets/index-67fb8a4b.js","assets/index-566ac3e3.js"])),q=["movie","tv","person"],Qe=()=>{const{color:y,colorMode:b}=j(),a=N(),I=U(),{spacing:n}=F(),[Q,z]=i.useState(k({location:a})||0),l=d(Q),[p,R]=i.useState(),P=d(p,"slow"),[c,O]=i.useState(),x=d(c,"slow"),[m,B]=i.useState(),M=d(m,"slow"),v=w({props:{mediaType:"movie",time:"week"},options:{onSuccess:e=>{let t=[];e.pages.forEach(o=>{t=[...t,...(o==null?void 0:o.results)||[]]}),R({page:e.pages[e.pages.length-1].page,results:u.uniqBy([...t],"id"),total_pages:e.pages[e.pages.length-1].total_pages,total_results:e.pages[e.pages.length-1].total_results})}}}),{isError:C}=v,_=w({props:{mediaType:"tv",time:"week"},options:{onSuccess:e=>{let t=[];e.pages.forEach(o=>{t=[...t,...o.results||[]]}),O({page:e.pages[e.pages.length-1].page,results:u.uniqBy([...t],"id"),total_pages:e.pages[e.pages.length-1].total_pages,total_results:e.pages[e.pages.length-1].total_results})}}}),{isError:H}=_,f=w({props:{mediaType:"person",time:"week"},options:{onSuccess:e=>{let t=[];e.pages.forEach(o=>{t=[...t,...(o==null?void 0:o.results)||[]]}),B({page:e.pages[e.pages.length-1].page,results:u.uniqBy([...t],"id"),total_pages:e.pages[e.pages.length-1].total_pages,total_results:e.pages[e.pages.length-1].total_results})}}}),{isError:$}=f,A=({index:e})=>{if(e>0){const t=Z({mediaType:q[e-1]});I({...a,hash:t})}else I({...a,hash:""});setTimeout(()=>window.scrollTo(0,0),1e3)},L=()=>{z(k({location:a})||0)};return K(()=>a.hash.length>0?L():void 0),G(()=>L(),[a.hash]),E(ee,{children:[s(se,{renderTitle:e=>s(V,{...e,children:"Trending"}),renderSubtitle:e=>s(V,{...e,children:`A list containing the most trending ${r({type:"multiple",mediaType:"movie"})}, ${r({type:"multiple",mediaType:"tv"})} & ${r({type:"multiple",mediaType:"person"})} this week`}),direction:"row",spacing:n,px:n,py:n*2}),s(te,{px:n,pb:n,children:s(J,{width:"100%",color:y,colorMode:b,activeTab:l,onChange:A,size:"xl",children:E(W,{width:"100%",spacing:n,children:[s(X,{tabs:[{label:"All"},{label:r({type:"multiple",mediaType:"movie"}),isDisabled:C||((p==null?void 0:p.total_results)||0)===0,renderLeft:e=>s(S,{...e,icon:D({mediaType:"movie"}),category:l===g({mediaType:"movie"})?"filled":"outlined"})},{label:r({type:"multiple",mediaType:"tv"}),isDisabled:H||((c==null?void 0:c.total_results)||0)===0,renderLeft:e=>s(S,{...e,icon:D({mediaType:"tv"}),category:l===g({mediaType:"tv"})?"filled":"outlined"})},{label:r({type:"multiple",mediaType:"person"}),isDisabled:$||((m==null?void 0:m.total_results)||0)===0,renderLeft:e=>s(S,{...e,icon:D({mediaType:"person"}),category:l===g({mediaType:"person"})?"filled":"outlined"})}],renderRight:l!==0?()=>s(oe,{}):void 0}),E(Y,{children:[s(T,{fallback:s(ie,{}),children:s(le,{moviesInfiniteQuery:v,movies:P,tvShowsInfiniteQuery:_,shows:x,peopleInfiniteQuery:f,people:M,onTabChange:({mediaType:e})=>A({index:g({mediaType:e})})})}),s(T,{fallback:s(ae,{}),children:s(pe,{query:v,movies:P})}),s(T,{fallback:s(ne,{}),children:s(me,{query:_,shows:x})}),s(T,{fallback:s(re,{}),children:s(ce,{query:f,people:M})})]})]})})})]})};export{Qe as default,q as trendingMediaTypes};
