import{bM as B,bN as X,a7 as G,a8 as N,a9 as Y,af as Z,b6 as K,x as k,e$ as L,ap as P,cx as I,a6 as u,ar as ee,E as e,eU as se,eV as re,ah as Q,eW as te,N as y,V as oe,as as ae,M as z,bI as ie,bO as ne,bP as ce,ao as v,J as de,eB as le,f0 as M,eD as pe,b_ as ue,b$ as he,bS as W,bT as j,bU as be,ai as ge,bV as H,bW as O,bX as U,bY as q,aD as ye,aE as ve,bZ as $e,aQ as Te,eR as fe,eS as Se,eT as _e,bu as xe,bv as Ae,bw as Ce,bx as we,ae as De}from"./useUserTheme-cad0e91d.js";import{u as J}from"./usePersonContext-c044aaaa.js";import{L as Ee}from"./index-67fb8a4b.js";import{T as me}from"./index-6fc29f67.js";import{V as Qe}from"./index-566ac3e3.js";const R=5,V=B({date:X(new Date).toISOString(),section:"year"}),Ve=D=>{const i=G(),{color:h,colorMode:o}=N(),[E]=Y(`(max-width: ${i.breakpoints.sm})`),{spacing:m}=Z(),{personQuery:b}=J(),{data:p}=b||{},{name:a}=p||{},{mediaType:n,id:g,title:$,credits:c,isOpen:T=!1}=D,d=K(r=>r.options.data.genres[n]),[f,w]=k.useState(L({credits:c})),t=P(f),[S,_]=k.useState(R),x=P(S,"slow"),A=I(u.uniq([...u.keys(c.cast),...u.keys(c.crew)])).desc();return ee(()=>w(L({credits:c})),[c]),e(se,{id:g,isDisabled:f===0,header:e(re,{renderTitle:r=>e(Q,{...r,children:$}),actions:e(me,{color:T?h:"gray",colorMode:o,total:t,variant:T?"contained":"outlined"}),spacing:1}),body:e(te,{children:y(oe,{width:"100%",divider:e(ae,{colorMode:o,sx:{mt:`${i.space[m*2]} !important`,mb:`${i.space[2]} !important`}}),spacing:0,children:[A.filter((r,C)=>C<x).map(r=>{const C=u.uniqBy([...c.cast[r]||[],...c.crew[r]||[]],"id");return e(z,{width:"100%",children:y(ie,{colorMode:o,isFullWidth:!0,variant:"transparent",p:2,children:[e(ne,{renderTitle:l=>e(Q,{...l,children:r}),renderSubtitle:l=>r!=="Announced"?e(Q,{...l,children:`${V===r?a?`${a} is in`:"Is in":V>r?a?`${a} took part in`:"Took part in":a?`${a} will be in`:"Will be in"} ${ce(C.length).format({average:!0})} ${v({type:C.length===1?"single":"multiple",mediaType:n})} ${V===r?"this year":`in ${r}`}`}):void 0}),e(de,{children:e(Qe,{children:({displayMode:l})=>C.map(s=>l==="list"&&n==="movie"?e(le,{movie:s,subtitle:s.character?`As ${s.character}`:void 0,description:s.character&&(s.release_date||s.genre_ids)?`${u.compact([s.release_date?B({date:s.release_date}):void 0,s.genre_ids?M({genres:d,ids:s.genre_ids}):void 0]).join(" • ")}`:void 0},s.id):l==="list"&&n==="tv"?e(pe,{show:s,subtitle:s.character?`As ${s.character}`:void 0,description:s.character&&(s.first_air_date||s.genre_ids)?`${u.compact([s.first_air_date?B({date:s.first_air_date}):void 0,s.genre_ids?M({genres:d,ids:s.genre_ids}):void 0]).join(" • ")}`:void 0},s.id):l==="grid"&&n==="movie"?e(ue,{movie:s,subtitle:s.character?`As ${s.character}`:void 0},s.id):l==="grid"&&n==="tv"?e(he,{show:s,subtitle:s.character?`As ${s.character}`:void 0},s.id):null)})})]})},r)}),e(z,{width:E?"100%":"auto",children:e(Ee,{amount:x,total:A.length,label:v({type:"multiple",mediaType:n}),isLoading:!1,isButtonVisible:x<=A.length,onClick:()=>_(r=>r+R)})})]})}),spacing:2,p:2},g)},{getColor:F}=De,Me=D=>{var w;const i=G(),{color:h,colorMode:o}=N(),{personQuery:E}=J(),{data:m}=E||{},{name:b}=m||{},{mediaType:p,departments:a=[],query:n}=D,{isFetching:g,isLoading:$,isError:c,isSuccess:T,error:d,refetch:f}=n||{};return!(g||$)&&c?e(W,{color:h,colorMode:o,borderWidth:"2px",borderStyle:"dashed",borderColor:F({theme:i,colorMode:o,type:"divider"}),borderRadius:"lg",children:y(j,{children:[e(be,{renderIcon:t=>e(ge,{...t,width:i.fontSizes["6xl"],height:i.fontSizes["6xl"],fontSize:i.fontSizes["6xl"],icon:"error_outline"}),p:2}),y(H,{children:[e(O,{}),e(U,{children:q({type:"error",label:b?`"${b}" ${v({type:"multiple",mediaType:p})} Credits`:`${v({type:"multiple",mediaType:p})} Credits`})})]}),d&&((w=d.response)==null?void 0:w.data)&&d.response.data.status_code&&d.response.data.status_message&&e(ye,{color:h,colorMode:o,children:e(ve,{children:`(${d.response.data.status_code}) ${d.response.data.status_message}`})}),f&&e($e,{renderActions:t=>e(Te,{...t,onClick:f,children:"Try Again"})})]})}):!(g||$)&&T&&a.length===0?e(W,{color:h,colorMode:o,borderWidth:"2px",borderStyle:"dashed",borderColor:F({theme:i,colorMode:o,type:"divider"}),borderRadius:"lg",children:e(j,{children:y(H,{children:[e(O,{}),e(U,{children:q({type:"empty",label:b?`"${b}" ${v({type:"multiple",mediaType:p})} Credits`:`${v({type:"multiple",mediaType:p})} Credits`})})]})})}):!(g||$)&&T&&a.length>0?y(fe,{color:"gray",colorMode:o,accordions:a.map(t=>({id:t.id,title:t.label,data:{...t}})),spacing:2,children:[a.length>5&&e(Se,{color:h,size:"xs",spacing:1}),e(_e,{children:({accordions:t,opened:S=[]})=>t.map(({id:_,title:x,data:A})=>e(Ve,{mediaType:p,id:_,title:x,credits:A.credits,isOpen:S.some(r=>r===_)},_))})]}):e(xe,{color:"gray",colorMode:o,accordions:u.range(4),spacing:2,children:e(Ae,{children:({accordions:t})=>t.map(S=>e(Ce,{p:2,children:e(we,{})},S))})})};export{Me as C};
