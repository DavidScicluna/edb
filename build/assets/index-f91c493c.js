import{bh as ce,bi as R,bj as Y,x as f,bk as H,bl as w,bm as ue,bn as le,bo as de,E as i,G as me,J as he,M as z,a8 as E,ak as pe,al as fe,N as j,bp as ge,bq as G,O as be,L as W,af as ve,V as ye,aA as Z,as as Se,aa as xe,br as O,R as Be,a7 as I,aX as $,ag as Ce,ah as ee,ae as M,bs as Pe,b7 as V,a6 as _,aw as P,bt as k,aP as we,ao as D,ai as Te,ap as ze,a9 as Ee,ax as N,aB as ke,aC as De}from"./useUserTheme-cad0e91d.js";function B(){return B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},B.apply(this,arguments)}function L(t,e){if(t==null)return{};var r={},a=Object.keys(t),n,s;for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}var Ne=["spacing"],_e=["isCurrentPage","as","className","href"],je=["isCurrentPage","separator","isLastChild","spacing","children","className"],Re=["children","spacing","separator","className"],te=ce("Breadcrumb"),Ie=te[0],F=te[1],A=R(function(t,e){var r=t.spacing,a=L(t,Ne),n=F(),s=B({mx:r},n.separator);return f.createElement(w.span,B({ref:e,role:"presentation"},a,{__css:s}))}),Me=R(function(t,e){var r=t.isCurrentPage,a=t.as,n=t.className,s=t.href,o=L(t,_e),c=F(),l=B({ref:e,as:a,className:H("chakra-breadcrumb__link",n)},o);return r?f.createElement(w.span,B({"aria-current":"page",__css:c.link},l)):f.createElement(w.a,B({__css:c.link,href:s},l))}),Q=R(function(t,e){var r=t.isCurrentPage,a=t.separator,n=t.isLastChild,s=t.spacing,o=t.children,c=t.className,l=L(t,je),h=Y(o),y=h.map(function(m){return m.type===Me?f.cloneElement(m,{isCurrentPage:r}):m.type===A?f.cloneElement(m,{spacing:s,children:m.props.children||a}):m}),b=F(),p=B({display:"inline-flex",alignItems:"center"},b.item),g=H("chakra-breadcrumb__list-item",c);return f.createElement(w.li,B({ref:e,className:g},l,{__css:p}),y,!n&&f.createElement(A,{spacing:s},a))}),Le=R(function(t,e){var r=ue("Breadcrumb",t),a=le(t),n=a.children,s=a.spacing,o=s===void 0?"0.5rem":s,c=a.separator,l=c===void 0?"/":c,h=a.className,y=L(a,Re),b=Y(n),p=b.length,g=b.map(function(d,S){return f.cloneElement(d,{separator:l,spacing:o,isLastChild:p===S+1})}),m=H("chakra-breadcrumb",h);return f.createElement(w.nav,B({ref:e,"aria-label":"breadcrumb",className:m,__css:r.container},y),f.createElement(Ie,{value:r},f.createElement(w.ol,{className:"chakra-breadcrumb__list"},g)))});function Oe(t,e){const r=f.useRef(t);de(()=>{r.current=t},[t]),f.useEffect(()=>{if(!e&&e!==0)return;const a=setTimeout(()=>r.current(),e);return()=>clearTimeout(a)},[e])}const it=({children:t,...e})=>i(me,{...e,children:t}),ot=({children:t,...e})=>i(he,{...e,alignItems:"stretch",justifyContent:"stretch",children:t}),ct=({children:t,...e})=>i(z,{...e,width:"100%",children:t}),U=t=>{const{colorMode:e}=E(),{direction:r,...a}=t;return i(pe,{...a,"aria-label":`Scroll ${r}`,colorMode:e,children:i(fe,{icon:r==="left"?"arrow_back":"arrow_forward",category:"outlined"})})},He=({dummyArrowProps:t})=>j(ge,{isAttached:!0,spacing:1,children:[i(G,{index:0,total:1,children:i(U,{...t,direction:"left"})}),i(G,{index:1,total:1,children:i(U,{...t,direction:"right"})})]}),ut=({actions:t,dummyArrowProps:e,...r})=>i(be,{...r,actions:j(W,{spacing:2,children:[t,i(He,{dummyArrowProps:e})]})}),lt=({children:t,spacing:e=2})=>i(W,{width:"fit-content",alignItems:"stretch",justifyContent:"stretch",spacing:e,children:t}),dt=({children:t,...e})=>{const{colorMode:r}=E(),{spacing:a}=ve();return i(ye,{...e,width:"100%",divider:i(Z,{width:"100%",border:"none",px:a,children:i(Se,{colorMode:r})}),spacing:0,children:t})},mt=({children:t,...e})=>i(Z,{...e,width:"100%",children:t});var We=function(e){return e.join("/").replace(/\/\/+/g,"/")},$e=/^:\w+$/,Fe=3,Ge=2,Ve=1,Ae=10,Qe=-2,K=function(e){return e==="*"};function Ue(t,e){var r=t.split("/"),a=r.length;return r.some(K)&&(a+=Qe),e&&(a+=Ge),r.filter(function(n){return!K(n)}).reduce(function(n,s){return $e.test(s)?n+Fe:s===""?n+Ve:n+Ae},a)}function Ke(t,e){var r=t.length===e.length&&t.slice(0,-1).every(function(a,n){return a===e[n]});return r?t[t.length-1]-e[e.length-1]:0}function re(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";return t.forEach(function(n,s){var o;if(typeof n.path!="string"&&!n.index&&!(!((o=n.children)===null||o===void 0)&&o.length))throw new Error("useBreadcrumbs: `path` or `index` must be provided in every route object");if(n.path&&n.index)throw new Error("useBreadcrumbs: `path` and `index` cannot be provided at the same time");var c={relativePath:n.path||"",childrenIndex:s,route:n};if(c.relativePath.charAt(0)==="/"){if(!c.relativePath.startsWith(a))throw new Error("useBreadcrumbs: The absolute path of the child route must start with the parent path");c.relativePath=c.relativePath.slice(a.length)}var l=We([a,c.relativePath]),h=r.concat(c);if(n.children&&n.children.length>0){if(n.index)throw new Error("useBreadcrumbs: Index route cannot have child routes");re(n.children,e,h,l)}e.push({path:l,score:Ue(l,n.index),routesMeta:h})}),e}function qe(t){return t.sort(function(e,r){return e.score!==r.score?r.score-e.score:Ke(e.routesMeta.map(function(a){return a.childrenIndex}),r.routesMeta.map(function(a){return a.childrenIndex}))})}var T=Symbol("NO_BREADCRUMB"),ae=function(e){return e.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[-_\s]+/g," ").replace(/^[a-z]/,function(r){return r.toUpperCase()})},ne=function(e){var r=e.breadcrumb,a=e.match,n=e.location,s=e.props,o=Object.assign({match:a,location:n,key:a.pathname},s||{});return Object.assign(Object.assign({},o),{breadcrumb:typeof r=="string"?f.createElement("span",{key:o.key},r):Be.createElement(r,Object.assign({},o))})},Je=function(e){var r=e.currentSection,a=e.location,n=e.pathSection,s=e.defaultFormatter,o=O({end:!0,path:n},n);return ne({breadcrumb:s?s(r):ae(r),match:o,location:a})},Xe=function(e){var r=e.currentSection,a=e.disableDefaults,n=e.excludePaths,s=e.defaultFormatter,o=e.location,c=e.pathSection,l=e.branches,h,y=function(p){return O({path:p,end:!0},c)!=null};return n&&n.some(y)?T:(l.some(function(b){var p=b.path,g=b.routesMeta,m=g[g.length-1].route,d=m.breadcrumb;if(!d&&m.index){var S=g[g.length-2];S&&S.route.breadcrumb&&(d=S.route.breadcrumb)}var x=m.caseSensitive,v=m.props,u=O({path:p,end:!0,caseSensitive:x},c);return u&&d===null?(h=T,!0):u?!d&&a?(h=T,!0):(h=ne({breadcrumb:d||(s?s(r):ae(r)),match:Object.assign(Object.assign({},u),{route:m}),location:o,props:v}),!0):!1}),h||(a?T:Je({pathSection:c,currentSection:c==="/"?"Home":r,location:o,defaultFormatter:s})))},Ye=function(e){var r=e.routes,a=e.location,n=e.options,s=n===void 0?{}:n,o=a.pathname,c=qe(re(r)),l=[];return o.split("?")[0].split("/").reduce(function(h,y,b){var p=y?"".concat(h,"/").concat(y):"/";if(p==="/"&&b!==0)return"";var g=Xe(Object.assign({currentSection:y,location:a,pathSection:p,branches:c},s));return g!==T&&l.push(g),p==="/"?"":p},""),l},Ze=function(e,r){return Ye({routes:e||[],location:xe(),options:r})};const{getColor:et}=M,se=()=>{const t=I(),{colorMode:e}=E(),r=$({base:t.fontSizes.sm,sm:t.fontSizes.sm,md:t.fontSizes.md,lg:t.fontSizes.md,xl:t.fontSizes.md,"2xl":t.fontSizes.md});return i(Ce,{colorMode:e,isLoaded:!1,variant:"text",children:i(ee,{align:"left",color:et({theme:t,colorMode:e,type:"text.primary"}),fontSize:r,fontWeight:"medium",children:"Dummy Path"})})},{getColor:q}=M,tt=({breadcrumb:t,match:e,isCurrentPage:r=!1})=>{const a=I(),{colorMode:n}=E(),s=$({base:a.fontSizes.sm,sm:a.fontSizes.sm,md:a.fontSizes.md,lg:a.fontSizes.md,xl:a.fontSizes.md,"2xl":a.fontSizes.md}),o=Pe(),[c,l]=V(),[h,y]=V(),[b,p]=f.useState(),g=d=>{switch(d){case P({mediaType:"movie"}):return D({type:"multiple",mediaType:"movie"});case P({mediaType:"tv"}):return D({type:"multiple",mediaType:"tv"});case P({mediaType:"person"}):return D({type:"multiple",mediaType:"person"});case P({mediaType:"collection"}):return D({type:"multiple",mediaType:"collection"})}},m=f.useCallback(_.debounce(()=>{const d=_.compact(e.pathname.split("/"));if(d.length>1){const S=d[0],x=d[1];let v;switch(S){case P({mediaType:"movie"}):{const u=o.getQueryData(k({mediaType:"movie",id:Number(x)}));v=u==null?void 0:u.title;break}case P({mediaType:"tv"}):{if(d.length>2)v=_.capitalize(d[d.length-1]),y.on();else{const u=o.getQueryData(k({mediaType:"tv",id:Number(x)}));v=u==null?void 0:u.name}break}case P({mediaType:"person"}):{const u=o.getQueryData(k({mediaType:"person",id:Number(x)}));v=u==null?void 0:u.name;break}case P({mediaType:"collection"}):{const u=o.getQueryData(k({mediaType:"collection",id:Number(x)}));v=u==null?void 0:u.name;break}}v?(p(v),setTimeout(()=>l.on(),250)):p("N/A")}else{const S=d[0];p(g(S)),setTimeout(()=>l.on(),250)}},250),[location,o]);return f.useEffect(()=>m(),[location]),c?i(z,{children:h||r?i(ee,{align:"left",color:q({theme:a,colorMode:n,type:`text.${r?"primary":"secondary"}`}),fontSize:s,fontWeight:"medium",children:b||t}):i(we,{to:{pathname:e==null?void 0:e.pathname},color:"gray",fontSize:s,fontWeight:"medium",sx:{color:q({theme:a,colorMode:n,type:"text.secondary"}),textDecoration:"none !important"},children:b||t})}):i(se,{})},{getColor:rt}=M,at=()=>{const t=I(),{colorMode:e}=E(),r=$({base:t.fontSizes.md,sm:t.fontSizes.md,md:t.fontSizes.lg,lg:t.fontSizes.lg,xl:t.fontSizes.lg,"2xl":t.fontSizes.lg});return i(Te,{icon:"chevron_right",category:"outlined",color:rt({theme:t,colorMode:e,type:"text.secondary"}),fontSize:r})},nt=()=>{const t=Ze(),[e,r]=f.useState([]),a=ze(e,"slow");return Oe(()=>r(t),2500),i(Le,{separator:i(at,{}),spacing:1,children:a&&a.length>0?a.map((n,s)=>i(Q,{isCurrentPage:s===a.length-1,children:i(tt,{...n,isCurrentPage:s===a.length-1})},s)):_.range(3).map((n,s)=>i(Q,{isCurrentPage:!0,children:i(se,{})},s))})},{convertREMToPixels:J,convertStringToNumber:X}=M,ht=t=>{const e=I(),[r]=Ee(`(max-width: ${e.breakpoints.sm})`),[a,{width:n}]=N(),[s,{width:o}]=N(),[c,{width:l,height:h}]=N(),[y,{width:b}]=N(),{renderTitle:p,renderSubtitle:g,renderLeftPanel:m,renderRightPanel:d,actions:S,direction:x,spacing:v=2,...u}=t,ie=()=>{const C=J(X(e.space[v],"rem"));return`calc(100% - ${(m&&!r?n+C:0)+(d&&!r?o+C:0)}px)`},oe=()=>{const C=J(X(e.space[v],"rem"));return x==="column"||r?"100%":`calc(100% - ${S?b+C:0}px)`};return j(W,{...u,width:"100%",spacing:v,children:[m&&!r&&i(z,{ref:a,children:m({width:l,height:h})}),j(ke,{...u,ref:c,width:ie(),direction:x||(r?"column":"row"),alignItems:"center",justifyContent:"space-between",spacing:v,p:0,children:[i(De,{width:oe(),renderCaption:()=>i(nt,{}),renderTitle:C=>p({...C,noOfLines:0}),renderSubtitle:g?C=>g({...C,noOfLines:1}):void 0,spacing:.5}),S&&i(z,{ref:y,width:x==="column"||r?"100%":"auto",height:"100%",children:S})]}),d&&!r&&i(z,{ref:s,children:d({width:l,height:h})})]})};export{He as D,dt as P,ht as a,mt as b,it as c,ut as d,ot as e,lt as f,ct as g,Oe as u};
