import{a6 as a,cx as D,a7 as K,a8 as $,a9 as M,x as U,ap as W,ar as j,N as l,eo as C,E as e,ah as f,bS as S,bT as g,bU as L,ai as q,bV as E,bW as z,bX as F,bY as v,b_ as N,b$ as X,at as Y,aQ as A,bP as J}from"./useUserTheme-cad0e91d.js";import{d as p}from"./dimensions-1922ff5f.js";import{H as O,a as R,b as T,c as Z}from"./index-3c387dce.js";const Q=a.memoize(({credits:c})=>{const{cast:s=[],crew:i=[]}=c;return a.uniqBy(D([...s,...i]).by([{desc:({vote_count:r})=>r},{desc:({vote_average:r})=>r},{desc:({popularity:r})=>r}]),"id").filter((r,d)=>d<20)}),re=c=>{const s=K(),{color:i,colorMode:r}=$(),[d]=M(`(max-width: ${s.breakpoints.sm})`),{credits:V,title:H="Known For",subtitle:y,emptyLabel:b,total:k=0,isFetching:u=!1,isLoading:n=!1,isError:_=!1,isSuccess:x=!1,onFooterClick:w}=c,{cast:h=[],crew:m=[]}=V||{},[G,P]=U.useState(Q({credits:{cast:h,crew:m}})||[]),o=W(G,"slow");return j(()=>{P(Q({credits:{cast:h,crew:m}})||[])},[h,m]),l(C,{colorMode:r,isDisabled:o.length===0||n,isFullWidth:!0,spacing:2,p:2,children:[e(O,{renderTitle:t=>e(f,{...t,children:H}),renderSubtitle:y?t=>e(f,{...t,children:y}):void 0,arrowProps:{variant:"icon"},spacing:0}),e(R,{children:!(u||n)&&_?e(S,{color:i,colorMode:r,children:l(g,{children:[e(L,{renderIcon:t=>e(q,{...t,width:s.fontSizes["6xl"],height:s.fontSizes["6xl"],fontSize:s.fontSizes["6xl"],icon:"error_outline"}),p:2}),l(E,{children:[e(z,{}),e(F,{children:v({type:"error",label:b})})]})]})}):!(u||n)&&x&&o&&o.length===0?e(S,{color:i,colorMode:r,children:e(g,{children:l(E,{children:[e(z,{}),e(F,{children:v({type:"empty",label:b})})]})})}):!(u||n)&&x&&o&&o.length>0?e(T,{children:a.compact(o.map(t=>t.media_type==="movie"?e(N,{movie:t,sx:p},t.id):t.media_type==="tv"?e(X,{show:t,sx:p},t.id):null))}):e(T,{children:a.range(20).map((t,B)=>e(Y,{mediaType:a.sample(["movie","tv"]),hasSubtitle:!0,sx:p},B))})}),w&&e(Z,{children:e(A,{color:i,colorMode:r,isFullWidth:!0,onClick:w,size:d?"xs":"sm",variant:"text",children:`View all ${J(k).format({average:!0})} credits`})})]})};export{re as V};
