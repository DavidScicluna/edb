import{a7 as I,a9 as U,af as X,N as m,V as E,E as o,a6 as u,au as xe,at as O,M as J,a8 as F,an as tt,T as rt,Q as nt,ao as se,av as ae,K as st,x as p,b7 as ie,dq as at,bI as ao,J as co,cl as Mo,dr as ct,L as le,as as eo,c_ as Fe,c6 as oo,al as to,d9 as io,cr as it,cs as lt,ct as dt,ds as ut,dt as ht,du as pt,dv as yt,dw as gt,cI as go,aa as Ve,cW as Pe,aL as Io,c1 as de,aq as lo,cY as mt,ai as ro,cB as no,aj as ft,ae as Q,bO as Do,ah as V,cP as vt,dx as x,H as _e,dy as _,I as bt,ax as mo,cQ as St,aA as ce,cO as Ct,aY as qo,aQ as ke,bB as Tt,bN as uo,dz as wt,U as ho,b6 as Le,aD as kt,aE as xt,dA as po,aS as $o,cx as Eo,bP as fo,dB as _t,d2 as Mt,ar as Qe,c5 as It,aR as ue,dC as Dt,c9 as qt,ap as j,cV as $t,cN as Et,dD as Se,dE as zt,bS as Qt,bT as At,bV as Ft,bW as Pt,bX as Lt,bZ as Rt,aV as ne}from"./useUserTheme-cad0e91d.js";import{c as Bt,d as Ht,e as Vt,f as Ot,g as Wt,P as jt,a as Nt,b as Ut}from"./index-f91c493c.js";import{D as Me}from"./index-6c03e0d3.js";import{V as Ie}from"./index-566ac3e3.js";import{D as Ce}from"./index-fac269b5.js";import{d as De}from"./dimensions-1922ff5f.js";import{S as Kt}from"./SpinnerCircularFixed-2623c82b.js";const zo=()=>{const e=I(),[t]=U(`(max-width: ${e.breakpoints.sm})`),{spacing:n}=X();return m(E,{width:"100%",spacing:n,children:[o(Ie,{children:({displayMode:r})=>u.range(20).map((s,a)=>r==="list"?o(xe,{mediaType:"collection",hasSubtitle:!0,hasDescription:!0},a):o(O,{mediaType:"collection",hasSubtitle:!0},a))}),o(J,{width:t?"100%":"auto",children:o(Me,{isButtonVisible:!0})})]})},Qo=()=>{const e=I(),[t]=U(`(max-width: ${e.breakpoints.sm})`),{spacing:n}=X();return m(E,{width:"100%",spacing:n,children:[o(Ie,{children:({displayMode:r})=>u.range(20).map((s,a)=>r==="list"?o(xe,{mediaType:"company",hasSubtitle:!0},a):o(O,{mediaType:"company",hasSubtitle:!0},a))}),o(J,{width:t?"100%":"auto",children:o(Me,{isButtonVisible:!0})})]})},Ao=()=>{const e=I(),[t]=U(`(max-width: ${e.breakpoints.sm})`),{spacing:n}=X();return m(E,{width:"100%",spacing:n,children:[o(Ie,{children:({displayMode:r})=>u.range(20).map((s,a)=>r==="list"?o(xe,{mediaType:"movie",hasSubtitle:!0,hasDescription:!0},a):o(O,{mediaType:"movie",hasSubtitle:!0},a))}),o(J,{width:t?"100%":"auto",children:o(Me,{isButtonVisible:!0})})]})},Fo=()=>{const e=I(),[t]=U(`(max-width: ${e.breakpoints.sm})`),{spacing:n}=X();return m(E,{width:"100%",spacing:n,children:[o(Ie,{children:({displayMode:r})=>u.range(20).map((s,a)=>r==="list"?o(xe,{mediaType:"tv",hasSubtitle:!0,hasDescription:!0},a):o(O,{mediaType:"tv",hasSubtitle:!0},a))}),o(J,{width:t?"100%":"auto",children:o(Me,{isButtonVisible:!0})})]})},Po=()=>{const e=I(),[t]=U(`(max-width: ${e.breakpoints.sm})`),{spacing:n}=X();return m(E,{width:"100%",spacing:n,children:[o(Ie,{children:({displayMode:r})=>u.range(20).map((s,a)=>r==="list"?o(xe,{mediaType:"person",hasSubtitle:!0,hasDescription:!0},a):o(O,{mediaType:"person",hasSubtitle:!0},a))}),o(J,{width:t?"100%":"auto",children:o(Me,{isButtonVisible:!0})})]})},qe=({children:e})=>{const t=I(),{color:n,colorMode:r}=F(),[s]=U(`(max-width: ${t.breakpoints.sm})`);return m(Bt,{colorMode:r,isFullWidth:!0,spacing:2,p:2,children:[o(Ht,{hasTitle:!0,hasSubtitle:!0,dummyArrowProps:{variant:"icon"},spacing:0}),o(Vt,{children:o(Ot,{children:e})}),o(Wt,{children:o(tt,{color:n,colorMode:r,isFullWidth:!0,size:s?"xs":"sm",variant:"text",children:"View all TOTAL MEDIA-TYPE in Tab"})})]})},Gt=()=>o(qe,{children:u.range(20).map((e,t)=>o(O,{mediaType:"movie",hasSubtitle:!0,sx:De},t))}),Yt=()=>o(qe,{children:u.range(20).map((e,t)=>o(O,{mediaType:"person",hasSubtitle:!0,sx:De},t))}),Xt=()=>o(qe,{children:u.range(20).map((e,t)=>o(O,{mediaType:"tv",hasSubtitle:!0,sx:De},t))}),Zt=()=>o(qe,{children:u.range(20).map((e,t)=>o(O,{mediaType:"collection",hasSubtitle:!0,sx:De},t))}),Jt=()=>o(qe,{children:u.range(20).map((e,t)=>o(O,{mediaType:"company",hasSubtitle:!0,sx:De},t))}),er=()=>{const{spacing:e}=X();return m(E,{width:"100%",spacing:e,children:[o(Gt,{}),o(Xt,{}),o(Yt,{}),o(Jt,{}),o(Zt,{})]})},Te=["movie","tv","person","company","collection"],or=()=>{const{color:e,colorMode:t}=F(),{spacing:n}=X();return o(rt,{width:"100%",color:e,colorMode:t,isDisabled:!0,size:"xl",children:m(E,{width:"100%",spacing:n,children:[o(nt,{tabs:u.compact([{label:"All"},Te.some(r=>r==="movie")?{label:se({type:"multiple",mediaType:"movie"}),renderLeft:({colorMode:r})=>o(Ce,{colorMode:r,icon:ae({mediaType:"movie"})})}:null,Te.some(r=>r==="tv")?{label:se({type:"multiple",mediaType:"tv"}),renderLeft:({colorMode:r})=>o(Ce,{colorMode:r,icon:ae({mediaType:"tv"})})}:null,Te.some(r=>r==="person")?{label:se({type:"multiple",mediaType:"person"}),renderLeft:({colorMode:r})=>o(Ce,{colorMode:r,icon:ae({mediaType:"person"})})}:null,Te.some(r=>r==="collection")?{label:se({type:"multiple",mediaType:"collection"}),renderLeft:({colorMode:r})=>o(Ce,{colorMode:r,icon:ae({mediaType:"collection"})})}:null,Te.some(r=>r==="company")?{label:se({type:"multiple",mediaType:"company"}),renderLeft:({colorMode:r})=>o(Ce,{colorMode:r,icon:ae({mediaType:"company"})})}:null])}),m(st,{children:[o(er,{}),o(Ao,{}),o(Fo,{}),o(Po,{}),o(zo,{}),o(Qo,{})]})]})})},Ee=0,yo=!1,tr="hidden",rr=e=>{const{colorMode:t}=F(),n=p.useRef(null),{children:r,isFocused:s=yo,onFocus:a,onBlur:i}=e,{input:v,collapsible:f,info:g}=r,[h,S]=ie();return at({ref:n,handler:h?void 0:()=>i()}),m(E,{width:"100%",children:[o(ao,{ref:n,spacing:.5,colorMode:t,isFullWidth:!0,onClick:()=>a(),onMouseEnter:()=>S.on(),onMouseLeave:()=>S.off(),p:2,children:o(co,{children:m(E,{width:"100%",spacing:2,children:[v,o(Mo,{in:s||h,style:{width:"100%"},children:m(E,{width:"100%",spacing:2,children:[o(ct,{}),f]})})]})})}),g]})},nr=e=>{const{color:t,colorMode:n}=F(),{hasQuery:r=!1,isDisabled:s=!1,isSubmitDisabled:a=!1,onClear:i}=e;return m(le,{alignItems:"stretch",justifyContent:"stretch",divider:o(eo,{colorMode:n,orientation:"vertical"}),spacing:1,children:[o(Fe,{in:r,children:o(oo,{"aria-label":"Clear search",colorMode:n,isDisabled:s,onClick:()=>i(),size:"sm",variant:"icon",children:o(to,{icon:"clear",category:"outlined"})})}),o(oo,{"aria-label":"Submit Search",color:t,colorMode:n,isDisabled:s||a||!r,type:"submit",size:"sm",variant:"icon",children:o(to,{icon:"send",category:"outlined"})})]})},Y=[{value:"movie",label:"Movies",color:"blue"},{value:"tv",label:"TV Shows",color:"orange"},{value:"person",label:"People",color:"yellow"},{value:"collection",label:"Collections",color:"pink"},{value:"company",label:"Companies",color:"purple"}],sr=({searchTypes:e,onClear:t})=>{const{colorMode:n}=io();return m(it,{colorMode:n,size:"sm",children:[o(lt,{children:e.length===Y.length?"All":Y.filter(({value:r})=>u.includes(e,r)).map(({label:r})=>r).join(" • ")}),t&&o(dt,{onDelete:()=>t()})]})},ar=u.memoize(({searchTypes:e=[]})=>{let t=[];if(e.length===1)switch(e[0]){case"movie":t=[...gt];break;case"tv":t=[...yt];break;case"person":t=[...pt];break;case"collection":t=[...ht];break;case"company":t=[...ut];break;default:t=[...go];break}else t=[...go];return u.shuffle(t)[0]}),{getColor:cr}=Q,ir=e=>{const t=I(),{color:n,colorMode:r}=F(),[s]=U(`(max-width: ${t.breakpoints.sm})`),a=p.useRef(null),i=Ve(),{form:v,isDisabled:f=!1,isFocused:g=yo,onFocus:h,onBlur:S,onClearQuery:w,onSubmitQuery:C}=e,{control:k,setValue:y,handleSubmit:b}=v,P=Pe({control:k,name:"query"}),R=Pe({control:k,name:"searchTypes"}),[ee,B]=ie(f),K=Io(ar({searchTypes:R})),L=p.useMemo(()=>u.debounce(()=>{const T=de.parse(i.search),A=T&&T.query&&typeof T.query=="string"?T.query:"";B[f||A===P?"on":"off"]()},500),[i,P,f]),W=p.useMemo(()=>u.debounce(()=>{a&&a.current&&(g?a.current.focus():a.current.blur())},500),[a,g]);return p.useEffect(()=>L(),[i,P,f]),p.useEffect(()=>W(),[g]),lo(()=>()=>{L.cancel(),W.cancel()}),o(mt,{width:"100%",onSubmit:b(C),children:m(le,{width:"100%",minHeight:"30px",justifyContent:"space-between",spacing:0,children:[m(le,{flex:1,spacing:1,children:[o(ro,{width:t.fontSizes["3xl"],height:t.fontSizes["3xl"],fontSize:t.fontSizes["3xl"],color:cr({theme:t,colorMode:r,type:"text.secondary"}),colorMode:r,icon:"search"}),!s&&o(no,{control:k,name:"searchTypes",render:({field:{value:T=[],name:A}})=>o(Fe,{in:T.length>0,children:o(sr,{searchTypes:T,onClear:()=>y(A,[],{shouldDirty:!0})})})}),o(no,{control:k,name:"query",render:({field:{onChange:T,value:A,name:H}})=>o(ft,{color:n,colorMode:r,autoComplete:"off",id:H,name:H,placeholder:`Try "${K}"`,isDisabled:f,isFocused:g,onFocus:h,onBlur:S,onChange:T,value:A,variant:"transparent",sx:{group:{height:"100%",px:0,py:0}}})})]}),o(nr,{hasQuery:P.length>0,isDisabled:f,isSubmitDisabled:ee,onClear:w})]})})},{getColor:lr}=Q,Lo=e=>{const t=I(),{colorMode:n}=F(),{children:r,title:s,actions:a}=e;return m(ao,{isFullWidth:!0,isDivisible:!1,variant:"transparent",children:[s&&o(Do,{renderTitle:i=>o(V,{...i,color:lr({theme:t,colorMode:n,type:"text.secondary"}),fontSize:"sm",textTransform:"uppercase",children:s}),actions:a}),o(co,{children:o(E,{as:vt,width:"100%",maxHeight:"35vh",overflowY:"auto",spacing:0,children:r})})]})},dr="contained",{checkIsTouchDevice:ur}=Q,ze=ur(),hr=({theme:e})=>{const t="none",n=["width","height","background","background-color","border-color","border-radius","color","font-size","padding"].join(", "),r=e.transition.duration.slow,s=e.transition.easing["ease-in-out"];return{cursor:"pointer",pointerEvents:"auto",width:"100%",height:"auto",minWidth:"auto",minHeight:"auto",maxWidth:"none",maxHeight:"none",display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"center",justifyContent:"space-between",userSelect:"none",willChange:"auto",outline:ze?"none !important":"0px transparent",borderRadius:e.radii.base,WebkitTapHighlightColor:e.colors.transparent,px:e.space[2],py:e.space[1],transition:t,transitionProperty:n,transitionDuration:r,transitionTimingFunction:s,"&:focus:not(:focus-visible)":{outline:ze?"none !important":"0px transparent"},"&:focus":{boxShadow:"none",outline:ze?"none !important":"0px transparent"},"&:active":{outline:ze?"none !important":"0px transparent"},"*, *::before, *::after":{transition:t,transitionProperty:n,transitionDuration:r,transitionTimingFunction:s}}},Oe=()=>({hover:.05,active:.1}),{checkIsTouchDevice:pr,getHue:Ye}=Q,vo=pr(),yr=({theme:e,color:t=_e})=>{const n=Oe(),r=Ye({colorMode:"dark",type:"text.primary"}),s=Ye({colorMode:"dark",type:"background"}),a=Ye({colorMode:"dark",type:"color"});return{color:e.colors.gray[r],borderColor:e.colors.gray[s],backgroundColor:e.colors.gray[s],background:e.colors.gray[s],"&:hover":{color:e.colors.gray[r],borderColor:x(e.colors.gray[s],n.hover),backgroundColor:x(e.colors.gray[s],n.hover),background:x(e.colors.gray[s],n.hover),"&:active":{color:e.colors.gray[r],borderColor:x(e.colors.gray[s],n.active),backgroundColor:x(e.colors.gray[s],n.active),background:x(e.colors.gray[s],n.active)}},"&:active":{color:e.colors.gray[r],borderColor:x(e.colors.gray[s],n.active),backgroundColor:x(e.colors.gray[s],n.active),background:x(e.colors.gray[s],n.active)},"&:focus-visible":{outline:vo?"none":`2px auto ${e.colors[t][a]}`,outlineOffset:vo?0:"4px"}}},{checkIsTouchDevice:gr,getHue:Xe}=Q,bo=gr(),mr=({theme:e,color:t=_e})=>{const n=Oe(),r=Xe({colorMode:"dark",type:"text.primary"}),s=Xe({colorMode:"dark",type:"background"}),a=Xe({colorMode:"dark",type:"color"});return{color:e.colors.gray[r],borderColor:e.colors.transparent,backgroundColor:e.colors.transparent,background:e.colors.transparent,"&:hover":{color:e.colors.gray[r],borderColor:x(e.colors.gray[s],n.hover),backgroundColor:x(e.colors.gray[s],n.hover),background:x(e.colors.gray[s],n.hover),"&:active":{color:e.colors.gray[r],borderColor:x(e.colors.gray[s],n.active),backgroundColor:x(e.colors.gray[s],n.active),background:x(e.colors.gray[s],n.active)}},"&:active":{color:e.colors.gray[r],borderColor:x(e.colors.gray[s],n.active),backgroundColor:x(e.colors.gray[s],n.active),background:x(e.colors.gray[s],n.active)},"&:focus-visible":{outline:bo?"none":`2px auto ${e.colors[t][a]}`,outlineOffset:bo?0:"4px"}}},fr={contained:yr,transparent:mr},{checkIsTouchDevice:vr,getHue:Ze}=Q,So=vr(),br=({theme:e,color:t=_e})=>{const n=Oe(),r=Ze({colorMode:"light",type:"text.primary"}),s=Ze({colorMode:"light",type:"background"}),a=Ze({colorMode:"light",type:"color"});return{color:e.colors.gray[r],borderColor:e.colors.gray[s],backgroundColor:e.colors.gray[s],background:e.colors.gray[s],"&:hover":{color:e.colors.gray[r],borderColor:_(e.colors.gray[s],n.hover),backgroundColor:_(e.colors.gray[s],n.hover),background:_(e.colors.gray[s],n.hover),"&:active":{color:e.colors.gray[r],borderColor:_(e.colors.gray[s],n.active),backgroundColor:_(e.colors.gray[s],n.active),background:_(e.colors.gray[s],n.active)}},"&:active":{color:e.colors.gray[r],borderColor:_(e.colors.gray[s],n.active),backgroundColor:_(e.colors.gray[s],n.active),background:_(e.colors.gray[s],n.active)},"&:focus-visible":{outline:So?"none":`2px auto ${e.colors[t][a]}`,outlineOffset:So?0:"4px"}}},{checkIsTouchDevice:Sr,getHue:Je}=Q,Co=Sr(),Cr=({theme:e,color:t=_e})=>{const n=Oe(),r=Je({colorMode:"light",type:"text.primary"}),s=Je({colorMode:"light",type:"background"}),a=Je({colorMode:"light",type:"color"});return{color:e.colors.gray[r],borderColor:e.colors.transparent,backgroundColor:e.colors.transparent,background:e.colors.transparent,"&:hover":{color:e.colors.gray[r],borderColor:_(e.colors.gray[s],n.hover),backgroundColor:_(e.colors.gray[s],n.hover),background:_(e.colors.gray[s],n.hover),"&:active":{color:e.colors.gray[r],borderColor:_(e.colors.gray[s],n.active),backgroundColor:_(e.colors.gray[s],n.active),background:_(e.colors.gray[s],n.active)}},"&:active":{color:e.colors.gray[r],borderColor:_(e.colors.gray[s],n.active),backgroundColor:_(e.colors.gray[s],n.active),background:_(e.colors.gray[s],n.active)},"&:focus-visible":{outline:Co?"none":`2px auto ${e.colors[t][a]}`,outlineOffset:Co?0:"4px"}}},Tr={contained:br,transparent:Cr},wr=u.memoize(e=>{const{theme:t,color:n=_e,colorMode:r=bt,variant:s=dr}=e,a=r==="light"?Tr:fr;return{listItem:u.merge(hr({theme:t}),a[s]({theme:t,color:n}))}}),{getColor:To}=Q,Ro=e=>{const t=I(),{color:n,colorMode:r}=F(),[s,{width:a}]=mo(),[i,{width:v}]=mo(),{renderTitle:f,renderSubtitle:g,renderBadge:h,actions:S,variant:w="contained",...C}=e,k=wr({theme:t,color:n,colorMode:r,variant:w});return m(St,{...C,sx:k.listItem,children:[m(E,{width:`calc(100% - ${S?v+16:0}px)`,alignItems:"flex-start",justifyContent:"center",spacing:0,children:[m(le,{width:"100%",alignItems:"center",justifyContent:"flex-start",spacing:h?.5:0,children:[o(ce,{maxWidth:h?`calc(100% - ${a+10}px)`:"100%",children:f({align:"left",color:To({theme:t,colorMode:r,type:"text.primary"}),fontSize:"lg",noOfLines:1})}),h&&o(ce,{ref:s,children:h({size:"xs"})})]}),g&&o(ce,{width:"100%",children:g({align:"left",color:To({theme:t,colorMode:r,type:"text.secondary"}),fontSize:"xs",noOfLines:1})})]}),S&&o(ce,{ref:i,children:S})]})},{getColor:wo}=Q,kr=e=>{const t=I(),{color:n,colorMode:r}=F(),{query:s,keywords:a,onMouseEnter:i,onMouseLeave:v,onKeywordClick:f}=e,{isFetchingNextPage:g,isFetching:h,isLoading:S,hasNextPage:w,fetchNextPage:C}=s,{results:k=[]}=a||{},{observe:y}=Ct({onEnter:({unobserve:b})=>{b(),w&&C()}});return m(Lo,{onMouseEnter:i,onMouseLeave:v,children:[k.map((b,P)=>o(ce,{ref:P===k.length-1?y:null,width:"100%",children:o(Ro,{renderTitle:R=>o(V,{...R,children:b.name||""}),onClick:()=>f({name:b.name}),variant:"transparent"})},b.id)),o(qo,{in:g||h||S,style:{width:"100%"},children:o(J,{width:"100%",children:o(Kt,{color:wo({theme:t,colorMode:r,color:n,type:"color"}),secondaryColor:wo({theme:t,colorMode:r,type:"divider"}),size:t.fontSizes["2xl"],thickness:160,speed:140})})})]})},{getColor:xr}=Q,_r=({form:e})=>{const t=I(),{color:n,colorMode:r}=F(),{control:s,setValue:a}=e;return o(no,{control:s,name:"searchTypes",render:({field:{onBlur:i,value:v=[],name:f}})=>m(ao,{colorMode:r,isFullWidth:!0,isDivisible:!1,onBlur:i,variant:"transparent",children:[o(Do,{renderTitle:g=>o(V,{...g,color:xr({theme:t,colorMode:r,type:"text.secondary"}),fontSize:"sm",textTransform:"uppercase",children:"I'm looking for..."}),actions:m(le,{children:[o(ke,{color:n,colorMode:r,isDisabled:v.length===0||v.length===Y.length,onClick:()=>a(f,[],{shouldDirty:!0}),size:"xs",variant:"text",children:"Clear"}),o(ke,{color:n,colorMode:r,onClick:()=>a(f,v.length!==Y.length?Y.map(({value:g})=>g):[],{shouldDirty:!0}),size:"xs",variant:"text",children:`${v.length===Y.length?"Remove":"Select"} All`})]})}),o(co,{children:o(Tt,{colorMode:r,renderDivider:()=>o(ce,{p:1}),children:Y.map(({color:g,value:h,label:S})=>{const w=u.includes(v,h);return o(ke,{color:w?g:"gray",colorMode:r,renderLeft:({color:C,colorMode:k,height:y})=>o(ro,{width:`${y}px`,height:`${y}px`,fontSize:`${y}px`,colorMode:k,icon:ae({mediaType:h}),category:w?"filled":"outlined",skeletonColor:C}),renderRight:w?({color:C,colorMode:k,height:y})=>o(ro,{width:`${y}px`,height:`${y}px`,fontSize:`${y}px`,colorMode:k,icon:"check",skeletonColor:C}):void 0,onClick:()=>a(f,v.some(C=>C===h)?v.filter(C=>C!==h):[...v,h],{shouldDirty:!0}),variant:"outlined",children:S},h)})})})]})})};uo.extend(wt);const Mr=e=>{const t=I(),{colorMode:n}=F(),[r]=U(`(max-width: ${t.breakpoints.sm})`),s=ho(),{data:{id:a,recentSearches:i=[]}}=Le(y=>y.users.data.activeUser),{id:v,label:f,searchedAt:g,searchTypes:h=[],onSearchClick:S}=e,w=Io(Y.filter(({value:y})=>h.some(b=>b===y))),[C,k]=ie();return o(Ro,{renderTitle:y=>o(V,{...y,children:f}),renderSubtitle:y=>o(V,{...y,children:uo(g).fromNow()}),renderBadge:w&&w.length>0?({size:y})=>o(kt,{color:w.length===1?w[0].color:"gray",colorMode:n,size:y,children:o(xt,{children:w.map(({label:b})=>b).filter(b=>b).join(" • ")})}):void 0,actions:!r&&o(qo,{in:C,children:o(oo,{"aria-label":`Remove "${f}" search from recent searches list`,colorMode:n,onClick:y=>{y.preventDefault(),y.stopPropagation(),s(po({id:a,data:i.filter(b=>b.id!==v)}))},variant:"icon",children:o(to,{icon:"clear"})})}),onMouseEnter:()=>k.on(),onMouseLeave:()=>k.off(),onClick:()=>S({label:f,searchTypes:h})})},Ir=e=>{const{color:t,colorMode:n}=F(),r=ho(),{data:{id:s,recentSearches:a=[]}}=Le(i=>i.users.data.activeUser);return o(Lo,{title:"Recent Searches",actions:o(ke,{color:t,colorMode:n,onClick:()=>r(po({id:s,data:[]})),size:"xs",variant:"text",children:"Clear"}),children:o($o,{children:Eo([...a]).desc(({searchedAt:i})=>i).map(i=>p.createElement(Mr,{...e,...i,key:i.id}))})})},Dr=u.memoize(e=>{const{location:t,watchQuery:n,isSearchInputFocused:r=!1,total:s=0}=e,a=de.parse(t.search||""),i=a&&a.query&&typeof a.query=="string"?a.query:"";return n.length>0&&n!==i&&r&&s>0}),qr=u.memoize(e=>{const{movies:t=0,shows:n=0,people:r=0,companies:s=0,collections:a=0}=e;if(t===0&&n===0&&r===0&&s===0&&a===0)return"empty";{let i=0;return t>0&&(i=i+1),n>0&&(i=i+1),r>0&&(i=i+1),s>0&&(i=i+1),a>0&&(i=i+1),i>1?"multiple":"single"}}),Re=u.memoize(({location:e})=>{const t=de.parse(e.search);return t&&t.query&&typeof t.query=="string"?t.query:""}),Be=u.memoize(({location:e})=>{const t=de.parse(e.search);return t&&t.searchTypes&&Array.isArray(t.searchTypes)?u.compact(t.searchTypes):[]});var Bo={};function $r(e){if(!e||typeof window>"u")return;const t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}Object.defineProperty(Bo,"__esModule",{value:!0});var N=p;function Er(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var we=Er(N);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var He=function(){return He=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},He.apply(this,arguments)};$r(`.marquee-container {
  overflow-x: hidden !important;
  display: flex !important;
  flex-direction: row !important;
  position: relative;
  width: 100%;
}
.marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.overlay::before, .overlay::after {
  background: linear-gradient(to right, var(--gradient-color));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
}
.overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.overlay::before {
  left: 0;
  top: 0;
}

.marquee {
  flex: 0 0 auto;
  min-width: 100%;
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}`);var zr=function(e){var t,n,r,s,a=e.style,i=a===void 0?{}:a,v=e.className,f=v===void 0?"":v,g=e.play,h=g===void 0?!0:g,S=e.pauseOnHover,w=S===void 0?!1:S,C=e.pauseOnClick,k=C===void 0?!1:C,y=e.direction,b=y===void 0?"left":y,P=e.speed,R=P===void 0?20:P,ee=e.delay,B=ee===void 0?0:ee,K=e.loop,L=K===void 0?0:K,W=e.gradient,T=W===void 0?!0:W,A=e.gradientColor,H=A===void 0?[255,255,255]:A,D=e.gradientWidth,Z=D===void 0?200:D,he=e.onFinish,z=e.onCycleComplete,oe=e.children,te=N.useState(0),q=te[0],pe=te[1],re=N.useState(0),$=re[0],ye=re[1],ge=N.useState(!1),G=ge[0],We=ge[1],M=N.useRef(null),me=N.useRef(null);N.useEffect(function(){if(G){var be=function(){me.current&&M.current&&(pe(M.current.getBoundingClientRect().width),ye(me.current.getBoundingClientRect().width))};return be(),window.addEventListener("resize",be),function(){window.removeEventListener("resize",be)}}},[G]),N.useEffect(function(){We(!0)},[]);var fe="rgba("+H[0]+", "+H[1]+", "+H[2],ve=$<q?q/R:$/R;return we.default.createElement(N.Fragment,null,G?we.default.createElement("div",{ref:M,style:He(He({},i),(t={},t["--pause-on-hover"]=!h||w?"paused":"running",t["--pause-on-click"]=!h||w&&!k||k?"paused":"running",t)),className:f+" marquee-container"},T&&we.default.createElement("div",{style:(n={},n["--gradient-color"]=fe+", 1), "+fe+", 0)",n["--gradient-width"]=typeof Z=="number"?Z+"px":Z,n),className:"overlay"}),we.default.createElement("div",{ref:me,style:(r={},r["--play"]=h?"running":"paused",r["--direction"]=b==="left"?"normal":"reverse",r["--duration"]=ve+"s",r["--delay"]=B+"s",r["--iteration-count"]=L?""+L:"infinite",r),className:"marquee",onAnimationIteration:z,onAnimationEnd:he},oe),we.default.createElement("div",{style:(s={},s["--play"]=h?"running":"paused",s["--direction"]=b==="left"?"normal":"reverse",s["--duration"]=ve+"s",s["--delay"]=B+"s",s["--iteration-count"]=L?""+L:"infinite",s),className:"marquee","aria-hidden":"true"},oe)):null)},Qr=Bo.default=zr;const so=u.memoize(({total:e})=>{const{movie:t=0,tv:n=0,person:r=0,collection:s=0,company:a=0}=e;return t+n+r+s+a}),Ho=u.memoize(({searchTypes:e=[],end:t})=>{if(e.length===1){const n=e[0];return`A total of ${fo(t).format({thousandSeparated:!0})} ${se({type:t===1?"single":"multiple",mediaType:n})} found!`}else return`A total of ${fo(t).format({thousandSeparated:!0})} result${t===1?"":"s"} found!`}),{getColor:ko}=Q,Ar=({total:e})=>{const t=I(),{colorMode:n}=io(),r=Ve(),[s,a]=p.useState(Re({location:r})),[i,v]=p.useState(Be({location:r}));return p.useEffect(()=>{a(Re({location:r})),v(Be({location:r}))},[r.search]),o(Qr,{pauseOnHover:!0,speed:50,delay:2.5,gradient:!0,gradientWidth:t.space[4],gradientColor:_t(ko({theme:t,colorMode:n,type:"background"})).filter((f,g)=>g<3),style:{gap:t.space["0.5"]},children:o(V,{width:"100%",align:"right",color:ko({theme:t,colorMode:n,type:"text.secondary"}),fontSize:"sm",whiteSpace:"nowrap",children:`Your search results for "${s}" • ${Ho({searchTypes:i,end:so({total:e})})} • `})})},{convertStringToNumber:xo,getColor:_o}=Q,Fr=({total:e})=>{const t=I(),{colorMode:n}=io(),r=p.useRef(null),s=Ve(),[a,i]=p.useState(Re({location:s})),[v,f]=p.useState(Be({location:s})),[g,h]=ie(),{start:S,update:w}=Mt({ref:r,start:0,end:so({total:e}),delay:xo(t.transition.duration["ultra-slow"],"ms")/1e3,duration:xo(t.transition.duration["ultra-slow"],"ms")/1e3,formattingFn:u.memoize(C=>Ho({searchTypes:v,end:C})),startOnMount:!1});return lo(()=>S()),Qe(()=>w(so({total:e})),[e]),p.useEffect(()=>{i(Re({location:s})),f(Be({location:s}))},[s.search]),m(le,{width:"100%",justifyContent:"space-between",spacing:0,children:[o(It,{"aria-label":`Query: "${a}" (tooltip)`,label:`Query: "${a}"`,placement:"bottom",isOpen:a.length>=20&&g,isDisabled:a.length<20,children:o(V,{align:"left",color:_o({theme:t,colorMode:n,type:"text.secondary"}),fontSize:"sm",onMouseEnter:a.length>=20?()=>h.on():void 0,onMouseLeave:a.length>=20?()=>h.off():void 0,children:`Your search results for "${u.truncate(a,{length:20})}"`})}),o(V,{ref:r,align:"right",color:_o({theme:t,colorMode:n,type:"text.secondary"}),fontSize:"sm"})]})},Pr=({total:e})=>{const t=I(),[n]=U(`(max-width: ${t.breakpoints.sm})`);return n?o(Ar,{total:{...e}}):o(Fr,{total:{...e}})},Lr=p.lazy(()=>ue(()=>import("./index-7d37d934.js").then(e=>e.i),["assets/index-7d37d934.js","assets/useUserTheme-cad0e91d.js","assets/useUserTheme-5f2d009e.css","assets/index-6fc29f67.js","assets/index-86281d15.js","assets/index-0aab87dc.js","assets/index-7571088f.js","assets/useSearchContext-11e6a931.js"])),Rr=p.lazy(()=>ue(()=>import("./index-e2301996.js"),["assets/index-e2301996.js","assets/useUserTheme-cad0e91d.js","assets/useUserTheme-5f2d009e.css","assets/index-67fb8a4b.js","assets/index-566ac3e3.js","assets/useSearchContext-11e6a931.js","assets/index-f91c493c.js","assets/index-6c03e0d3.js","assets/index-fac269b5.js","assets/index-86281d15.js","assets/dimensions-1922ff5f.js","assets/SpinnerCircularFixed-2623c82b.js"])),Br=p.lazy(()=>ue(()=>import("./index-cd9bb4af.js"),["assets/index-cd9bb4af.js","assets/useUserTheme-cad0e91d.js","assets/useUserTheme-5f2d009e.css","assets/index-67fb8a4b.js","assets/index-566ac3e3.js","assets/useSearchContext-11e6a931.js","assets/index-f91c493c.js","assets/index-6c03e0d3.js","assets/index-fac269b5.js","assets/index-86281d15.js","assets/dimensions-1922ff5f.js","assets/SpinnerCircularFixed-2623c82b.js"])),Hr=p.lazy(()=>ue(()=>import("./index-3e8c203f.js"),["assets/index-3e8c203f.js","assets/useUserTheme-cad0e91d.js","assets/useUserTheme-5f2d009e.css","assets/index-67fb8a4b.js","assets/index-566ac3e3.js","assets/useSearchContext-11e6a931.js","assets/index-f91c493c.js","assets/index-6c03e0d3.js","assets/index-fac269b5.js","assets/index-86281d15.js","assets/dimensions-1922ff5f.js","assets/SpinnerCircularFixed-2623c82b.js"])),Vr=p.lazy(()=>ue(()=>import("./index-3b25a154.js"),["assets/index-3b25a154.js","assets/useUserTheme-cad0e91d.js","assets/useUserTheme-5f2d009e.css","assets/index-67fb8a4b.js","assets/index-566ac3e3.js","assets/useSearchContext-11e6a931.js","assets/index-f91c493c.js","assets/index-6c03e0d3.js","assets/index-fac269b5.js","assets/index-86281d15.js","assets/dimensions-1922ff5f.js","assets/SpinnerCircularFixed-2623c82b.js"])),Or=p.lazy(()=>ue(()=>import("./index-f4a700fe.js"),["assets/index-f4a700fe.js","assets/useUserTheme-cad0e91d.js","assets/useUserTheme-5f2d009e.css","assets/index-67fb8a4b.js","assets/index-566ac3e3.js","assets/useSearchContext-11e6a931.js","assets/index-f91c493c.js","assets/index-6c03e0d3.js","assets/index-fac269b5.js","assets/index-86281d15.js","assets/dimensions-1922ff5f.js","assets/SpinnerCircularFixed-2623c82b.js"])),{getColor:Wr}=Q,Ae={query:"",searchTypes:[]},Vo=p.createContext({...Ae,onSetActiveTab:Dt}),jr=()=>{const e=I(),{color:t,colorMode:n}=F(),{isGuest:r,spacing:s}=X(),a=Ve(),i=qt(),v=ho(),f=Le(c=>c.users.data.activeUser.data.id),g=Le(c=>c.users.data.activeUser.data.recentSearches||[]),[h,S]=ie(yo),[w,C]=ie(),[k,y]=p.useState(tr),b=j(k),[P,R]=p.useState(Ee),ee=j(P),[B,K]=p.useState(),[L,W]=p.useState(),T=j(L),[A,H]=p.useState(),D=j(A),[Z,he]=p.useState(),z=j(Z),[oe,te]=p.useState(),q=j(oe),[pe,re]=p.useState(),$=j(pe),ye=$t({defaultValues:Ae,mode:"all"}),{control:ge,reset:G}=ye,We=Pe({control:ge,name:"query"}),M=j(We),me=Pe({control:ge,name:"searchTypes"}),fe=j(me),ve=Et({props:{query:M},options:{enabled:!1,onSuccess:c=>{let l=[];c.pages.forEach(d=>{l=[...l,...(d==null?void 0:d.results)||[]]}),K({page:c.pages[c.pages.length-1].page,results:u.uniqBy([...l],"id"),total_pages:c.pages[c.pages.length-1].total_pages,total_results:c.pages[c.pages.length-1].total_results})}}}),{refetch:be}=ve,je=Se({props:{mediaType:"movie",query:M},options:{enabled:!1,onSuccess:c=>{let l=[];c.pages.forEach(d=>{l=[...l,...(d==null?void 0:d.results)||[]]}),W({page:c.pages[c.pages.length-1].page,results:u.uniqBy([...l],"id"),total_pages:c.pages[c.pages.length-1].total_pages,total_results:c.pages[c.pages.length-1].total_results})}}}),{refetch:Oo}=je,Ne=Se({props:{mediaType:"tv",query:M},options:{enabled:!1,onSuccess:c=>{let l=[];c.pages.forEach(d=>{l=[...l,...(d==null?void 0:d.results)||[]]}),H({page:c.pages[c.pages.length-1].page,results:u.uniqBy([...l],"id"),total_pages:c.pages[c.pages.length-1].total_pages,total_results:c.pages[c.pages.length-1].total_results})}}}),{refetch:Wo}=Ne,Ue=Se({props:{mediaType:"person",query:M},options:{enabled:!1,onSuccess:c=>{let l=[];c.pages.forEach(d=>{l=[...l,...(d==null?void 0:d.results)||[]]}),he({page:c.pages[c.pages.length-1].page,results:u.uniqBy([...l],"id"),total_pages:c.pages[c.pages.length-1].total_pages,total_results:c.pages[c.pages.length-1].total_results})}}}),{refetch:jo}=Ue,Ke=Se({props:{mediaType:"collection",query:M},options:{enabled:!1,onSuccess:c=>{let l=[];c.pages.forEach(d=>{l=[...l,...(d==null?void 0:d.results)||[]]}),te({page:c.pages[c.pages.length-1].page,results:u.uniqBy([...l],"id"),total_pages:c.pages[c.pages.length-1].total_pages,total_results:c.pages[c.pages.length-1].total_results})}}}),{refetch:No}=Ke,Ge=Se({props:{mediaType:"company",query:M},options:{enabled:!1,onSuccess:c=>{let l=[];c.pages.forEach(d=>{l=[...l,...(d==null?void 0:d.results)||[]]}),re({page:c.pages[c.pages.length-1].page,results:u.uniqBy([...l],"id"),total_pages:c.pages[c.pages.length-1].total_pages,total_results:c.pages[c.pages.length-1].total_results})}}}),{refetch:Uo}=Ge,Ko=({index:c})=>{var l;(l=document.scrollingElement)==null||l.scrollTo(0,0),setTimeout(()=>R(c),500)},Go=()=>{const c=Dr({location:a,watchQuery:M,isSearchInputFocused:h,total:B==null?void 0:B.total_results});C[c?"on":"off"]()},Yo=({name:c})=>{c&&$e({query:c,searchTypes:fe})},Xo=()=>{const c=de.parse(a.search),l=c&&c.query&&typeof c.query=="string"?c.query:"",d=c&&c.searchTypes&&Array.isArray(c.searchTypes)?u.compact(c.searchTypes):[];G({query:l,searchTypes:d}),l&&$e({query:l,searchTypes:d})},Zo=p.useCallback(u.debounce(()=>{y(qr({movies:T==null?void 0:T.total_results,shows:D==null?void 0:D.total_results,people:z==null?void 0:z.total_results,collections:q==null?void 0:q.total_results,companies:$==null?void 0:$.total_results}))},250),[T,D,z,q,$]),$e=p.useCallback(u.debounce(({query:c,searchTypes:l})=>{if(y("hidden"),K(void 0),W(void 0),H(void 0),he(void 0),re(void 0),te(void 0),G({query:c.trim(),searchTypes:l}),R(Ee),!r){const d={id:zt(),label:c.trim(),searchedAt:uo(new Date).toISOString(),searchTypes:l},et=Eo(u.uniqBy([...g,d],"id")).desc(({searchedAt:ot})=>ot);v(po({id:f,data:[...et]}))}setTimeout(()=>{(l.length===0||l.some(d=>d==="movie"))&&Oo(),(l.length===0||l.some(d=>d==="tv"))&&Wo(),(l.length===0||l.some(d=>d==="person"))&&jo(),(l.length===0||l.some(d=>d==="collection"))&&No(),(l.length===0||l.some(d=>d==="company"))&&Uo()},250),i({...a,search:de.stringify({query:c.trim(),searchTypes:l})},{replace:!1})},250),[Ee,r,g,f,a]),Jo=()=>{y("hidden"),R(Ee),K(void 0),W(void 0),H(void 0),he(void 0),te(void 0),re(void 0),C.off(),S.on(),G({...Ae}),i({...a,search:""},{replace:!0})};return Qe(()=>{Go()},[a.search,M,h,B]),Qe(()=>{M.length>0&&be()},[M]),Qe(()=>{Zo()},[T,D,z,q,$]),lo(()=>{a.search.length>0?Xo():S.on()}),o(Vo.Provider,{value:{query:M,searchTypes:fe,onSetActiveTab:Ko},children:m(jt,{children:[o(Nt,{renderTitle:c=>o(V,{...c,children:"Search"}),renderSubtitle:c=>o(V,{...c,children:"Search anything from Movies, TV Shows, People, Collections or Companies"}),direction:"row",spacing:s,px:s,py:s*2}),o(Ut,{p:s,children:m(E,{width:"100%",divider:o(eo,{colorMode:n,mb:b!=="empty"?"0px !important":void 0}),spacing:s,children:[o(rr,{isFocused:h,onFocus:()=>S.on(),onBlur:()=>S.off(),children:{input:o(ir,{form:ye,isFocused:h,onFocus:()=>S.on(),onBlur:()=>S.off(),onClearQuery:()=>G({...Ae}),onSubmitQuery:$e}),collapsible:o($o,{children:w?o(Fe,{in:!0,style:{width:"100%"},children:o(kr,{query:ve,keywords:B,onKeywordClick:Yo})},"ds-edb-search-form-collapsible-content-1"):o(Fe,{in:!0,style:{width:"100%"},children:m(E,{width:"100%",divider:o(eo,{colorMode:n}),spacing:2,children:[o(_r,{form:ye}),!r&&g.length>0&&o(Ir,{onSearchClick:({label:c,searchTypes:l=[]})=>$e({query:c,searchTypes:l})})]})},"ds-edb-search-form-collapsible-content-2")}),info:o(Mo,{in:b==="single"||b==="multiple",style:{width:"100%"},children:o(Pr,{total:{movie:(T==null?void 0:T.total_results)||0,tv:(D==null?void 0:D.total_results)||0,person:(z==null?void 0:z.total_results)||0,company:($==null?void 0:$.total_results)||0,collection:(q==null?void 0:q.total_results)||0}})})}}),b==="empty"?o(Qt,{color:t,colorMode:n,borderWidth:"2px",borderStyle:"dashed",borderColor:Wr({theme:e,colorMode:n,type:"divider"}),borderRadius:"lg",children:m(At,{children:[m(Ft,{children:[o(Pt,{}),o(Lt,{children:`Unfortunately couldn't find anything that match with the query "${M}"`})]}),o(Rt,{renderActions:c=>o(ke,{...c,onClick:()=>Jo(),children:"Clear Search"})})]})}):(b==="single"||b==="multiple")&&o(J,{width:"100%",pt:b==="single"?s:0,children:b==="multiple"?o(ne,{fallback:o(or,{}),children:o(Lr,{activeTab:ee,movie:{query:je,data:L},tv:{query:Ne,data:A},person:{query:Ue,data:Z},collection:{query:Ke,data:oe},company:{query:Ge,data:pe}})}):m(p.Fragment,{children:[((T==null?void 0:T.total_results)||0)>0&&o(ne,{fallback:o(Ao,{}),children:o(Rr,{query:je,data:L})}),((D==null?void 0:D.total_results)||0)>0&&o(ne,{fallback:o(Fo,{}),children:o(Hr,{query:Ne,data:A})}),((z==null?void 0:z.total_results)||0)>0&&o(ne,{fallback:o(Po,{}),children:o(Br,{query:Ue,data:Z})}),((q==null?void 0:q.total_results)||0)>0&&o(ne,{fallback:o(zo,{}),children:o(Vr,{query:Ke,data:oe})}),(($==null?void 0:$.total_results)||0)>0&&o(ne,{fallback:o(Qo,{}),children:o(Or,{query:Ge,data:pe})})]})})]})})]})})},Jr=Object.freeze(Object.defineProperty({__proto__:null,SearchContext:Vo,default:jr},Symbol.toStringTag,{value:"Module"}));export{er as D,Ao as S,Fo as a,Po as b,zo as c,Qo as d,Ee as e,Vo as f,Jr as i};
