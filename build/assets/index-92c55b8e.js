import{a7 as M,a8 as L,E as e,bS as j,N as u,bT as F,bU as N,ai as $,bV as q,bW as X,bX as G,ao as k,ae as U,a9 as J,x as n,af as B,ax as K,d2 as Y,a6 as O,bP as D,aq as Z,ar as ee,aB as te,aC as oe,aD as ae,aE as ie,ah as I,L as ne,aQ as z,aR as C,ap as V,V as se,as as re,M as R,aV as w}from"./useUserTheme-cad0e91d.js";import{B as P,V as de,m as ce}from"./index-789eed9b.js";import"./index-f91c493c.js";import"./index-8754a0a6.js";import"./index-da6fdb45.js";import"./dimensions-1922ff5f.js";import"./index-490c57f0.js";import"./index-fac269b5.js";import"./index-86281d15.js";import"./index-65752566.js";import"./index-6c03e0d3.js";import"./index-566ac3e3.js";import"./index-059dc8bd.js";import"./index-67fb8a4b.js";import"./index-278c1566.js";import"./index-5e29d59e.js";import"./tabs-1769093c.js";import"./index-c7b185ee.js";import"./index-a6d2ef26.js";import"./index-6b3e9b0b.js";import"./tabs-8cea7072.js";const{getColor:le}=U,me=()=>{const t=M(),{color:r,colorMode:c}=L();return e(j,{color:r,colorMode:c,borderWidth:"2px",borderStyle:"dashed",borderColor:le({theme:t,colorMode:c,type:"divider"}),borderRadius:"lg",children:u(F,{children:[e(N,{renderIcon:l=>e($,{...l,width:t.fontSizes["6xl"],height:t.fontSizes["6xl"],fontSize:t.fontSizes["6xl"],icon:"bookmark_border"}),p:2}),u(q,{children:[e(X,{}),e(G,{children:`Unfortunately couldn't find anything in the list! Please add a ${k({type:"single",mediaType:"movie"})} or ${k({type:"single",mediaType:"tv"})} to be able to view it in the list.`})]})]})})},{convertREMToPixels:pe,convertStringToNumber:_}=U,ue=t=>{const r=M(),{color:c,colorMode:l}=L(),[h]=J(`(max-width: ${r.breakpoints.sm})`),p=n.useRef(null),{spacing:y}=B(),[f,{width:s}]=K(),{list:g,mediaType:T,onEditList:v,onDeleteList:S}=t,{id:E,label:b="",description:a,mediaItems:i}=g||{},d=((i==null?void 0:i.movie.length)||0)+((i==null?void 0:i.tv.length)||0),{start:W,update:A}=Y({ref:p,start:0,end:d,delay:_(r.transition.duration.slower,"ms")/1e3,duration:_(r.transition.duration.slower,"ms")/1e3,formattingFn:O.memoize(o=>T?`Total of ${D(o).format({average:!0})} ${k({type:d===1?"single":"multiple",mediaType:T})} in "${b}" list`:`Total of ${D(o).format({average:!0})} bookmarks in "${b}" list`),startOnMount:!1}),H=()=>{const o=pe(_(r.space[y],"rem"));return h?"100%":`calc(100% - ${s+o}px)`};return Z(()=>W()),ee(()=>A(d),[d]),u(te,{width:"100%",direction:h?"column":"row",alignItems:"center",justifyContent:"space-between",spacing:y*2,p:0,children:[e(oe,{width:H(),renderCaption:()=>e(ae,{color:c,colorMode:l,size:"xs",children:e(ie,{children:e("p",{ref:p})})}),renderTitle:o=>e(I,{...o,children:b||""}),renderSubtitle:a?o=>e(I,{...o,children:a}):void 0}),E!=="ds-edb-user-lists-watchlist"&&u(ne,{ref:f,width:h?"100%":"auto",height:"100%",spacing:y/2,children:[e(z,{color:c,colorMode:l,renderLeft:({color:o,colorMode:x,height:m})=>e($,{width:`${m}px`,height:`${m}px`,fontSize:`${m}px`,colorMode:x,icon:"edit",category:"outlined",skeletonColor:o}),onClick:()=>v(),variant:"outlined",children:"Edit"}),e(z,{color:"red",colorMode:l,renderLeft:({color:o,colorMode:x,height:m})=>e($,{width:`${m}px`,height:`${m}px`,fontSize:`${m}px`,colorMode:x,icon:"delete_outline",category:"outlined",skeletonColor:o}),onClick:()=>S(),variant:"outlined",children:"Delete"})]})]})},he=0,ye="hidden",be=n.lazy(()=>C(()=>import("./index-e334a8cf.js"),["assets/index-e334a8cf.js","assets/useUserTheme-cad0e91d.js","assets/useUserTheme-5f2d009e.css","assets/defaultPropValues-02a57de4.js","assets/index-6fc29f67.js","assets/index-86281d15.js","assets/index-0aab87dc.js","assets/index-7571088f.js","assets/index-789eed9b.js","assets/index-f91c493c.js","assets/index-8754a0a6.js","assets/index-da6fdb45.js","assets/dimensions-1922ff5f.js","assets/index-490c57f0.js","assets/index-fac269b5.js","assets/index-65752566.js","assets/index-6c03e0d3.js","assets/index-566ac3e3.js","assets/index-059dc8bd.js","assets/index-67fb8a4b.js","assets/index-278c1566.js","assets/index-5e29d59e.js","assets/tabs-1769093c.js","assets/index-c7b185ee.js","assets/index-a6d2ef26.js","assets/index-6b3e9b0b.js","assets/tabs-8cea7072.js","assets/index-0775bdaa.css"])),fe=n.lazy(()=>C(()=>import("./index-629ab913.js"),["assets/index-629ab913.js","assets/useUserTheme-cad0e91d.js","assets/useUserTheme-5f2d009e.css","assets/index-67fb8a4b.js","assets/index-566ac3e3.js"])),Te=n.lazy(()=>C(()=>import("./index-7c2ea6da.js"),["assets/index-7c2ea6da.js","assets/useUserTheme-cad0e91d.js","assets/useUserTheme-5f2d009e.css","assets/index-67fb8a4b.js","assets/index-566ac3e3.js"])),Q=["movie","tv"],Oe=({list:t,onEditList:r,onDeleteList:c})=>{const l=M(),{colorMode:h}=L(),{spacing:p}=B(),[y,f]=n.useState(ye),s=V(y),[g,T]=n.useState(),[v,S]=n.useState(he),E=V(v),b=n.useCallback(O.debounce(()=>{if(t&&t.mediaItems){let a=0,i,d;for(d in t.mediaItems)t.mediaItems[d].length>0&&(i=d,a=a+1);i&&a===1&&T(i),f(a===0?"empty":a===1?"single":"multiple")}},500),[t]);return n.useEffect(()=>{f("loading"),b()},[t]),u(se,{width:"100%",divider:e(re,{colorMode:h,mt:`${l.space[p]} !important`}),spacing:s!=="loading"&&s!=="multiple"?p:0,children:[e(R,{width:"100%",py:p*2,children:e(ue,{list:t,mediaType:g,onEditList:r,onDeleteList:c})}),s==="loading"?e(P,{mediaTypes:Q}):s==="empty"?e(me,{}):(s==="single"||s==="multiple")&&e(R,{width:"100%",children:s==="multiple"?e(w,{fallback:e(P,{mediaTypes:Q}),children:e(be,{type:"lists",mediaItems:(t==null?void 0:t.mediaItems)||{},activeTab:E,onChange:({index:a})=>S(a)})}):u(n.Fragment,{children:[((t==null?void 0:t.mediaItems.movie.length)||0)>0&&e(w,{fallback:e(de,{}),children:e(fe,{movies:(t==null?void 0:t.mediaItems.movie)||[]})}),((t==null?void 0:t.mediaItems.tv.length)||0)>0&&e(w,{fallback:e(ce,{}),children:e(Te,{shows:(t==null?void 0:t.mediaItems.tv)||[]})})]})})]})};export{Oe as default};
