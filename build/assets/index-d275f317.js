import{a7 as d,a8 as c,aX as h,E as e,aA as w,by as f,ag as y,ah as $,ae as m,cR as X,bM as W,bN as S,dH as k,aL as z,dE as q,ay as G,az as K,dn as Y,dI as Z,a6 as ee,dJ as te,a9 as oe,cO as se,x as ie,aP as ae,aw as ne,bI as re,J as le,N as u,L as de,V as D,M as ce,aD as he,aE as me}from"./useUserTheme-cad0e91d.js";const{getColor:pe}=m,ge=a=>{const t=d(),{colorMode:s}=c(),o=h({base:"xs",sm:"sm",md:"md",lg:"lg",xl:"xl","2xl":"xl"}),{overview:i,inView:n}=a;return e(w,{width:"100%",maxWidth:"100%",height:`${f({theme:t,fontSize:o,lineHeight:"normal"})}px`,children:e(y,{colorMode:s,isLoaded:n&&!!i,variant:"text",speed:-1,children:e($,{align:"left",fontSize:o,fontWeight:"normal",color:pe({theme:t,colorMode:s,type:"text.secondary"}),lineHeight:"normal",noOfLines:1,children:i||"Episode Overview"})})})},xe=a=>{const t=h({base:"md",sm:"lg",md:"xl",lg:"2xl",xl:"3xl","2xl":"4xl"}),{vote_average:s,vote_count:o}=a;return e(X,{rating:s,count:o,size:t})},{getColor:ue}=m,be=a=>{const t=d(),{colorMode:s}=c(),o=h({base:"xs",sm:"sm",md:"md",lg:"lg",xl:"xl","2xl":"xl"}),{air_date:i,inView:n}=a;return e(w,{width:"100%",maxWidth:"100%",height:`${f({theme:t,fontSize:o,lineHeight:"normal"})}px`,children:e(y,{colorMode:s,isLoaded:n&&!!i,variant:"text",speed:-1,children:e($,{align:"left",fontSize:o,fontWeight:"normal",color:ue({theme:t,colorMode:s,type:"text.secondary"}),lineHeight:"normal",noOfLines:1,children:W({date:i||S(new Date).toISOString()})})})})},{getColor:ve}=m,we=a=>{const t=d(),{colorMode:s}=c(),o=h({base:"md",sm:"lg",md:"xl",lg:"2xl",xl:"3xl","2xl":"4xl"}),{name:i,inView:n}=a;return e(w,{width:"100%",maxWidth:"100%",height:`${f({theme:t,fontSize:o,lineHeight:"normal"})}px`,children:e(y,{colorMode:s,isLoaded:n&&!!i,variant:"text",speed:-1,children:e($,{align:"left",fontSize:o,fontWeight:"semibold",color:ve({theme:t,colorMode:s,type:"text.primary"}),lineHeight:"normal",noOfLines:1,children:i||"Episode Name"})})})},{getHue:fe}=m,v=["100px","132px","164px","196px","228px","260px"],H={width:"inherit",height:"inherit",borderRadius:"inherit"},ye=k({type:"still",mode:"thumbnail"}),$e=k({type:"still",mode:"full"}),Se=a=>{const t=d(),{colorMode:s}=c(),{id:o,still_path:i,name:n,inView:r}=a,p=z(q()),g=z(n?`${n} episode poster`:"Episode poster");return e(G,{...H,width:v,ratio:K({orientation:"portrait"}),overflow:"hidden",borderRadius:"base",children:e(Y,{...H,alt:g,src:{boring:r?Z({id:o?String(o):p,colors:ee.omit({...t.colors},["transparent","black","white"]),hue:fe({colorMode:s,type:"color"}),size:500,variant:te({mediaType:"tv"})}):void 0,thumbnail:r?`https://image.tmdb.org/t/p/${ye}${i}`:void 0,full:r?`https://image.tmdb.org/t/p/${$e}${i}`:void 0}})})},{convertREMToPixels:T,convertStringToNumber:b}=m,l=2,Ve=W({date:S(new Date).toISOString()}),Ie=a=>{const t=d(),{color:s,colorMode:o}=c(),[i]=oe(`(max-width: ${t.breakpoints.sm})`),{observe:n,inView:r}=se({unobserveOnEnter:!0,rootMargin:`-${T(b(t.space[4],"rem"))}px 0px`}),p=h({base:0,sm:1,md:2,lg:3,xl:4,"2xl":5}),{episode:g,badgeLabel:V,isDisabled:E=!1,isFullWidth:I=!0,isLight:O=!0,...R}=a,{show_id:B,id:N,season_number:A,episode_number:j,still_path:F,air_date:x,name:C,vote_average:M,vote_count:P,overview:L}=g,_=S(x).isAfter(Ve),J=ie.useCallback(()=>{const Q=b(v[p||0],"px"),U=T(b(t.space[l],"rem"));return`calc(100% - ${Q+U}px)`},[v,l]);return e(ae,{to:{pathname:`/${ne({mediaType:"tv"})}/${B}/seasons/${A}/episodes/${j}`},isDisabled:E||_,isFullWidth:I,children:e(re,{...R,ref:n,colorMode:o,isClickable:!_,isDisabled:E,isFullWidth:I,isLight:O,children:e(le,{children:u(de,{width:"100%",position:"relative",overflow:"hidden",spacing:l,p:l,children:[e(Se,{id:N,still_path:F,name:C,inView:r}),u(D,{width:J(),alignItems:"flex-start",spacing:l,children:[M&&e(xe,{vote_average:M,vote_count:P}),u(D,{width:"100%",alignItems:"flex-start",spacing:.5,children:[e(we,{name:C,inView:r}),!!x&&e(be,{air_date:x,inView:r})]}),!!L&&e(ge,{overview:L,inView:r})]}),V&&e(ce,{position:"absolute",top:l,right:l,children:e(he,{color:s,colorMode:o,size:i?"xs":"sm",variant:"contained",children:e(me,{children:V})})})]})})})})};export{Ie as V};
